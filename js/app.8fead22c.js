(function(t){function e(e){for(var r,s,o=e[0],l=e[1],c=e[2],u=0,v=[];u<o.length;u++)s=o[u],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&v.push(n[s][0]),n[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);d&&d(e);while(v.length)v.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],r=!0,s=1;s<a.length;s++){var l=a[s];0!==n[l]&&(r=!1)}r&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var r={},n={app:0},i=[];function s(t){return o.p+"js/"+({pdfjsWorker:"pdfjsWorker"}[t]||t)+"."+{pdfjsWorker:"dcd3b2b3"}[t]+".js"}function o(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.e=function(t){var e=[],a=n[t];if(0!==a)if(a)e.push(a[2]);else{var r=new Promise((function(e,r){a=n[t]=[e,r]}));e.push(a[2]=r);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=s(t);var c=new Error;i=function(e){l.onerror=l.onload=null,clearTimeout(u);var a=n[t];if(0!==a){if(a){var r=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",c.name="ChunkLoadError",c.type=r,c.request=i,a[1](c)}n[t]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(e)},o.m=t,o.c=r,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(a,r,function(e){return t[e]}.bind(null,r));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/tridoc-cockpit/",o.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var d=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"02cb":function(t,e,a){"use strict";var r=a("b278"),n=a.n(r);n.a},"0422":function(t,e,a){"use strict";var r=a("f932"),n=a.n(r);n.a},"0a54":function(t,e,a){"use strict";var r=a("526e"),n=a.n(r);n.a},1:function(t,e){},"12ea":function(t,e,a){},2:function(t,e){},"231e":function(t,e,a){"use strict";var r=a("a56e"),n=a.n(r);n.a},3:function(t,e){},"37b0":function(t,e,a){"use strict";var r=a("382f"),n=a.n(r);n.a},"382f":function(t,e,a){},4:function(t,e){},"48a6":function(t,e,a){},"4fbc":function(t,e,a){},"526e":function(t,e,a){},"5c0b":function(t,e,a){"use strict";var r=a("9c0c"),n=a.n(r);n.a},"99d6":function(t,e,a){"use strict";var r=a("a491"),n=a.n(r);n.a},"9c0c":function(t,e,a){},a107:function(t,e,a){"use strict";var r=a("edc9"),n=a.n(r);n.a},a491:function(t,e,a){},a56e:function(t,e,a){},b278:function(t,e,a){},cd49:function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-view")},i=[],s=a("d4ec"),o=a("bee2"),l=a("99de"),c=a("7e84"),u=a("262e"),d=a("9ab4"),v=a("60a3"),p=(a("ff00"),a("12ea"),function(t){function e(){return Object(s["a"])(this,e),Object(l["a"])(this,Object(c["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),Object(o["a"])(e,[{key:"changeDarkmode",value:function(t){this.$vuetify.theme.dark=t}},{key:"created",value:function(){this.$store.dispatch("restore")}}]),e}(v["d"]));Object(d["a"])([Object(v["e"])("$store.state.viewSettings.darkMode")],p.prototype,"changeDarkmode",null),p=Object(d["a"])([Object(v["a"])({})],p);var m=p,f=m,h=(a("5c0b"),a("2877")),b=Object(h["a"])(f,n,i,!1,null,null,null),g=b.exports,y=a("f309"),k=a("fcf4");r["a"].use(y["a"]);var _=new y["a"]({theme:{themes:{light:{primary:"#00685b",secondary:"#c86852",accent:"#f86158",error:k["a"].red.base},dark:{primary:{base:"#00887b",darken1:"#00887b"},secondary:{base:"#ec8d79",darken1:"#ffb39b"},accent:"#f86158",error:k["a"].red.base}}}}),w=a("8c4f"),x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-navigation-drawer",{attrs:{clipped:t.$vuetify.breakpoint.mdAndUp,app:"",width:"288"},scopedSlots:t._u([{key:"append",fn:function(){return[a("v-divider"),a("v-list",{attrs:{nav:"",dense:""}},[t.$store.getters.server?a("v-list-item",{attrs:{disabled:""}},[a("v-list-item-content",[a("v-list-item-subtitle",[t._v(t._s(t.$store.getters.server.url))])],1)],1):t._e()],1)]},proxy:!0}]),model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("div",{staticClass:"pa-3"},[a("v-subheader",[t._v("TAGS")]),a("tag-creator",{on:{tagcreated:t.reload,error:function(e){return t.onError({title:t.r.error,message:t.r.message})}}}),t._l(t.tags,(function(e){return a("tag-filter",{key:e.label,attrs:{tag:e,reload:t.reload,getDocuments:t.getDocuments,error:t.onError,deleteTag:t.deleteTag,tags:t.tags,search:t.search},on:{"update:search":function(e){t.search=e}}})})),a("v-btn",{staticClass:"my-2",attrs:{block:"",outlined:"",text:"",small:"",color:"error accent-1"},on:{click:t.clearTags}},[t._v(" Clear Tag Filters ")]),a("v-btn",{staticClass:"my-2",attrs:{block:"",outlined:"",text:"",small:"",color:"error accent-1"},on:{click:t.clearSearch}},[t._v(" Clear All Filters ")])],2)]),a("settings-drawer",{attrs:{open:t.settingsOpen},on:{"update:open":function(e){t.settingsOpen=e},save:t.serverchange,delete:t.serverremove}}),a("help-drawer",{attrs:{open:t.helpOpen},on:{"update:open":function(e){t.helpOpen=e}}}),a("v-app-bar",{attrs:{"clipped-left":"",app:"",color:"primary","elevate-on-scroll":"",dark:""}},[a("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("v-app-bar-nav-icon",t._g(t._b({on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}},"v-app-bar-nav-icon",n,!1),r),[a("v-icon",[t._v("mdi-tag-multiple")])],1)]}}])},[t._v(" Tag filters ")]),a("v-toolbar-title",{staticClass:"hidden-sm-and-down",staticStyle:{width:"300px"}},[a("strong",[t._v("tridoc")])]),a("v-spacer"),a("v-text-field",{attrs:{flat:"","solo-inverted":"","hide-details":"",clearable:"","dclear-icon":"mdi-filter-remove","prepend-inner-icon":"mdi-magnify",label:"Search"},on:{change:t.getDocuments,"click:clear":function(e){t.search.text="",t.reload()}},model:{value:t.search.text,callback:function(e){t.$set(t.search,"text",e)},expression:"search.text"}}),a("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:""},on:{click:t.reload}},"v-btn",n,!1),r),[a("v-icon",[t._v("mdi-refresh")])],1)]}}])},[t._v(" Refresh ")]),a("v-spacer"),a("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.helpOpen=!t.helpOpen}}},"v-btn",n,!1),r),[a("v-icon",[t._v("mdi-help-circle")])],1)]}}])},[t._v(" Help & About ")]),a("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.settingsOpen=!t.settingsOpen}}},"v-btn",n,!1),r),[a("v-icon",[t._v("mdi-cog")])],1)]}}])},[t._v(" Settings ")])],1),a("v-main",{attrs:{app:""}},[a("v-container",{staticClass:"sfill-height",attrs:{fluid:""},on:{drag:function(t){t.stopPropagation(),t.preventDefault()},dragstart:function(t){t.stopPropagation(),t.preventDefault()},dragend:function(t){t.stopPropagation(),t.preventDefault()},dragover:function(t){t.stopPropagation(),t.preventDefault()},dragenter:function(t){t.stopPropagation(),t.preventDefault()},dragleave:function(t){t.stopPropagation(),t.preventDefault()},drop:function(e){return e.stopPropagation(),e.preventDefault(),t.addFile(e)}}},[a("v-row",{attrs:{align:"start"}},[a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("error-dialog",{attrs:{error:t.error,close:function(){return t.error=null}}})],1)],1),a("v-row",{staticClass:"mt-3",attrs:{align:"start"}},[a("v-col",{attrs:{cols:"12"}},[a("v-card",{attrs:{outlined:""}},[a("v-data-table",{attrs:{"disable-sort":"","disable-filtering":"",headers:t.headers,items:t.docs,options:t.options,"server-items-length":t.count,loading:t.loading,"item-key":"identifier","no-data-text":"No documents found","hide-default-footer":""},on:{"click:row":function(e){return t.openDocumentView(e.identifier)}},scopedSlots:t._u([{key:"item.title",fn:function(e){var r=e.item;return[t._v(" "+t._s(r.title)+" "),r.title?t._e():a("i",[t._v("Untitled Document")])]}},{key:"item.tags",fn:function(e){var r=e.item;return[a("div",{style:t.$vuetify.breakpoint.mdAndUp?"max-width:40vw;":"max-width:80vw;"},[a("v-chip-group",{attrs:{"show-arrows":t.$vuetify.breakpoint.mdAndUp,dcolumn:!t.$vuetify.breakpoint.mdAndUp,column:""}},t._l(r.tags,(function(e){return a("v-chip",{key:e.label+(e.parameter?e.parameter.value:""),attrs:{label:""}},[".."===e.label?a("v-icon",[t._v("mdi-sync")]):a("span",[t._v(t._s(e.label))]),e.parameter?a("v-divider",{staticClass:"mx-3",attrs:{vertical:""}}):t._e(),e.parameter?a("strong",["http://www.w3.org/2001/XMLSchema#decimal"===e.parameter.type?a("span",[t._v(t._s(e.parameter.value))]):a("local-time",{attrs:{datetime:e.parameter.value}},[t._v(t._s(e.parameter.value))])],1):t._e()],1)})),1)],1)]}},{key:"item.created",fn:function(e){var r=e.item;return[a("time-ago",{staticStyle:{"white-space":"nowrap"},attrs:{datetime:r.created}},[t._v(" "+t._s(r.created)+" ")])]}},{key:"item.identifier",fn:function(e){var r=e.item;return[a("pre",[t._v(t._s(r.identifier))])]}},{key:"item.actions",fn:function(e){var r=e.item;return[a("div",{staticClass:"d-flex ml-n7 mr-n3"},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"ma-1",attrs:{outlined:"",text:"",small:"",color:"primary darken-1",link:""},on:{click:function(e){return e.stopPropagation(),t.openDocument(r.identifier)}}},"v-btn",i,!1),n),[a("v-icon",{attrs:{small:""}},[t._v("mdi-open-in-new")])],1)]}}],null,!0)},[a("small",[t._v("Open document directly"),a("br"),t._v("Opens in new Tab")])]),a("v-btn",{staticClass:"ma-1",attrs:{small:"",color:"primary",href:"./doc/"+r.identifier+"?s="+t.$store.getters.server.url},on:{click:function(t){t.stopPropagation()}}},[a("v-icon",{attrs:{small:"",left:!t.$vuetify.breakpoint.sm}},[t._v("mdi-file-eye-outline")]),a("span",{attrs:{hidden:t.$vuetify.breakpoint.sm}},[t._v("Open")])],1)],1)]}}])})],1)],1)],1),a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"auto",align:"center"}},[a("v-btn",{staticClass:"ma-2",attrs:{disabled:t.options.page<2,outlined:"",text:"",fab:"",small:""},on:{click:function(e){return t.paginationFirst()}}},[a("v-icon",[t._v("mdi-page-first")])],1),a("v-btn",{staticClass:"ma-2",attrs:{disabled:t.options.page<2,outlined:"",text:"",fab:"",small:""},on:{click:function(e){return t.paginationPrev()}}},[a("v-icon",[t._v("mdi-chevron-left")])],1),a("span",{staticClass:"ma-2"},[t._v(" "+t._s(t.docscounter())+" ")]),a("span",{staticClass:"ma-2"},[t._v(" page "+t._s(t.pagecounter())+" ")]),a("v-btn",{staticClass:"ma-2",attrs:{disabled:t.options.page*t.options.itemsPerPage>=t.count,outlined:"",text:"",fab:"",small:""},on:{click:function(e){return t.paginationNext()}}},[a("v-icon",[t._v("mdi-chevron-right")])],1),a("v-btn",{staticClass:"ma-2",attrs:{disabled:t.options.page*t.options.itemsPerPage>=t.count,outlined:"",text:"",fab:"",small:""},on:{click:function(e){return t.paginationLast()}}},[a("v-icon",[t._v("mdi-page-last")])],1)],1)],1),a("v-row",{attrs:{align:"start"}},[a("v-col",{attrs:{cols:"12"}},[a("v-card",{attrs:{outlined:""}},[a("v-data-table",{attrs:{"disable-sort":"","disable-filtering":"",headers:t.uploadHeaders,items:t.uploadDocs,"item-key":"file.name","disable-pagination":"","hide-default-footer":"","hide-default-header":"","no-data-text":"Drop documents here to upload"},scopedSlots:t._u([{key:"item.actions",fn:function(e){var r=e.item;return[a("div",{staticClass:"mr-n3"},[a("v-btn",{staticClass:"ma-1",attrs:{small:"",text:"",outlined:"",color:"error accent-1"},on:{click:function(e){return t.removeUploadDocument(r)}}},[a("v-icon",{attrs:{small:"",left:!t.$vuetify.breakpoint.sm}},[t._v("mdi-close")]),a("span",{attrs:{hidden:t.$vuetify.breakpoint.sm}},[t._v("Cancel")])],1),a("v-btn",{staticClass:"ma-1",attrs:{small:"",color:"primary",loading:r.loading},on:{click:function(e){return t.uploadDocument(r)}}},[a("v-icon",{attrs:{small:"",left:!t.$vuetify.breakpoint.sm}},[t._v("mdi-upload")]),a("span",{attrs:{hidden:t.$vuetify.breakpoint.sm}},[t._v("Upload")])],1)],1)]}},{key:"footer",fn:function(){return[a("v-divider"),a("div",{staticClass:"d-flex"},[a("v-btn",{staticClass:"ma-2",attrs:{outlined:"",small:"",text:"",color:"primary"}},[a("span",[t._v("Add File")]),a("input",{attrs:{type:"file"},on:{change:t.addFileInput}})]),a("v-spacer"),a("v-btn",{staticClass:"ma-2",attrs:{outlined:"",small:"",text:"",color:"primary",disabled:0===t.uploadDocs.length},on:{click:t.uploadAll}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-upload")]),a("span",[t._v("Upload All")])],1)],1)]},proxy:!0}])})],1)],1)],1)],1)],1)],1)},O=[],j=(a("99af"),a("4de4"),a("c740"),a("4160"),a("baa5"),a("d81d"),a("a434"),a("b0c0"),a("d3b7"),a("ac1f"),a("25f0"),a("5319"),a("841c"),a("2ca0"),a("159b"),a("2909")),S=a("5530"),C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-navigation-drawer",{staticClass:"top",attrs:{app:"","mobile-breakpoint":"0",width:t.$vuetify.breakpoint.smAndUp?432:"100vw",temporary:"",right:"",absolute:""},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("v-app-bar",{attrs:{fixed:"",dark:"",color:"primary",flat:"","elevate-on-scroll":""}},[a("v-toolbar-title",[t._v("Settings")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.show=!1}}},[a("v-icon",[t._v("mdi-close")])],1)],1)],1),a("v-main",{staticClass:"scroll"},[a("v-container",{staticClass:"px-4 pb-0",attrs:{fluid:""}},[a("v-row",[a("v-col",{staticClass:"pt-4"},[a("v-label",{attrs:{for:"dmswitch"}},[t._v(" Dark Mode ")])],1),a("v-col",{attrs:{cols:"auto"}},[a("v-switch",{staticClass:"my-0 ml-2 mr-n3",attrs:{id:"dmswitch",inset:"","hide-details":""},model:{value:t.viewSettingsDark,callback:function(e){t.viewSettingsDark=e},expression:"viewSettingsDark"}})],1)],1),a("v-row",[a("v-col",{staticClass:"pt-4"},[a("v-label",{attrs:{disabled:"",for:"dmswitch"}},[t._v(" Dense ")])],1),a("v-col",{attrs:{cols:"auto"}},[a("v-switch",{staticClass:"my-0 ml-2 mr-n3",attrs:{id:"dmswitch",inset:"","hide-details":"",disabled:""},model:{value:t.viewSettingsDense,callback:function(e){t.viewSettingsDense=e},expression:"viewSettingsDense"}})],1)],1),a("v-row",[a("v-col",[a("v-divider")],1)],1),a("v-row",{staticClass:"mb-4"},[a("v-col",[a("v-btn",{attrs:{color:"primary",block:""},on:{click:t.addRow}},[t._v("Add Server")])],1)],1),t._l(t.iservers,(function(e,r){return a("v-form",{key:e.id,ref:1e3*(e.id+1)+r+1,refInFor:!0,model:{value:e.valid,callback:function(a){t.$set(e,"valid",a)},expression:"server.valid"}},[a("v-row",{staticClass:"mx-n3",attrs:{dense:""}},[a("v-col",{attrs:{cols:"auto"}},[a("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function(n){var i=n.on,s=n.attrs;return[a("v-btn",t._g(t._b({staticClass:"m",attrs:{icon:"",color:r===t.$store.state.currentServer||t.isModified(e,r)?"primary darken-1":""},on:{click:function(a){return t.save(r,e)}}},"v-btn",s,!1),i),[t.isModified(e,r)?a("v-icon",[t._v("mdi-content-save")]):r===t.$store.state.currentServer?a("v-icon",[t._v("mdi-checkbox-marked-circle-outline")]):a("v-icon",[t._v("mdi-checkbox-blank-circle-outline")])],1)]}}],null,!0)},[t.isModified(e,r)?a("span",[t._v("Save changes")]):r===t.$store.state.currentServer?a("span",[t._v("Selected")]):a("span",[t._v("Select")])])],1),a("v-col",[a("v-text-field",{attrs:{outlined:"",rules:t.urlRules,label:"Server URL",required:""},model:{value:e.url,callback:function(a){t.$set(e,"url",a)},expression:"server.url"}})],1),a("v-col",[a("v-text-field",{attrs:{outlined:"",type:"password",rules:t.passwordRules,label:"Password",required:""},model:{value:e.password,callback:function(a){t.$set(e,"password",a)},expression:"server.password"}})],1),a("v-col",{attrs:{cols:"auto"}},[a("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"m",attrs:{icon:"",color:"red accent-1"},on:{click:function(e){return t.remove(r)}}},"v-btn",i,!1),n),[a("v-icon",[t._v("mdi-delete")])],1)]}}],null,!0)},[t._v(" Remove ")])],1)],1)],1)})),a("v-row",[a("v-col",[a("v-divider")],1)],1),a("v-row",{staticClass:"mb-3"},[a("v-col",[a("v-btn",{attrs:{block:"",disabled:""}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-package-down")]),t._v(" Export Backup ")],1)],1)],1)],2)],1)],1)},$=[],V=(a("3ca3"),a("ddb0"),a("2b3d"),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t.startsWith("http://")&&t.startsWith("https://")||(t="https://"+t);try{var e=new URL(t);return e.href.replace(/\/$/,"")}catch(a){return!1}}),D=function(){var t=0;return function(){return t++}}(),T=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(l["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.iservers=t.$store.state.servers.map((function(e){var a=e.password,r=e.url;return{id:t.counter(),valid:!1,password:a,url:r}})),t.valid=!1,t.urlRules=[function(t){return!!t||"URL is required"},function(t){var e=V(t);return!!e||"URL has to be valid"}],t.passwordRules=[function(t){return!!t||"Password is required"}],t}return Object(u["a"])(e,t),Object(o["a"])(e,[{key:"onServersChanged",value:function(){var t=this;this.iservers=this.$store.state.servers.map((function(e){var a=e.password,r=e.url;return{id:t.counter(),valid:!1,password:a,url:r}}))}},{key:"counter",value:function(){return D()}},{key:"save",value:function(t,e){var a=e.url,r=e.password,n=e.valid;n&&this.$emit("save",{index:t,url:a,password:r})}},{key:"remove",value:function(t){this.$emit("delete",t)}},{key:"addRow",value:function(){this.iservers.push({id:this.counter(),password:"",url:"",valid:!1})}},{key:"isModified",value:function(t,e){return!this.$store.state.servers[e]||!this.$store.state.servers[e].url||!this.$store.state.servers[e].password||this.$store.state.servers[e].url!==t.url||this.$store.state.servers[e].password!==t.password}},{key:"viewSettingsDark",get:function(){return this.$store.state.viewSettings.darkMode},set:function(t){this.$store.commit("viewSettings",{darkMode:t})}},{key:"viewSettingsDense",get:function(){return this.$store.state.viewSettings.dense},set:function(t){this.$store.commit("viewSettings",{dense:t})}}]),e}(v["d"]);Object(d["a"])([Object(v["c"])("open")],T.prototype,"show",void 0),Object(d["a"])([Object(v["e"])("servers",{deep:!0})],T.prototype,"onServersChanged",null),T=Object(d["a"])([Object(v["a"])({})],T);var M=T,P=M,A=(a("02cb"),a("6544")),R=a.n(A),I=a("40dc"),L=a("8336"),q=a("62ad"),E=a("a523"),U=a("ce7e"),F=a("4bd4"),N=a("132d"),z=a("24c9"),B=a("f6c4"),W=a("f774"),G=a("0fd9"),H=a("2fa4"),Y=a("b73d"),J=a("8654"),X=a("2a7f"),K=a("3a2f"),Q=Object(h["a"])(P,C,$,!1,null,"481b0ff0",null),Z=Q.exports;R()(Q,{VAppBar:I["a"],VBtn:L["a"],VCol:q["a"],VContainer:E["a"],VDivider:U["a"],VForm:F["a"],VIcon:N["a"],VLabel:z["a"],VMain:B["a"],VNavigationDrawer:W["a"],VRow:G["a"],VSpacer:H["a"],VSwitch:Y["a"],VTextField:J["a"],VToolbarItems:X["a"],VToolbarTitle:X["b"],VTooltip:K["a"]});var tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-navigation-drawer",{staticClass:"top",attrs:{app:"","mobile-breakpoint":"0",width:t.$vuetify.breakpoint.smAndUp?432:"100vw",temporary:"",right:"",absolute:""},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("v-app-bar",{attrs:{fixed:"",dark:"",color:"primary",flat:"","elevate-on-scroll":""}},[a("v-toolbar-title",[t._v("Help & About")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.show=!1}}},[a("v-icon",[t._v("mdi-close")])],1)],1)],1),a("v-main",{staticClass:"scroll"},[a("v-container",{staticClass:"px-4",attrs:{fluid:""}},[a("h2",{staticClass:"mb-3"},[t._v("Help")]),a("h3",[t._v("Server")]),a("p",[t._v(" Set your server in the settings. They’re accessible via the cog icon in the top right corner (only visible after closing this window). If you haven’t access to any server, "),a("a",{attrs:{href:"https://github.com/tridoc/tridoc-backend/blob/master/README.md"}},[t._v("learn how to set one up")]),t._v(". ")]),a("h3",[t._v("Tags and Filters")]),a("p",[t._v(" Tridoc has an advanced tagging system with two kinds of tags: normal tags which behave as you’d expect and “parameterizable” tags which allow either a number or date to be set when adding them to documents. This allows for more specific filtering for certain ranges of values. The tag filters can be either in- or exclusive and are added together: A document must fulfil all filters to show up in the results. ")]),a("p",[t._v(" The search bar searches in document texts and titles. For this purpose, the server tries to do OCR (character recogintion) on all documents which don’t already contain text metadata. ")]),a("h3",[t._v("Comments")]),a("p",[t._v(" There exists the ability to add comments to documents. Currently, there is no way of deleting or editing comments. ")]),a("v-divider"),a("h2",{staticClass:"my-3"},[t._v("About Tridoc")]),a("p",[t._v(" Tridoc aims to provide easy document management for individuals and small teams. ")]),a("p",[t._v(" On the server-side, Tridoc runs using hapijs in node and fuseki. "),a("a",{attrs:{href:"https://github.com/tridoc/tridoc-backend"}},[t._v("View the repository of the backend.")])]),a("p",[t._v(" There also exists "),a("a",{attrs:{href:"https://github.com/tridoc/tridoc-folder"}},[t._v("a native program")]),t._v(" for easy upload from a folder on your computer. It doesn’t, however, provide any graphical user interface. ")]),a("p",[t._v(" If you’ve been using Evernote before, you can import your notebooks’ PDFs to tridoc with our "),a("a",{attrs:{href:"https://github.com/tridoc/tridoc-enex-importer"}},[t._v("Enex importer")]),t._v(". ")]),a("v-btn",{attrs:{block:"",href:"https://github.com/tridoc/tridoc-cockpit"}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-github")]),t._v(" View the repository on Github ")],1)],1)],1)],1)},et=[],at=function(t){function e(){return Object(s["a"])(this,e),Object(l["a"])(this,Object(c["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),e}(v["d"]);Object(d["a"])([Object(v["c"])("open")],at.prototype,"show",void 0),at=Object(d["a"])([Object(v["a"])({})],at);var rt=at,nt=rt,it=(a("231e"),Object(h["a"])(nt,tt,et,!1,null,"58b7b47e",null)),st=it.exports;R()(it,{VAppBar:I["a"],VBtn:L["a"],VContainer:E["a"],VDivider:U["a"],VIcon:N["a"],VMain:B["a"],VNavigationDrawer:W["a"],VSpacer:H["a"],VToolbarItems:X["a"],VToolbarTitle:X["b"]});var ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.error?a("v-card",{staticClass:"elevation-0 mt-3 pa-3",attrs:{color:t.color,dark:""}},[a("v-row",{staticClass:"ma-0 nowrap"},[a("div",[a("strong",[t._v(t._s(t.title))]),a("br"),a("span",[t._v(t._s(t.message))])]),a("v-spacer"),a("div",{staticClass:"vert"},[a("v-btn",{attrs:{color:t.color+" darken-3"},on:{click:t.close}},[t._v(" Dismiss ")])],1)],1)],1):t._e()},lt=[],ct=function(t){function e(){return Object(s["a"])(this,e),Object(l["a"])(this,Object(c["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),Object(o["a"])(e,[{key:"title",get:function(){return null!==this.error?this.error.title||"An Error Occured":"..."}},{key:"message",get:function(){return null!==this.error?this.error.message||"Unknown error":"..."}},{key:"color",get:function(){return null!==this.error?this.error.color||"error":"..."}}]),e}(v["d"]);Object(d["a"])([Object(v["b"])()],ct.prototype,"error",void 0),Object(d["a"])([Object(v["b"])()],ct.prototype,"close",void 0),ct=Object(d["a"])([Object(v["a"])({})],ct);var ut=ct,dt=ut,vt=(a("df06"),a("b0af")),pt=Object(h["a"])(dt,ot,lt,!1,null,"6c9ff424",null),mt=pt.exports;R()(pt,{VBtn:L["a"],VCard:vt["a"],VRow:G["a"],VSpacer:H["a"]});var ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{fullscreen:t.$vuetify.breakpoint.smAndDown,persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-btn",t._g({attrs:{block:"",noutlined:"",ntext:"",color:"primary"}},r),[a("v-icon",{attrs:{left:""}},[t._v("mdi-tag-plus")]),t._v(" Create Tag ")],1)]}}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Create Tag")])]),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:t.labelRules,label:"Label",required:""},model:{value:t.label,callback:function(e){t.label=e},expression:"label"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-radio-group",{model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[a("v-radio",{attrs:{value:"simple"},scopedSlots:t._u([{key:"label",fn:function(){return[a("v-icon",{attrs:{small:"",left:""}},[t._v("mdi-tag")]),t._v(" Not parameterizable ")]},proxy:!0}])}),a("v-radio",{attrs:{value:"decimal"},scopedSlots:t._u([{key:"label",fn:function(){return[a("v-icon",{attrs:{small:"",left:""}},[t._v("mdi-pound")]),t._v(" Parameterizable with number / decimal ")]},proxy:!0}])}),a("v-radio",{attrs:{value:"date"},scopedSlots:t._u([{key:"label",fn:function(){return[a("v-icon",{attrs:{small:"",left:""}},[t._v("mdi-calendar")]),t._v(" Parameterizable with date ")]},proxy:!0}])})],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"secondary darken-1",text:""},on:{click:t.clear}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"secondary darken-1",text:""},on:{click:function(e){t.show=!1}}},[t._v("Close")]),a("v-btn",{attrs:{color:"primary darken-1",text:""},on:{click:t.save}},[t._v("Save")])],1)],1)],1)},ht=[],bt=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(l["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.show=!1,t.valid=!1,t.label="",t.type="simple",t.labelRules=[function(t){return!!t||"Label is required"},function(t){return!/\s|\/|\\|#|"|'|,|;|:|\?/.test(t)||"The label must not contain any of the following: whitespace / \\ # \" ' , ; : ?"},function(t){return!/^[.]{1,2}$/.test(t)||"The label must not equal . (single dot) or .. (double dot)"}],t}return Object(u["a"])(e,t),Object(o["a"])(e,[{key:"clear",value:function(){this.show=!1,this.label="",this.type="simple",this.$refs.form.resetValidation()}},{key:"save",value:function(){var t=this;this.$refs.form.validate();var e=this.$store.getters.server.server;e&&this.valid&&e.createTag(this.label,"simple"!==this.type?this.type:void 0).then((function(e){e.error?(t.$emit("error",e),t.clear()):(t.$emit("tagcreated"),t.clear())}))}}]),e}(v["d"]);bt=Object(d["a"])([Object(v["a"])({})],bt);var gt=bt,yt=gt,kt=a("99d9"),_t=a("169a"),wt=a("67b6"),xt=a("43a6"),Ot=Object(h["a"])(yt,ft,ht,!1,null,null,null),jt=Ot.exports;R()(Ot,{VBtn:L["a"],VCard:vt["a"],VCardActions:kt["a"],VCardText:kt["c"],VCardTitle:kt["d"],VCol:q["a"],VContainer:E["a"],VDialog:_t["a"],VForm:F["a"],VIcon:N["a"],VRadio:wt["a"],VRadioGroup:xt["a"],VRow:G["a"],VSpacer:H["a"],VTextField:J["a"]});var St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"my-2",attrs:{outlined:""}},[a("div",{staticClass:"top"},[a("div",{staticClass:"label ml-2"},[t._v(t._s(t.tag.label))]),a("v-spacer"),a("div",{staticClass:"buttons"},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"ma-1",attrs:{icon:"",small:"",color:"red accent-1"},on:{click:t.askDeleteTag}},"v-btn",n,!1),r),[a("v-icon",{attrs:{small:""}},[t._v("mdi-delete")])],1)]}}])},[a("small",[t._v("Delete this tag")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"my-1",attrs:{icon:"",small:"",color:-1!==t.status[0].indexOf(t.tag.label)?"primary":""},on:{click:t.includeTag}},"v-btn",n,!1),r),[a("v-icon",[t._v(t._s(-1!==t.status[0].indexOf(t.tag.label)?"mdi-checkbox-marked":"mdi-check-box-outline"))])],1)]}}])},[a("small",[t._v("Show only Documents with this tag")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"my-1 mr-1",attrs:{icon:"",small:"",color:-1!==t.status[1].indexOf(t.tag.label)?"primary":""},on:{click:t.excludeTag}},"v-btn",n,!1),r),[a("v-icon",[t._v(t._s(-1!==t.status[1].indexOf(t.tag.label)?"mdi-close-box":"mdi-close-box-outline"))])],1)]}}])},[a("small",[t._v("Show only Documents without this tag")])])],1)],1),t.tag["type-icon"]?a("div",[t._l(t.status[2],(function(e,r){return a("range-input",{key:(e[3]?"y":"n")+"_"+r,attrs:{minimum:e[1],maximum:e[2],include:e[3],remove:t.removeRange,toggle:t.toggleRange,change:t.getDocuments,type:"mdi-pound"===t.tag["type-icon"]?"number":"date"},on:{"update:minimum":function(a){return t.$set(e,1,a)},"update:maximum":function(a){return t.$set(e,2,a)},"update:include":function(a){return t.$set(e,3,a)}}})})),a("v-divider"),a("v-btn",{attrs:{text:"",small:"",block:""},on:{click:t.addRange}},[a("v-icon",{attrs:{small:"",left:""}},[t._v(t._s(t.tag["type-icon"]))]),t._v(" Add Range Filter ")],1)],2):t._e()])},Ct=[],$t=(a("c975"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-divider"),"number"===t.type?a("div",{staticClass:"rangerow mx-2 mt-2"},[a("v-text-field",{attrs:{label:"From",outlined:"",dense:"","hide-details":"auto",type:"number"},model:{value:t.min,callback:function(e){t.min=e},expression:"min"}}),a("v-text-field",{attrs:{label:"To",outlined:"",dense:"","hide-details":"auto",type:"number"},model:{value:t.max,callback:function(e){t.max=e},expression:"max"}})],1):a("div",{staticClass:"rangerow mx-2 mt-2"},[a("v-menu",{ref:"minMenu",attrs:{"close-on-content-click":!1,"return-value":t.min,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(e){t.min=e},"update:return-value":function(e){t.min=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"From",outlined:"",dense:"","hide-details":"auto",rules:t.dateRules},on:{change:function(e){t.minDate=t.min||""}},model:{value:t.min,callback:function(e){t.min=e},expression:"min"}},"v-text-field",n,!1),r))]}}]),model:{value:t.minMenu,callback:function(e){t.minMenu=e},expression:"minMenu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.minDate,callback:function(e){t.minDate=e},expression:"minDate"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.minMenu=!1}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.minMenu.save(t.minDate)}}},[t._v(" OK ")])],1)],1),a("v-menu",{ref:"maxMenu",attrs:{"close-on-content-click":!1,"return-value":t.max,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(e){t.max=e},"update:return-value":function(e){t.max=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"To",outlined:"",dense:"","hide-details":"auto",rules:t.dateRules},on:{change:function(e){t.maxDate=t.max||""}},model:{value:t.max,callback:function(e){t.max=e},expression:"max"}},"v-text-field",n,!1),r))]}}]),model:{value:t.maxMenu,callback:function(e){t.maxMenu=e},expression:"maxMenu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.maxDate,callback:function(e){t.maxDate=e},expression:"maxDate"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.maxMenu=!1}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.maxMenu.save(t.maxDate)}}},[t._v(" OK ")])],1)],1)],1),a("div",{staticClass:"bottom"},[a("v-btn",{staticClass:"ma-1 ml-2",attrs:{text:"",small:""},on:{click:function(){return t.remove(t.min,t.max,t.inc)}}},[t._v("Remove")]),a("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(){return t.toggle(t.min,t.max,t.inc)}}},[a("v-icon",[t._v(t._s(t.inc?"mdi-check-box-outline":"mdi-close-box-outline"))])],1)],1)],1)}),Vt=[],Dt=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(l["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.minMenu=!1,t.maxMenu=!1,t.minDate="",t.maxDate="",t.dateRules=[function(t){return!t||/^\d{4}-\d{2}-\d{2}$/.test(t)&&!isNaN(new Date(t).getTime())||"Must be a date of format YYYY-MM-DD"}],t}return Object(u["a"])(e,t),Object(o["a"])(e,[{key:"changeM",value:function(){this.change()}}]),e}(v["d"]);Object(d["a"])([Object(v["c"])("minimum")],Dt.prototype,"min",void 0),Object(d["a"])([Object(v["c"])("maximum")],Dt.prototype,"max",void 0),Object(d["a"])([Object(v["c"])("include")],Dt.prototype,"inc",void 0),Object(d["a"])([Object(v["b"])()],Dt.prototype,"type",void 0),Object(d["a"])([Object(v["b"])()],Dt.prototype,"remove",void 0),Object(d["a"])([Object(v["b"])()],Dt.prototype,"toggle",void 0),Object(d["a"])([Object(v["b"])()],Dt.prototype,"change",void 0),Object(d["a"])([Object(v["e"])("min"),Object(v["e"])("max")],Dt.prototype,"changeM",null),Dt=Object(d["a"])([Object(v["a"])({})],Dt);var Tt=Dt,Mt=Tt,Pt=(a("0422"),a("2e4b")),At=a("e449"),Rt=Object(h["a"])(Mt,$t,Vt,!1,null,"141934ea",null),It=Rt.exports;R()(Rt,{VBtn:L["a"],VDatePicker:Pt["a"],VDivider:U["a"],VIcon:N["a"],VMenu:At["a"],VSpacer:H["a"],VTextField:J["a"]});var Lt=function(t){function e(){return Object(s["a"])(this,e),Object(l["a"])(this,Object(c["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),Object(o["a"])(e,[{key:"includeTag",value:function(){var t=this,e=this.dnsearch.nottags.findIndex((function(e){return e[0]===t.tag.label&&void 0===e[1]&&void 0===e[2]}));e>-1&&this.dnsearch.nottags.splice(e,1);var a=this.dnsearch.tags.findIndex((function(e){return e[0]===t.tag.label&&void 0===e[1]&&void 0===e[2]}));a>-1?this.dnsearch.tags.splice(a,1):this.dnsearch.tags.push([this.tag.label,void 0,void 0]),this.getDocuments()}},{key:"excludeTag",value:function(){var t=this,e=this.dnsearch.tags.findIndex((function(e){return e[0]===t.tag.label&&void 0===e[1]&&void 0===e[2]}));e>-1&&this.dnsearch.tags.splice(e,1);var a=this.dnsearch.nottags.findIndex((function(e){return e[0]===t.tag.label&&void 0===e[1]&&void 0===e[2]}));a>-1?this.dnsearch.nottags.splice(a,1):this.dnsearch.nottags.push([this.tag.label,void 0,void 0]),this.getDocuments()}},{key:"addRange",value:function(){this.dnsearch.tags.push([this.tag.label,void 0,void 0]),this.getDocuments()}},{key:"removeRange",value:function(t,e,a){a?this.dnsearch.tags.splice(this.dnsearch.tags.indexOf([this.tag.label,t,e]),1):this.dnsearch.nottags.splice(this.dnsearch.nottags.indexOf([this.tag.label,t,e]),1),this.getDocuments()}},{key:"toggleRange",value:function(t,e,a){a?(this.dnsearch.tags.splice(this.dnsearch.tags.indexOf([this.tag.label,t,e]),1),this.dnsearch.nottags.push([this.tag.label,t,e])):(this.dnsearch.nottags.splice(this.dnsearch.nottags.indexOf([this.tag.label,t,e]),1),this.dnsearch.tags.push([this.tag.label,t,e])),this.getDocuments()}},{key:"askDeleteTag",value:function(){confirm("Delete Tag “".concat(this.tag.label,"”?\nThis action cannot be undone."))&&(this.deleteTag(this.tag.label),this.reload())}},{key:"status",get:function(){var t=this,e=this.dnsearch.tags.filter((function(e){return e[0]===t.tag.label&&(void 0===e[1]||""===e[1])&&(void 0===e[2]||""===e[2])})).map((function(t){return t[0]})),a=this.dnsearch.nottags.filter((function(e){return e[0]===t.tag.label&&(void 0===e[1]||""===e[1])&&(void 0===e[2]||""===e[2])})).map((function(t){return t[0]})),r=this.dnsearch.tags.filter((function(e){return e[0]===t.tag.label})).map((function(t){return t[3]=!0,t})),n=this.dnsearch.nottags.filter((function(e){return e[0]===t.tag.label})).map((function(t){return t[3]=!1,t}));return[e,a,r.concat(n)]}}]),e}(v["d"]);Object(d["a"])([Object(v["b"])()],Lt.prototype,"reload",void 0),Object(d["a"])([Object(v["b"])()],Lt.prototype,"getDocuments",void 0),Object(d["a"])([Object(v["b"])()],Lt.prototype,"error",void 0),Object(d["a"])([Object(v["b"])()],Lt.prototype,"deleteTag",void 0),Object(d["a"])([Object(v["b"])()],Lt.prototype,"tag",void 0),Object(d["a"])([Object(v["c"])("search")],Lt.prototype,"dnsearch",void 0),Lt=Object(d["a"])([Object(v["a"])({components:{RangeInput:It}})],Lt);var qt=Lt,Et=qt,Ut=(a("a107"),Object(h["a"])(Et,St,Ct,!1,null,"75c22436",null)),Ft=Ut.exports;R()(Ut,{VBtn:L["a"],VCard:vt["a"],VDivider:U["a"],VIcon:N["a"],VSpacer:H["a"],VTooltip:K["a"]});var Nt=function(t){function e(){var t,a;return Object(s["a"])(this,e),a=Object(l["a"])(this,Object(c["a"])(e).apply(this,arguments)),a.error=null,a.settingsOpen=!1,a.helpOpen=!1,a.search={text:"",tags:[],nottags:[]},a.drawer=null,a.docs=[],a.count=0,a.headers=[{text:"Title",value:"title"},{text:"Tags",value:"tags"},{text:"Created",value:"created",align:"end"},{text:"",value:"actions",width:1}],a.loading=!0,a.options={page:null!==(t=a.page)&&void 0!==t?t:1,itemsPerPage:10},a.uploadDocs=[],a.uploadHeaders=[{text:"Name",value:"file.name"},{text:"",value:"actions",align:"end"}],a.tags=[],a}return Object(u["a"])(e,t),Object(o["a"])(e,[{key:"clearTags",value:function(){this.search.tags=[],this.search.nottags=[],this.getDocuments()}},{key:"clearSearch",value:function(){this.search.tags=[],this.search.nottags=[],this.search.text="",this.getDocuments()}},{key:"paginationFirst",value:function(){this.changePage(1)}},{key:"paginationPrev",value:function(){this.changePage(this.options.page-1)}},{key:"paginationNext",value:function(){this.changePage(this.options.page+1)}},{key:"paginationLast",value:function(){this.changePage(Math.ceil(this.count/this.options.itemsPerPage))}},{key:"changePage",value:function(t){this.options.page=Math.max(1,Math.min(t,Math.ceil(this.count/this.options.itemsPerPage))),this.$router.push({name:"home",query:{p:t.toString()}}),this.$nextTick().then(this.getDocuments)}},{key:"docscounter",value:function(){return"".concat(Math.max((this.options.page-1)*this.options.itemsPerPage+1,0)," to ").concat(Math.min(this.options.page*this.options.itemsPerPage,this.count)," of ").concat(this.count)}},{key:"pagecounter",value:function(){return"".concat(this.options.page," of ").concat(Math.ceil(this.count/this.options.itemsPerPage))}},{key:"openDocumentView",value:function(t){this.$router.push({name:"doc",params:{id:t},query:{s:this.$store.getters.server.url}})}},{key:"openDocument",value:function(t){var e=this.$store.getters.server.url.startsWith("https://")||this.$store.getters.server.url.startsWith("http://")?this.$store.getters.server.url:"https://"+this.$store.getters.server.url;window.open(e+"/doc/"+t,"_blank")}},{key:"getDocuments",value:function(){var t=this;this.search.text=this.search.text||"";var e,a,r=this.$store.getters.server.server;r?(this.loading=!0,r.countDocuments(this.search.text,this.search.tags,this.search.nottags).then((function(e){"number"===typeof e?(t.count=e,t.options.page=Math.min(Math.max(t.options.page,1),Math.ceil(t.count/t.options.itemsPerPage)),0===e&&(t.loading=!1)):t.error=Object(S["a"])({},e)})),this.options.itemsPerPage>0&&(e=this.options.itemsPerPage,a=(this.options.page-1)*e),r.getDocuments(this.search.text,this.search.tags,this.search.nottags,e,a).then((function(e){"error"in e?(t.error=Object(S["a"])({},e),t.loading=!1):(t.docs=e.map((function(t){var e=t.identifier,a=t.title,r=t.created;return a=a||"",{identifier:e,title:a,created:r,tags:[{label:".."}]}})),t.docs.forEach((function(e){r.getTags(e.identifier).then((function(a){"error"in a?t.error=Object(S["a"])({title:a.error},a):e.tags=a,t.loading=!1}))})))}))):(this.error={title:"No server configured",message:"Please add one via the settings.\nIf you’re new here, have a look at the help.",color:"warning darken-1"},this.loading=!1)}},{key:"updateDoc",value:function(t){this.docs.splice(this.docs.findIndex((function(e){return e.identifier===t.identifier})),1,t)}},{key:"addFile",value:function(t){var e,a=this,r=null===(e=t.dataTransfer)||void 0===e?void 0:e.files;r&&Object(j["a"])(r).forEach((function(t){"application/pdf"===t.type&&a.uploadDocs.push({loading:!1,file:t})}))}},{key:"addFileInput",value:function(t){var e=this,a=t.target.files;a&&(Object(j["a"])(a).forEach((function(t){"application/pdf"===t.type&&e.uploadDocs.push({loading:!1,file:t})})),t.target.value="",t.target.files=null)}},{key:"uploadAll",value:function(){this.uploadDocs.forEach(this.uploadDocument)}},{key:"uploadDocument",value:function(t){var e=this,a=this.$store.getters.server.server;a&&(t.loading=!0,a.uploadFile(t.file).then((function(r){"error"in r?e.error={title:"Could upload document",message:r.error}:a.setDocumentTitle(r.location.substring(r.location.lastIndexOf("/")+1),t.file.name.replace(/\.pdf$/,"")).then((function(a){"string"!==typeof a&&a.error&&(e.error={title:"Could not set title",message:a.error}),e.reload(),e.removeUploadDocument(t)}))}),(function(t){e.error={title:t.error||t,message:t.message||t}})).finally((function(){t.loading=!1})))}},{key:"removeUploadDocument",value:function(t){this.uploadDocs=this.uploadDocs.filter((function(e){return e!==t}))}},{key:"deleteTag",value:function(t){var e=this,a=this.$store.getters.server.server;a&&a.deleteTag(t).then((function(t){t.error?e.error=Object(S["a"])({},t,{message:t.error}):e.reload()}))}},{key:"serverchange",value:function(t){var e=t.url,a=t.password;this.$store.commit("selectServer",{url:e,password:a}),this.store(),this.reload()}},{key:"serverremove",value:function(t){this.$store.commit("removeServer",{index:t}),this.store(),this.reload()}},{key:"reload",value:function(){var t=this;this.reset(),this.getDocuments();var e=this.$store.getters.server.server;e&&e.getTags().then((function(e){"error"in e?t.error=Object(S["a"])({title:e.error},e):(t.tags=e.map((function(t){var e={icon:"mdi-tag",label:t.label,"type-icon":""};if(t.parameter)switch(t.parameter.type){case"http://www.w3.org/2001/XMLSchema#decimal":e["type-icon"]="mdi-pound";break;case"http://www.w3.org/2001/XMLSchema#date":e["type-icon"]="mdi-calendar";break;default:break}return e})),t.tags.sort((function(t,e){var a=t.label.toUpperCase(),r=e.label.toUpperCase();return a<r?-1:a>r?1:0})))}),(function(e){e instanceof Error?t.error={title:"A "+e.name+" occurred",message:e.message}:t.error=Object(S["a"])({message:e},e)}))}},{key:"reset",value:function(){this.tags=[],this.docs=[]}},{key:"store",value:function(){var t;localStorage.setItem("currentserver",(null===(t=this.$store.state.currentServer)||void 0===t?void 0:t.toString())||""),localStorage.setItem("servers",JSON.stringify(this.$store.state.servers.map((function(t){var e=t.password,a=t.url;return{password:e,url:a}}))))}},{key:"created",value:function(){this.reload()}},{key:"onError",value:function(t){var e=t.title,a=t.message;this.error={title:e,message:a}}}]),e}(v["d"]);Object(d["a"])([Object(v["b"])()],Nt.prototype,"page",void 0),Nt=Object(d["a"])([Object(v["a"])({components:{SettingsDrawer:Z,HelpDrawer:st,ErrorDialog:mt,TagCreator:jt,TagFilter:Ft}})],Nt);var zt=Nt,Bt=zt,Wt=(a("0a54"),a("7496")),Gt=a("5bc1"),Ht=a("cc20"),Yt=a("ef9a"),Jt=a("8fea"),Xt=a("8860"),Kt=a("da13"),Qt=a("5d23"),Zt=a("e0c7"),te=Object(h["a"])(Bt,x,O,!1,null,"59987758",null),ee=te.exports;R()(te,{VApp:Wt["a"],VAppBar:I["a"],VAppBarNavIcon:Gt["a"],VBtn:L["a"],VCard:vt["a"],VChip:Ht["a"],VChipGroup:Yt["a"],VCol:q["a"],VContainer:E["a"],VDataTable:Jt["a"],VDivider:U["a"],VIcon:N["a"],VList:Xt["a"],VListItem:Kt["a"],VListItemContent:Qt["a"],VListItemSubtitle:Qt["b"],VMain:B["a"],VNavigationDrawer:W["a"],VRow:G["a"],VSpacer:H["a"],VSubheader:Zt["a"],VTextField:J["a"],VToolbarTitle:X["b"],VTooltip:K["a"]});var ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-app-bar",{staticClass:"py-0",attrs:{app:"",color:"primary"}},[a("v-toolbar",{staticClass:"col-md-5 col-12 pa-0",attrs:{flat:"",dark:"",color:"primary"}},[a("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("v-app-bar-nav-icon",t._g(t._b({on:{click:function(e){e.stopPropagation(),t.$router.go(-1),t.$router.push("/")}}},"v-app-bar-nav-icon",n,!1),r),[a("v-icon",[t._v("mdi-arrow-left")])],1)]}}])},[t._v(" Go Back ")]),a("v-toolbar-title",[t.meta?a("span",[t._v(t._s(t.meta.title))]):a("code",[t._v(t._s(t.id))])]),a("v-spacer"),t.meta?a("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:"",dark:""},on:{click:function(e){return t.openDocument(t.id)}}},"v-btn",n,!1),r),[a("v-icon",[t._v("mdi-open-in-new")])],1)]}}],null,!1,3005973461)},[t._v(" Open PDF in New Tab ")]):t._e(),t.meta?a("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:"",dark:"",color:"red accent-1"},on:{click:function(e){return t.deleteDocument(t.id)}}},"v-btn",n,!1),r),[a("v-icon",[t._v("mdi-delete")])],1)]}}],null,!1,1060903604)},[t._v(" Delete This Document ")]):t._e(),a("v-progress-linear",{attrs:{active:t.loadingMeta,indeterminate:"",absolute:"",bottom:""}})],1),t.$vuetify.breakpoint.mdAndUp?a("v-toolbar",{staticClass:"col-7 pa-0",attrs:{flat:""}},[a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:t.scaleDown}},[a("v-icon",[t._v("mdi-magnify-minus-outline")])],1),a("v-text-field",{staticClass:"narrow mx-1",attrs:{"hide-details":"",dense:"",right:"","single-line":"",outlined:"",value:t.getScale(),suffix:"%",type:"number",step:"10"},on:{input:t.setScale}}),a("v-btn",{attrs:{icon:""},on:{click:t.scaleOff}},[a("v-icon",[t._v("mdi-arrow-expand-horizontal")])],1),a("v-btn",{attrs:{icon:""},on:{click:t.scaleUp}},[a("v-icon",[t._v("mdi-magnify-plus-outline")])],1),a("v-spacer"),t._v(" "+t._s(t.numPages)+" Pages "),a("v-progress-linear",{attrs:{indeterminate:0===t.numPages,active:this.loading<this.numPages,value:this.loading/this.numPages*100,absolute:"",bottom:""}})],1):t._e()],1),a("v-main",{class:t.$vuetify.breakpoint.mdAndUp?"":"expand",attrs:{app:""}},[a("v-row",{staticClass:"layout ma-0"},[a("v-col",{class:t.$vuetify.breakpoint.mdAndUp?"col":"",attrs:{cols:"12",md:"5"}},[a("div",{staticClass:"pb-3"},[a("code",[t._v(t._s(t.id))]),t._v(" "),a("code",[t.meta?a("time-ago",{attrs:{datetime:t.meta.created}},[t._v(t._s(t.meta.created))]):t._e()],1)]),t.meta?a("div",[a("v-text-field",{attrs:{outlined:"",label:"Title"},on:{change:t.updateTitle},model:{value:t.meta.title,callback:function(e){t.$set(t.meta,"title",e)},expression:"meta.title"}}),a("v-chip-group",{staticClass:"mb-8",attrs:{column:""}},[a("tag-adder",{attrs:{id:t.id,meta:t.meta},on:{"update:meta":function(e){return t.$emit("update:docMeta",e)}}}),t._l(t.meta.tags,(function(e){return a("v-chip",{key:e.label+(e.parameter?e.parameter.value:""),attrs:{label:""}},[".."===e.label?a("v-icon",[t._v("mdi-sync")]):a("span",[t._v(t._s(e.label))]),e.parameter?a("v-divider",{staticClass:"mx-3",attrs:{vertical:""}}):t._e(),e.parameter?a("strong",["http://www.w3.org/2001/XMLSchema#decimal"===e.parameter.type?a("span",[t._v(t._s(e.parameter.value))]):a("local-time",{attrs:{datetime:e.parameter.value}},[t._v(t._s(e.parameter.value))])],1):t._e()],1)}))],2),a("comments-list",{attrs:{id:t.id,meta:t.meta},on:{"update:meta":function(e){return t.$emit("update:docMeta",e)}}})],1):t._e()]),t.$vuetify.breakpoint.smAndDown?a("v-toolbar",{staticClass:"tools",attrs:{short:""}},[a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:t.scaleDown}},[a("v-icon",[t._v("mdi-magnify-minus-outline")])],1),a("v-text-field",{staticClass:"narrow",attrs:{"hide-details":"",dense:"","single-line":"",outlined:"",value:t.getScale(),suffix:"%",type:"number",step:"5"},on:{input:t.setScale}}),a("v-btn",{attrs:{icon:""},on:{click:t.scaleOff}},[a("v-icon",[t._v("mdi-arrow-expand-horizontal")])],1),a("v-btn",{attrs:{icon:""},on:{click:t.scaleUp}},[a("v-icon",[t._v("mdi-magnify-plus-outline")])],1),a("v-spacer"),t._v(" "+t._s(t.numPages)+" Pages "),a("v-progress-linear",{attrs:{indeterminate:0===t.numPages,active:this.loading<this.numPages,value:this.loading/this.numPages*100,absolute:"",bottom:""}})],1):t._e(),a("v-col",{class:t.$vuetify.breakpoint.mdAndUp?"col pa-0":"pa-0",attrs:{cols:"12",md:"7"}},[a("v-sheet",{class:(t.$vuetify.breakpoint.mdAndUp?"col ":"")+(t.resize?"y pa-0":"x y pa-0"),attrs:{color:this.$vuetify.theme.dark?"grey darken-3":"grey lighten-2"}},[a("div",{class:t.resize?"px-3":"fit px-3"},t._l(t.numPages,(function(e){return a("pdf",{key:e,staticClass:"pdf",attrs:{src:t.pdfsrc(),id:e,page:e,scale:t.scale,resize:t.resize,annotation:""},on:{"update:scale":function(e){t.scale=e},loading:t.loadingChange}})})),1)])],1)],1)],1),a("v-dialog",{attrs:{transition:"dialog-top-transition",persistent:"","max-width":"600px"},model:{value:t.dialog.open,callback:function(e){t.$set(t.dialog,"open",e)},expression:"dialog.open"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.error?"An Error Occurred":"Set Server and Password"))])]),a("v-card-text",{staticClass:"pb-0"},[a("v-alert",{staticClass:"ma-1",attrs:{outlined:"",type:"error"}},[a("v-simple-table",{staticStyle:{color:"inherit"},attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[a("tbody",t._l(t.error,(function(e,r){return a("tr",{key:r},[a("td",[t._v(t._s(r))]),a("td",[t._v(t._s(e))])])})),0)]},proxy:!0}])})],1),a("v-container",[a("v-form",{ref:"form",model:{value:t.dialog.valid,callback:function(e){t.$set(t.dialog,"valid",e)},expression:"dialog.valid"}},[a("v-row",{staticClass:"mx-n3",attrs:{dense:""}},[a("v-col",[a("v-text-field",{attrs:{outlined:"",rules:t.dialog.urlRules,label:"Server URL",required:""},model:{value:t.dialog.url,callback:function(e){t.$set(t.dialog,"url",e)},expression:"dialog.url"}})],1),a("v-col",[a("v-text-field",{attrs:{outlined:"",type:"password",rules:t.dialog.pwRules,label:"Password",required:""},model:{value:t.dialog.pw,callback:function(e){t.$set(t.dialog,"pw",e)},expression:"dialog.pw"}})],1)],1)],1),a("v-row",{staticClass:"mx-n3",attrs:{dense:""}},[a("v-col",[t._v(" "+t._s(t.error?"A different server URL or password may":t.$route.query.s?"A password is":"Server URL and password are")+" required to view this document. ")])],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{on:{click:function(e){e.stopPropagation(),t.$router.go(-1),t.$router.push("/")}}},[t._v(" Go Back ")]),a("v-btn",{attrs:{color:"primary",disabled:!t.dialog.valid||t.loadingMeta,loading:t.loadingMeta},on:{click:t.closeDialog}},[t._v(" Save ")])],1)],1)],1)],1)},re=[],ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{fullscreen:t.$vuetify.breakpoint.smAndDown,persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-chip",t._g({attrs:{color:"primary",label:""}},r),[a("v-icon",{attrs:{left:""}},[t._v("mdi-pencil")]),a("strong",[t._v("EDIT TAGS")])],1)]}}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Manage Tags")]),a("v-card-subtitle",[t._v(" "+t._s(t.docMeta.title)+" "),a("kbd",{staticClass:"mx-2"},[t._v(t._s(t.id))])]),a("v-card-text",[t._v(" Has: "),a("v-chip-group",{attrs:{column:""}},t._l(t.docMeta.tags,(function(e){return a("v-chip",{key:e.label+(e.parameter?e.parameter.value:""),attrs:{label:"",close:""},on:{"click:close":function(a){return t.removeTag(e.label)}}},[".."===e.label?a("v-icon",[t._v("mdi-sync")]):a("span",[t._v(t._s(e.label))]),e.parameter?a("v-divider",{staticClass:"mx-3",attrs:{vertical:""}}):t._e(),e.parameter?a("strong",["http://www.w3.org/2001/XMLSchema#decimal"===e.parameter.type?a("span",[t._v(t._s(e.parameter.value))]):a("local-time",{attrs:{datetime:e.parameter.value}},[t._v(t._s(e.parameter.value))])],1):t._e()],1)})),1),t._v(" Avaliable: "),a("v-chip-group",{attrs:{column:""}},t._l(t.allTags,(function(e){return a("v-chip",{key:e.label,attrs:{label:""},on:{click:function(a){t.label=e.label}}},[e.parameter?a("v-icon",{staticClass:"mr-3",attrs:{small:""}},[t._v(t._s("http://www.w3.org/2001/XMLSchema#decimal"===e.parameter.type?"mdi-pound":"mdi-calendar"))]):t._e(),".."===e.label?a("v-icon",[t._v("mdi-sync")]):a("span",[t._v(t._s(e.label))])],1)})),1),a("v-divider",{staticClass:"mt-2 mb-3"}),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{outlined:"",rules:t.labelRules,label:"Label",required:""},model:{value:t.label,callback:function(e){t.label=e},expression:"label"}})],1),a("v-col",{attrs:{cols:"6"}},["date"!==this.type?a("v-text-field",{attrs:{outlined:"",rules:t.valRules,label:"Value",required:"",autocomplete:"off",disabled:"decimal"!==this.type,messages:"simple"===this.type?"Value will be ignored for simple tags":""},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}):a("v-menu",{ref:"dateMenu",attrs:{"close-on-content-click":!1,"return-value":t.value,transition:"scale-transition","offset-y":"",bottom:"","min-width":"290px"},on:{"update:returnValue":function(e){t.value=e},"update:return-value":function(e){t.value=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"Value",outlined:"",rules:t.dateRules,required:"",autocomplete:"off"},on:{change:function(e){t.valDate=t.value||""}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},"v-text-field",n,!1),r))]}}]),model:{value:t.dateMenu,callback:function(e){t.dateMenu=e},expression:"dateMenu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.valDate,callback:function(e){t.valDate=e},expression:"valDate"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.dateMenu=!1}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.dateMenu.save(t.valDate)}}},[t._v(" OK ")])],1)],1)],1)],1),a("v-row",[a("v-col",{staticClass:"mt-0",attrs:{cols:"12"}},[a("v-radio-group",{staticClass:"mt-0",attrs:{disabled:t.fixed},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[a("v-radio",{attrs:{value:"simple"},scopedSlots:t._u([{key:"label",fn:function(){return[a("v-icon",{attrs:{small:"",left:""}},[t._v("mdi-tag")]),t._v(" Not parameterizable ")]},proxy:!0}])}),a("v-radio",{attrs:{value:"decimal"},scopedSlots:t._u([{key:"label",fn:function(){return[a("v-icon",{attrs:{small:"",left:""}},[t._v("mdi-pound")]),t._v(" Parameterizable with number / decimal ")]},proxy:!0}])}),a("v-radio",{attrs:{value:"date"},scopedSlots:t._u([{key:"label",fn:function(){return[a("v-icon",{attrs:{small:"",left:""}},[t._v("mdi-calendar")]),t._v(" Parameterizable with date ")]},proxy:!0}])})],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"secondary",text:""},on:{click:t.clear}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"primary"},on:{click:t.save}},[t._v("Add")])],1)],1)],1)},ie=[],se=(a("7db0"),a("c7cd"),a("96cf"),a("1da1")),oe=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(l["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.allTags=[],t.show=!1,t.valid=!1,t.label="",t.type="simple",t.value="",t.valDate="",t.fixed=!1,t.dateMenu=!1,t.labelRules=[function(t){return!!t||"Label is required"},function(t){return!/\s|\/|\\|#|"|'|,|;|:|\?/.test(t)||"The label must not contain any of the following: whitespace / \\ # \" ' , ; : ?"},function(t){return!/^[.]{1,2}$/.test(t)||"The label must not equal . (single dot) or .. (double dot)"}],t.valRules=[function(e){return"decimal"===t.getType()&&!isNaN(+e)||"decimal"!==t.getType()||"Must be a number"}],t.dateRules=[function(t){return!t||/^\d{4}-\d{2}-\d{2}$/.test(t)&&!isNaN(new Date(t).getTime())||"Must be a date of format YYYY-MM-DD"}],t}return Object(u["a"])(e,t),Object(o["a"])(e,[{key:"change",value:function(t){var e=this.allTags.find((function(e){return e.label===t}));e?(this.fixed=!0,this.type=e.parameter?"http://www.w3.org/2001/XMLSchema#decimal"===e.parameter.type?"decimal":"date":"simple"):this.fixed=!1}},{key:"getType",value:function(){return this.type}},{key:"clear",value:function(){this.show=!1,this.label="",this.type="simple",this.$refs.form.resetValidation()}},{key:"save",value:function(){var t=Object(se["a"])(regeneratorRuntime.mark((function t(){var e,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.valid=this.$refs.form.validate(),e=this.$store.getters.server.server,!e||!this.valid){t.next=19;break}return t.next=5,this.reloadTags();case 5:if(-1===(this.docMeta.tags||[]).findIndex((function(t){return t.label===a.label}))){t.next=10;break}return alert("Tag has already been added to the document"),t.abrupt("return");case 10:if(-1!==this.allTags.findIndex((function(t){return t.label===a.label}))){t.next=18;break}if(!confirm("This tag doesn’t exist yet. Do you want to create it?")){t.next=16;break}return t.next=14,e.createTag(this.label,"simple"!==this.type?this.type:void 0).then((function(t){"error"in t&&console.error(t)}));case 14:t.next=18;break;case 16:return this.reload(),t.abrupt("return");case 18:e.addTag(this.id,this.label,"simple"!==this.type?this.type:void 0,"simple"!==this.type?this.value:void 0).then((function(t){t.error?(a.$emit("error",t),a.reload()):(a.$emit("tagadded"),a.reload(),a.$refs.form.reset())}));case 19:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"removeTag",value:function(t){var e=this.$store.getters.server.server;e&&confirm('Do you want to remove tag "'.concat(t,'" from the Document?\nThis Action cannot be undone'))&&e.removeTag(this.id,t).then(this.reload)}},{key:"reloadTags",value:function(){var t=this,e=this.$store.getters.server.server;if(e)return e.getTags().then((function(e){"error"in e||(t.allTags=e.filter((function(e){return-1===(t.docMeta.tags||[]).findIndex((function(t){return t.label===e.label}))})))}))}},{key:"reload",value:function(){var t=this,e=this.$store.getters.server.server;e&&e.getMeta(this.id).then((function(e){"error"in e||t.$emit("update:meta",Object(S["a"])({},e,{identifier:t.id}))})).then((function(){t.reloadTags()}))}},{key:"created",value:function(){this.reload()}}]),e}(v["d"]);Object(d["a"])([Object(v["b"])()],oe.prototype,"id",void 0),Object(d["a"])([Object(v["c"])("meta")],oe.prototype,"docMeta",void 0),Object(d["a"])([Object(v["e"])("label")],oe.prototype,"change",null),oe=Object(d["a"])([Object(v["a"])({})],oe);var le=oe,ce=le,ue=Object(h["a"])(ce,ne,ie,!1,null,null,null),de=ue.exports;R()(ue,{VBtn:L["a"],VCard:vt["a"],VCardActions:kt["a"],VCardSubtitle:kt["b"],VCardText:kt["c"],VCardTitle:kt["d"],VChip:Ht["a"],VChipGroup:Yt["a"],VCol:q["a"],VContainer:E["a"],VDatePicker:Pt["a"],VDialog:_t["a"],VDivider:U["a"],VForm:F["a"],VIcon:N["a"],VMenu:At["a"],VRadio:wt["a"],VRadioGroup:xt["a"],VRow:G["a"],VSpacer:H["a"],VTextField:J["a"]});var ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-3"},[a("v-card",{staticClass:"list",attrs:{outlined:"",loading:t.loading}},[t.loading?a("v-card-text",[t._v(" Loading Comments ")]):t.meta.comments&&0!==t.meta.comments.length?t._e():a("v-card-text",[t._v(" No Comments found ")]),t._l(t.meta.comments,(function(e,r){return a("div",{key:e.created},[0!==r?a("v-divider"):t._e(),a("v-card-text",[a("span",{staticStyle:{"white-space":"pre-line"}},[t._v(t._s(e.text))]),a("span",{staticClass:"timestamp"},[a("time-ago",{attrs:{datetime:e.created}},[t._v(t._s(e.created))])],1)])],1)}))],2),a("v-form",{ref:"form",staticClass:"d-flex pt-3 align-stretch",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-textarea",{attrs:{outlined:"",rules:t.commentRules,label:"New Comment",required:"",rows:"1","auto-grow":""},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}}),a("v-btn",{staticClass:"ml-1",staticStyle:{height:"unset","margin-bottom":"30px"},attrs:{outlined:""},on:{click:t.add}},[t._v(" Add ")])],1)],1)},pe=[],me=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(l["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.allTags=[],t.loading=!0,t.comment="",t.valid=!1,t.commentRules=[function(t){return!!t||"Can’t make empty comments"}],t}return Object(u["a"])(e,t),Object(o["a"])(e,[{key:"add",value:function(){var t=Object(se["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.valid=this.$refs.form.validate(),this.valid&&this.$store.getters.server.server.addComment(this.id,this.comment).then((function(){e.$refs.form.reset(),e.reload()}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"reload",value:function(){var t=this;this.$store.getters.server.server.getMeta(this.id).then((function(e){t.loading=!1,"error"in e||t.$emit("update:meta",Object(S["a"])({},e,{identifier:t.id}))}))}},{key:"created",value:function(){this.reload()}}]),e}(v["d"]);Object(d["a"])([Object(v["b"])()],me.prototype,"id",void 0),Object(d["a"])([Object(v["c"])("meta")],me.prototype,"docMeta",void 0),me=Object(d["a"])([Object(v["a"])({})],me);var fe=me,he=fe,be=(a("99d6"),a("a844")),ge=Object(h["a"])(he,ve,pe,!1,null,"2feff378",null),ye=ge.exports;R()(ge,{VBtn:L["a"],VCard:vt["a"],VCardText:kt["c"],VDivider:U["a"],VForm:F["a"],VTextarea:be["a"]});var ke=a("10ee"),_e=a("3022"),we=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t.startsWith("http://")&&t.startsWith("https://")||(t="https://"+t);try{var e=new URL(t);return e.href.replace(/\/$/,"")}catch(a){return!1}},xe=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(l["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.meta=null,t.loadingMeta=!1,t.page=1,t.numPages=0,t.pdfdata=void 0,t.error=!1,t.scale="page-width",t.loading=0,t.resize=!0,t.dialog={open:!1,url:"",pw:"",valid:!1,urlRules:[function(t){return!!t||"URL is required"},function(t){var e=we(t);return!!e||"URL has to be valid"}],pwRules:[function(t){return!!t||"Password is required"}]},t}return Object(u["a"])(e,t),Object(o["a"])(e,[{key:"pdfsrc",value:function(){if(this.meta)return{url:(this.$store.getters.server.url.startsWith("https://")||this.$store.getters.server.url.startsWith("http://")?this.$store.getters.server.url:"https://"+this.$store.getters.server.url)+"/doc/"+this.id,httpHeaders:{Authorization:this.$store.getters.server.server.headers.get("Authorization")}}}},{key:"openDocument",value:function(t){var e=this.$store.getters.server.url.startsWith("https://")||this.$store.getters.server.url.startsWith("http://")?this.$store.getters.server.url:"https://"+this.$store.getters.server.url;window.open(e+"/doc/"+t,"_blank")}},{key:"deleteDocument",value:function(t){var e=this;if(confirm("Are you sure you want to delete this Document?")){var a=this.$store.getters.server.server;a&&this.meta&&a.deleteDocument(t).then((function(t){"error"in t?alert(Object(_e["inspect"])(t)):e.$router.go(-1)}))}}},{key:"updateTitle",value:function(){var t=this.$store.getters.server.server;t&&this.meta&&t.setDocumentTitle(this.id,this.meta.title||"")}},{key:"loadingChange",value:function(t){var e=document.getElementsByTagName("canvas");this.loading=e.length;for(var a=0;a<e.length;a++)e[a].classList.add("elevation-4")}},{key:"scaleDown",value:function(){this.resize=!1,this.scale=Math.round(20*parseFloat(""+this.scale))/20,this.scale>.15?this.scale=this.scale-.05:this.scale=.1}},{key:"scaleUp",value:function(){this.resize=!1,this.scale=Math.round(20*parseFloat(""+this.scale))/20,this.scale<1.95?this.scale=this.scale+.05:this.scale=2}},{key:"scaleOff",value:function(){this.scale="page-width",this.resize=!0}},{key:"getScale",value:function(){return parseInt(""+100*+this.scale)}},{key:"setScale",value:function(t){this.resize=!1,this.scale=t/100}},{key:"getPdf",value:function(){var t=this,e=(this.$store.getters.server.url.startsWith("https://")||this.$store.getters.server.url.startsWith("http://")?this.$store.getters.server.url:"https://"+this.$store.getters.server.url)+"/doc/"+this.id;this.pdfdata=ke["a"].createLoadingTask({url:e,httpHeaders:{Authorization:this.$store.getters.server.server.headers.get("Authorization")}}),this.pdfdata.then((function(e){t.numPages=e.numPages}))}},{key:"mounted",value:function(){if(this.$route.query.s&&this.$store.commit("selectServer",{url:this.$route.query.s}),this.$store.getters.server)this.finishSetup();else{var t=this.$route.query.s?Array.isArray(this.$route.query.s)?this.$route.query.s[0]||"":this.$route.query.s:"";this.dialog.open=!0,this.dialog.url=t}}},{key:"closeDialog",value:function(){this.$store.commit("selectServer",{url:this.dialog.url,password:this.dialog.pw}),this.finishSetup()}},{key:"finishSetup",value:function(){var t,e=this;this.loadingMeta=!0;var a=null===(t=this.$store.getters.server)||void 0===t?void 0:t.server;a&&a.getMeta(this.id).then((function(t){e.loadingMeta=!1,"error"in t?(e.error=t,e.dialog.url=e.$route.query.s?Array.isArray(e.$route.query.s)?e.$route.query.s[0]||"":e.$route.query.s:"",e.dialog.open=!0):(e.dialog.open=!1,e.meta=t)})),this.getPdf()}}]),e}(v["d"]);Object(d["a"])([Object(v["b"])()],xe.prototype,"id",void 0),xe=Object(d["a"])([Object(v["a"])({components:{pdf:ke["a"],TagAdder:de,CommentsList:ye}})],xe);var Oe=xe,je=Oe,Se=(a("37b0"),a("d363"),a("0798")),Ce=a("8e36"),$e=a("8dd9"),Ve=a("1f4f"),De=a("71d9"),Te=Object(h["a"])(je,ae,re,!1,null,"2570199f",null),Me=Te.exports;R()(Te,{VAlert:Se["a"],VApp:Wt["a"],VAppBar:I["a"],VAppBarNavIcon:Gt["a"],VBtn:L["a"],VCard:vt["a"],VCardActions:kt["a"],VCardText:kt["c"],VCardTitle:kt["d"],VChip:Ht["a"],VChipGroup:Yt["a"],VCol:q["a"],VContainer:E["a"],VDialog:_t["a"],VDivider:U["a"],VForm:F["a"],VIcon:N["a"],VMain:B["a"],VProgressLinear:Ce["a"],VRow:G["a"],VSheet:$e["a"],VSimpleTable:Ve["a"],VSpacer:H["a"],VTextField:J["a"],VToolbar:De["a"],VToolbarTitle:X["b"],VTooltip:K["a"]}),r["a"].use(w["a"]);var Pe=[{path:"/",name:"home",component:ee,props:function(t){return{page:t.query.p}}},{path:"/doc/:id",name:"doc",component:Me,props:!0}],Ae=new w["a"]({mode:"history",base:"/tridoc-cockpit/",routes:Pe}),Re=Ae,Ie=a("2f62"),Le=a("73a1"),qe=a.n(Le);r["a"].use(Ie["a"]);var Ee=[];function Ue(t){var e;localStorage.setItem("currentserver",(null===(e=t.currentServer)||void 0===e?void 0:e.toString())||""),localStorage.setItem("servers",JSON.stringify(t.servers.map((function(t){var e=t.password,a=t.url;return{password:e,url:a}}))))}var Fe=new Ie["a"].Store({state:{servers:Ee,currentServer:null,viewSettings:{darkMode:!1,dense:!1}},getters:{server:function(t){return null===t.currentServer?null:t.servers[t.currentServer]}},mutations:{currentServer:function(t,e){var a=e.index;a>=t.servers.length||a<0?console.warn("Trying to select nonexistent server"):t.currentServer=a},selectServer:function(t,e){var a=e.url,r=e.password,n=t.servers.findIndex((function(t){return t.url===a}));if(n>-1)r&&t.servers[n].password!==r&&(t.servers[n]={server:new qe.a(a,"tridoc",r),password:r,url:a}),t.currentServer=n;else{if(!r)return Ue(t),null;t.currentServer=t.servers.push({server:new qe.a(a,"tridoc",r),password:r,url:a})-1}return Ue(t),t.currentServer},addServer:function(t,e){var a=e.url,r=e.password,n=t.servers.findIndex((function(t){return t.url===a}));return n>-1?r&&t.servers[n].password!==r&&(t.servers[n]={server:new qe.a(a,"tridoc",r),password:r,url:a}):r&&t.servers.push({server:new qe.a(a,"tridoc",r),password:r,url:a}),Ue(t),t.servers.length},removeServer:function(t,e){var a=e.index;a>=t.servers.length||a<0?console.warn("Trying to remove nonexistent server"):(t.servers.splice(a,1),Ue(t))},viewSettings:function(t,e){var a=e.darkMode,r=e.dense;void 0!==a&&(t.viewSettings.darkMode=a),void 0!==r&&(t.viewSettings.dense=r),localStorage.setItem("viewSettings",JSON.stringify(t.viewSettings))}},actions:{restore:function(t){var e=t.commit,a=JSON.parse(localStorage.getItem("servers")||"false"),r=parseInt(localStorage.getItem("currentserver")||"0",10);a&&a.forEach((function(t){var a=t.password,r=t.url;e("addServer",{password:a,url:r})})),e("currentServer",{index:r});var n=JSON.parse(localStorage.getItem("viewSettings")||"false");n&&e("viewSettings",n)}}});r["a"].config.productionTip=!1,new r["a"]({vuetify:_,router:Re,store:Fe,render:function(t){return t(g)}}).$mount("#app")},d363:function(t,e,a){"use strict";var r=a("4fbc"),n=a.n(r);n.a},df06:function(t,e,a){"use strict";var r=a("48a6"),n=a.n(r);n.a},edc9:function(t,e,a){},f932:function(t,e,a){}});
//# sourceMappingURL=app.8fead22c.js.map