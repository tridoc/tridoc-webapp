(function(t){function e(e){for(var a,o,s=e[0],l=e[1],c=e[2],u=0,v=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&v.push(n[o][0]),n[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(v.length)v.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],a=!0,o=1;o<r.length;o++){var l=r[o];0!==n[l]&&(a=!1)}a&&(i.splice(e--,1),t=s(s.s=r[0]))}return t}var a={},n={app:0},i=[];function o(t){return s.p+"js/"+({pdfjsWorker:"pdfjsWorker"}[t]||t)+"."+{pdfjsWorker:"0486d421"}[t]+".js"}function s(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.e=function(t){var e=[],r=n[t];if(0!==r)if(r)e.push(r[2]);else{var a=new Promise((function(e,a){r=n[t]=[e,a]}));e.push(r[2]=a);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=o(t);var c=new Error;i=function(e){l.onerror=l.onload=null,clearTimeout(u);var r=n[t];if(0!==r){if(r){var a=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",c.name="ChunkLoadError",c.type=a,c.request=i,r[1](c)}n[t]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(e)},s.m=t,s.c=a,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(r,a,function(e){return t[e]}.bind(null,a));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var d=c;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("cd49")},1:function(t,e){},"1276a":function(t,e,r){},2:function(t,e){},3:function(t,e){},4:function(t,e){},6095:function(t,e,r){"use strict";var a=r("95a9"),n=r.n(a);n.a},"95a9":function(t,e,r){},b14c:function(t,e,r){"use strict";var a=r("1276a"),n=r.n(a);n.a},cd49:function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("v-navigation-drawer",{attrs:{clipped:t.$vuetify.breakpoint.mdAndUp,app:""},scopedSlots:t._u([{key:"append",fn:function(){return[r("v-divider"),r("v-list",{attrs:{nav:"",dense:""}},[r("settings-dialog",{attrs:{servers:t.servers,current:t.current()},on:{save:t.serverchange,delete:t.serverremove}}),t._l(t.navItems,(function(e){return[e.children?r("v-list-group",{key:e.text,attrs:{disabled:e.disabled,"prepend-icon":e.icon||" ","no-action":""},scopedSlots:t._u([{key:"activator",fn:function(){return[r("v-list-item-content",[r("v-list-item-title",[t._v(t._s(e.text))])],1)]},proxy:!0}],null,!0),model:{value:e.model,callback:function(r){t.$set(e,"model",r)},expression:"item.model"}},t._l(e.children,(function(e,a){return r("v-list-item",{key:a,attrs:{dense:"",disabled:e.disabled,href:e.href,link:""}},[e.icon?r("v-list-item-action",[r("v-icon",[t._v(t._s(e.icon))])],1):t._e(),r("v-list-item-content",[r("v-list-item-title",[t._v(t._s(e.text))])],1)],1)})),1):e.hide?t._e():r("v-list-item",{key:e.text,attrs:{disabled:e.disabled,href:e.href,link:""}},[r("v-list-item-action",[r("v-icon",[t._v(t._s(e.icon))])],1),r("v-list-item-content",[r("v-list-item-title",[t._v(t._s(e.text))])],1)],1)]})),t.currentserver()?r("v-list-item",{attrs:{disabled:"","stwo-line":""}},[r("v-list-item-content",[r("v-list-item-subtitle",[t._v(t._s(t.currentserver().url))])],1)],1):t._e()],2)]},proxy:!0}]),model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[r("tag-list",{attrs:{reload:t.reload,error:t.onError,deleteTag:t.deleteTag,currentserver:t.currentserver,tags:t.tags}})],1),r("v-app-bar",{attrs:{"clipped-left":!0,app:"",color:"primary",flat:t.$vuetify.breakpoint.mdAndUp,dark:""}},[r("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),r("v-toolbar-title",{staticClass:"hidden-sm-and-down",staticStyle:{width:"300px"}},[t._v(" tridoc Cockpit ")]),r("v-spacer"),r("v-tooltip",{attrs:{bottom:"","open-on-focus":"","open-delay":"1000"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,n=e.attrs;return[r("v-text-field",t._g(t._b({attrs:{flat:"","solo-inverted":"","hide-details":"",clearable:"","clear-icon":"mdi-filter-remove","prepend-inner-icon":"mdi-magnify",label:"Search"},on:{change:t.getDocuments},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},"v-text-field",n,!1),a))]}}])},[t._v(" Search for tags with "),r("kbd",[t._v("#tag")]),r("br"),t._v(" Exclude tags with "),r("kbd",[t._v("##tag")]),r("br"),t._v(" Search for a literal # with "),r("kbd",[t._v("\\#")])]),r("v-btn",{attrs:{icon:""},on:{click:t.reload}},[r("v-icon",[t._v("mdi-refresh")])],1),r("v-spacer"),r("v-btn",{attrs:{icon:""},on:{click:function(e){t.$vuetify.theme.dark=!t.$vuetify.theme.dark}}},[r("v-icon",[t._v("mdi-invert-colors")])],1)],1),r("v-content",{attrs:{app:""}},[r("v-container",{staticClass:"sfill-height",attrs:{fluid:""},on:{drag:function(t){t.stopPropagation(),t.preventDefault()},dragstart:function(t){t.stopPropagation(),t.preventDefault()},dragend:function(t){t.stopPropagation(),t.preventDefault()},dragover:function(t){t.stopPropagation(),t.preventDefault()},dragenter:function(t){t.stopPropagation(),t.preventDefault()},dragleave:function(t){t.stopPropagation(),t.preventDefault()},drop:function(e){return e.stopPropagation(),e.preventDefault(),t.addFile(e)}}},[r("v-row",{attrs:{align:"start"}},[r("v-col",{attrs:{cols:"12"}},[r("v-card",{attrs:{outlined:""}},[r("v-data-table",{attrs:{"disable-sort":"","disable-filtering":"",headers:t.headers,items:t.docs,options:t.options,"server-items-length":t.count,loading:t.loading,"item-key":"identifier","footer-props":{showFirstLastPage:!0},"no-data-text":"No documents found"},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"item.title",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.title)+" "),a.title?t._e():r("i",[t._v("Untitled Document")])]}},{key:"item.tags",fn:function(e){var a=e.item;return[r("v-chip-group",t._l(a.tags,(function(e){return r("v-chip",{key:e.label,attrs:{label:""}},[".."===e.label?r("v-icon",[t._v("mdi-sync")]):r("span",[t._v(t._s(e.label))]),e.parameter?r("v-divider",{staticClass:"mx-3",attrs:{vertical:""}}):t._e(),e.parameter?r("strong",[t._v(t._s("http://www.w3.org/2001/XMLSchema#decimal"===e.parameter.type?e.parameter.value:t.calculateDatestamp(e.parameter.value)))]):t._e()],1)})),1)]}},{key:"item.created",fn:function(e){var r=e.item;return[t._v(" "+t._s(t.calculateTimestamp(r.created))+" ")]}},{key:"item.identifier",fn:function(e){var a=e.item;return[r("pre",[t._v(t._s(a.identifier))])]}},{key:"item.actions",fn:function(e){var a=e.item;return[r("div",{staticClass:"d-flex"},[r("v-btn",{staticClass:"ma-1",attrs:{small:"",text:"",outlined:"",color:"primary darken-1"},on:{click:function(e){return t.openDocument(a.identifier)}}},[r("v-icon",{attrs:{small:"",left:!t.$vuetify.breakpoint.sm}},[t._v("mdi-open-in-new")]),r("span",{attrs:{hidden:t.$vuetify.breakpoint.sm}},[t._v("Open")])],1),r("document-details",{attrs:{server:t.currentserver,docMeta:a,error:t.error},on:{"update:docMeta":function(t){a=t},"update:doc-meta":function(t){a=t},change:t.reload}})],1)]}}])})],1)],1)],1),r("v-row",{attrs:{align:"start"}},[r("v-col",{attrs:{cols:"12"}},[r("v-card",{attrs:{outlined:""}},[r("v-data-table",{attrs:{"disable-sort":"","disable-filtering":"",headers:t.uploadHeaders,items:t.uploadDocs,"item-key":"file.name","disable-pagination":"","hide-default-footer":"","no-data-text":"Drop documents here to upload"},scopedSlots:t._u([{key:"item.actions",fn:function(e){var a=e.item;return[r("div",{staticClass:"d-flex"},[r("v-btn",{staticClass:"ma-1",attrs:{small:"",text:"",outlined:"",color:"primary darken-1",loading:a.loading},on:{click:function(e){return t.uploadDocument(a)}}},[r("v-icon",{attrs:{small:"",left:!t.$vuetify.breakpoint.sm}},[t._v("mdi-upload")]),r("span",{attrs:{hidden:t.$vuetify.breakpoint.sm}},[t._v("Upload")])],1),r("v-btn",{staticClass:"ma-1",attrs:{small:"",text:"",outlined:"",color:"secondary darken-1"},on:{click:function(e){return t.removeUploadDocument(a)}}},[r("v-icon",{attrs:{small:"",left:!t.$vuetify.breakpoint.sm}},[t._v("mdi-close")]),r("span",{attrs:{hidden:t.$vuetify.breakpoint.sm}},[t._v("Cancel")])],1)],1)]}},{key:"footer",fn:function(){return[r("v-divider"),r("div",{staticClass:"d-flex"},[r("v-btn",{staticClass:"ma-1",attrs:{outlined:"",color:"primary"}},[r("span",[t._v("Add File")]),r("input",{attrs:{type:"file"},on:{change:t.addFileInput}})]),r("v-spacer"),r("v-btn",{staticClass:"ma-1",attrs:{outlined:"",color:"primary",disabled:0===t.uploadDocs.length},on:{click:t.uploadAll}},[r("v-icon",{attrs:{left:""}},[t._v("mdi-upload")]),r("span",[t._v("Upload All")])],1)],1)]},proxy:!0}])})],1)],1)],1)],1)],1),r("error-dialog",{attrs:{error:t.error,close:function(){return t.error=null}}})],1)},i=[],o=(r("99af"),r("4de4"),r("4160"),r("baa5"),r("d81d"),r("a434"),r("b0c0"),r("d3b7"),r("ac1f"),r("25f0"),r("4d90"),r("5319"),r("841c"),r("2ca0"),r("498a"),r("159b"),r("5530")),s=r("2909"),l=r("d4ec"),c=r("bee2"),u=r("99de"),d=r("7e84"),v=r("262e"),p=r("9ab4"),f=r("60a3"),m=r("73a1"),h=r.n(m),b=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{fullscreen:t.$vuetify.breakpoint.smAndDown},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[r("v-list-item",t._g({},a),[r("v-list-item-icon",[r("v-icon",[t._v("mdi-cog")])],1),r("v-list-item-content",[r("v-list-item-title",[t._v("Settings")])],1)],1)]}}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[r("v-card",{attrs:{tile:t.$vuetify.breakpoint.smAndDown}},[t.$vuetify.breakpoint.smAndDown?r("v-toolbar",{attrs:{dark:"",color:"primary",flat:"","elevate-on-scroll":""}},[r("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.show=!1}}},[r("v-icon",[t._v("mdi-close")])],1),r("v-toolbar-title",[t._v("Settings")]),r("v-spacer"),r("v-toolbar-items",[r("v-btn",{attrs:{dark:"",text:""},on:{click:function(e){t.show=!1}}},[t._v("Close")])],1)],1):t._e(),r("v-card-title",[t.$vuetify.breakpoint.mdAndUp?r("span",{staticClass:"headline"},[t._v("Settings")]):t._e()]),r("v-card-text",[r("v-expansion-panels",{attrs:{accordion:""},model:{value:t.icurrent,callback:function(e){t.icurrent=e},expression:"icurrent"}},t._l(t.iservers,(function(e,a){return r("v-expansion-panel",{key:e.id,ref:1e3*(e.id+1)+a+1,refInFor:!0},[r("v-expansion-panel-header",{attrs:{"disable-icon-rotate":a===t.current},scopedSlots:t._u([a===t.current?{key:"actions",fn:function(){return[r("v-icon",{attrs:{color:"primary"}},[t._v("mdi-check-circle")])]},proxy:!0}:null],null,!0)},[t._v(" "+t._s(a+1)+": "+t._s(e.url)+" ")]),r("v-expansion-panel-content",[r("v-form",{model:{value:e.valid,callback:function(r){t.$set(e,"valid",r)},expression:"server.valid"}},[r("v-row",[r("v-col",{attrs:{sm:"12",md:"6"}},[r("v-text-field",{attrs:{outlined:"","full-width":"",rules:t.urlRules,label:"Server URL",required:""},model:{value:e.url,callback:function(r){t.$set(e,"url",r)},expression:"server.url"}})],1),r("v-col",{attrs:{sm:"12",md:"6"}},[r("v-text-field",{attrs:{outlined:"","full-width":"",rules:t.passwordRules,label:"Password",required:""},model:{value:e.password,callback:function(r){t.$set(e,"password",r)},expression:"server.password"}})],1)],1),r("v-row",[r("v-spacer"),r("v-col",{attrs:{sm:"auto"}},[r("v-btn",{attrs:{color:"secondary darken-1",text:""},on:{click:function(e){return t.remove(a)}}},[t._v("Delete")])],1),r("v-col",{attrs:{sm:"auto"}},[r("v-btn",{attrs:{color:"primary"},on:{click:function(r){return t.save(a,e)}}},[t._v("Save")])],1)],1)],1)],1)],1)})),1),r("v-row",[r("v-spacer"),r("v-col",{attrs:{sm:"auto"}},[r("v-btn",{attrs:{color:"primary darken-1",text:""},on:{click:t.addRow}},[t._v("Add")])],1)],1),r("v-divider")],1),t.$vuetify.breakpoint.mdAndUp?r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"secondary darken-1",text:""},on:{click:function(e){t.show=!1}}},[t._v("Close")])],1):t._e()],1)],1)},g=[],y=(r("3ca3"),r("ddb0"),r("2b3d"),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t.startsWith("http://")&&t.startsWith("https://")||(t="https://"+t);try{var e=new URL(t);return e.href.replace(/\/$/,"")}catch(r){return!1}}),k=function(){var t=0;return function(){return t++}}(),_=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(u["a"])(this,Object(d["a"])(e).apply(this,arguments)),t.iservers=t.servers.map((function(e){var r=e.password,a=e.url;return{id:t.counter(),valid:!1,password:r,url:a}})),t.icurrent=t.current,t.show=!1,t.valid=!1,t.urlRules=[function(t){return!!t||"URL is required"},function(t){var e=y(t);return!!e||"URL has to be valid"}],t.passwordRules=[function(t){return!!t||"Password is required"}],t}return Object(v["a"])(e,t),Object(c["a"])(e,[{key:"onServersChanged",value:function(){var t=this;this.iservers=this.servers.map((function(e){var r=e.password,a=e.url;return{id:t.counter(),valid:!1,password:r,url:a}}))}},{key:"counter",value:function(){return k()}},{key:"save",value:function(t,e){var r=e.url,a=e.password,n=e.valid;n&&this.$emit("save",{index:t,url:r,password:a})}},{key:"remove",value:function(t){this.$emit("delete",t)}},{key:"addRow",value:function(){this.iservers.push({id:this.counter(),password:"",url:"",valid:!1}),this.icurrent=this.iservers.length-1,this.save(this.icurrent,{password:"",url:"",valid:!0})}}]),e}(f["d"]);Object(p["a"])([Object(f["b"])()],_.prototype,"servers",void 0),Object(p["a"])([Object(f["e"])("servers",{deep:!0})],_.prototype,"onServersChanged",null),Object(p["a"])([Object(f["b"])()],_.prototype,"current",void 0),_=Object(p["a"])([Object(f["a"])({})],_);var w=_,x=w,O=r("2877"),V=r("6544"),j=r.n(V),C=r("8336"),D=r("b0af"),S=r("99d9"),T=r("62ad"),P=r("169a"),$=r("ce7e"),I=r("cd55"),A=r("49e2"),L=r("c865"),E=r("0393"),F=r("4bd4"),M=r("132d"),U=r("da13"),R=r("5d23"),z=r("34c3"),W=r("0fd9"),q=r("2fa4"),B=r("8654"),H=r("71d9"),N=r("2a7f"),G=Object(O["a"])(x,b,g,!1,null,null,null),Y=G.exports;j()(G,{VBtn:C["a"],VCard:D["a"],VCardActions:S["a"],VCardText:S["b"],VCardTitle:S["c"],VCol:T["a"],VDialog:P["a"],VDivider:$["a"],VExpansionPanel:I["a"],VExpansionPanelContent:A["a"],VExpansionPanelHeader:L["a"],VExpansionPanels:E["a"],VForm:F["a"],VIcon:M["a"],VListItem:U["a"],VListItemContent:R["a"],VListItemIcon:z["a"],VListItemTitle:R["c"],VRow:W["a"],VSpacer:q["a"],VTextField:B["a"],VToolbar:H["a"],VToolbarItems:N["a"],VToolbarTitle:N["b"]});var J=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{value:!!t.error}},[r("v-card",{attrs:{color:"error",dark:""}},[r("v-card-title",{staticClass:"headline"},[t._v(t._s(t.title))]),r("v-card-text",[t._v(t._s(t.message))]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{text:""},on:{click:t.close}},[t._v(" Close ")])],1)],1)],1)},X=[],K=function(t){function e(){return Object(l["a"])(this,e),Object(u["a"])(this,Object(d["a"])(e).apply(this,arguments))}return Object(v["a"])(e,t),Object(c["a"])(e,[{key:"title",get:function(){return null!==this.error?this.error.title||"An Error Occured":"..."}},{key:"message",get:function(){return null!==this.error?this.error.message||"Unknown error":"..."}}]),e}(f["d"]);Object(p["a"])([Object(f["b"])()],K.prototype,"error",void 0),Object(p["a"])([Object(f["b"])()],K.prototype,"close",void 0),K=Object(p["a"])([Object(f["a"])({})],K);var Q=K,Z=Q,tt=Object(O["a"])(Z,J,X,!1,null,null,null),et=tt.exports;j()(tt,{VBtn:C["a"],VCard:D["a"],VCardActions:S["a"],VCardText:S["b"],VCardTitle:S["c"],VDialog:P["a"],VSpacer:q["a"]});var rt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-list",{attrs:{nav:"",dense:""}},[r("v-subheader",[t._v("TAGS")]),r("v-list-item-group",{attrs:{color:"secondary"}},[r("tag-creator",{attrs:{server:t.currentserver()},on:{tagcreated:t.reload,error:function(e){return t.error({title:t.r.error,message:t.r.message})}}}),t._l(t.tags,(function(e){return r("v-menu",{key:e.label,staticStyle:{"max-width":"600px"},attrs:{absolute:"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(a){var n=a.on;return[r("v-list-item",t._g({},n),[r("v-list-item-icon",[r("v-icon",{domProps:{textContent:t._s(e.icon)}})],1),r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:t._s(e.label)}})],1),r("v-list-item-action",[r("v-icon",{attrs:{small:""},domProps:{textContent:t._s(e["type-icon"])}})],1)],1)]}}],null,!0)},[r("v-list",t._l(t.tagActions,(function(a,n){return r("v-list-item",{key:n,on:{click:function(){return a.fn(e)}}},[r("v-list-item-title",[t._v(t._s(a.name))])],1)})),1)],1)}))],2)],1)},at=[],nt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{fullscreen:t.$vuetify.breakpoint.smAndDown,persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[r("v-list-item",t._g({staticClass:"secondary white--text"},a),[r("v-list-item-icon",[r("v-icon",{staticClass:"white--text"},[t._v("mdi-tag-plus")])],1),r("v-list-item-content",[r("v-list-item-title",{staticClass:"white--text"},[t._v("Create Tag")])],1)],1)]}}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[t._v("Create Tag")])]),r("v-card-text",[r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{outlined:"",rules:t.labelRules,label:"Label",required:""},model:{value:t.label,callback:function(e){t.label=e},expression:"label"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-radio-group",{model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[r("v-radio",{attrs:{value:"simple"},scopedSlots:t._u([{key:"label",fn:function(){return[r("v-icon",{attrs:{small:"",left:""}},[t._v("mdi-tag")]),t._v(" Not parameterizable ")]},proxy:!0}])}),r("v-radio",{attrs:{value:"decimal"},scopedSlots:t._u([{key:"label",fn:function(){return[r("v-icon",{attrs:{small:"",left:""}},[t._v("mdi-pound")]),t._v(" Parameterizable with number / decimal ")]},proxy:!0}])}),r("v-radio",{attrs:{value:"date"},scopedSlots:t._u([{key:"label",fn:function(){return[r("v-icon",{attrs:{small:"",left:""}},[t._v("mdi-calendar")]),t._v(" Parameterizable with date ")]},proxy:!0}])})],1)],1)],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"secondary darken-1",text:""},on:{click:t.clear}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"secondary darken-1",text:""},on:{click:function(e){t.show=!1}}},[t._v("Close")]),r("v-btn",{attrs:{color:"primary darken-1",text:""},on:{click:t.save}},[t._v("Save")])],1)],1)],1)},it=[],ot=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(u["a"])(this,Object(d["a"])(e).apply(this,arguments)),t.show=!1,t.valid=!1,t.label="",t.type="simple",t.labelRules=[function(t){return!!t||"Label is required"},function(t){return!/\s|\/|\\|#|"|'|,|;|:|\?/.test(t)||"The label must not contain any of the following: whitespace / \\ # \" ' , ; : ?"},function(t){return!/^[.]{1,2}$/.test(t)||"The label must not equal . (single dot) or .. (double dot)"}],t}return Object(v["a"])(e,t),Object(c["a"])(e,[{key:"clear",value:function(){this.show=!1,this.label="",this.type="simple",this.$refs.form.resetValidation()}},{key:"save",value:function(){var t=this;this.$refs.form.validate(),this.valid&&this.server.createTag(this.label,"simple"!==this.type?this.type:void 0).then((function(e){e.error?(t.$emit("error",e),t.clear()):(t.$emit("tagcreated"),t.clear())}))}}]),e}(f["d"]);Object(p["a"])([Object(f["b"])()],ot.prototype,"server",void 0),ot=Object(p["a"])([Object(f["a"])({})],ot);var st=ot,lt=st,ct=r("a523"),ut=r("67b6"),dt=r("43a6"),vt=Object(O["a"])(lt,nt,it,!1,null,null,null),pt=vt.exports;j()(vt,{VBtn:C["a"],VCard:D["a"],VCardActions:S["a"],VCardText:S["b"],VCardTitle:S["c"],VCol:T["a"],VContainer:ct["a"],VDialog:P["a"],VForm:F["a"],VIcon:M["a"],VListItem:U["a"],VListItemContent:R["a"],VListItemIcon:z["a"],VListItemTitle:R["c"],VRadio:ut["a"],VRadioGroup:dt["a"],VRow:W["a"],VSpacer:q["a"],VTextField:B["a"]});var ft=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(u["a"])(this,Object(d["a"])(e).apply(this,arguments)),t.tagActions=[{name:"Delete",fn:function(e){return t.deleteTag(e.label)}}],t}return Object(v["a"])(e,t),e}(f["d"]);Object(p["a"])([Object(f["b"])()],ft.prototype,"reload",void 0),Object(p["a"])([Object(f["b"])()],ft.prototype,"error",void 0),Object(p["a"])([Object(f["b"])()],ft.prototype,"deleteTag",void 0),Object(p["a"])([Object(f["b"])()],ft.prototype,"currentserver",void 0),Object(p["a"])([Object(f["b"])()],ft.prototype,"tags",void 0),ft=Object(p["a"])([Object(f["a"])({components:{TagCreator:pt}})],ft);var mt=ft,ht=mt,bt=r("8860"),gt=r("1800"),yt=r("1baa"),kt=r("e449"),_t=r("e0c7"),wt=Object(O["a"])(ht,rt,at,!1,null,null,null),xt=wt.exports;j()(wt,{VIcon:M["a"],VList:bt["a"],VListItem:U["a"],VListItemAction:gt["a"],VListItemContent:R["a"],VListItemGroup:yt["a"],VListItemIcon:z["a"],VListItemTitle:R["c"],VMenu:kt["a"],VSubheader:_t["a"]});var Ot=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{scrollable:"",fullscreen:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[r("v-btn",t._g({staticClass:"ma-1",attrs:{text:"",small:"",outlined:"",color:"primary"},on:{click:function(t){}}},a),[r("v-icon",{attrs:{small:"",left:!t.$vuetify.breakpoint.sm}},[t._v("mdi-pencil")]),r("span",{attrs:{hidden:t.$vuetify.breakpoint.sm}},[t._v("Edit")])],1)]}}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[r("v-card",{attrs:{tile:""}},[r("v-toolbar",{attrs:{dark:"",color:"primary",flat:"","elevate-on-scroll":""}},[r("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.show=!1}}},[r("v-icon",[t._v("mdi-close")])],1),r("v-toolbar-title",[t._v(t._s(t.meta.title||t.meta.identifier))]),r("v-spacer"),r("v-btn",{attrs:{icon:t.$vuetify.breakpoint.smAndDown,text:"",dark:""},on:{click:function(e){return t.openDocument(t.meta.identifier)}}},[r("v-icon",{attrs:{left:!t.$vuetify.breakpoint.smAndDown}},[t._v("mdi-open-in-new")]),r("span",{attrs:{hidden:t.$vuetify.breakpoint.smAndDown}},[t._v("Open in new tab")])],1),r("v-btn",{attrs:{icon:t.$vuetify.breakpoint.smAndDown,text:"",dark:"",color:"red accent-1"},on:{click:function(e){return t.deleteDocument(t.meta.identifier)}}},[r("v-icon",{attrs:{left:!t.$vuetify.breakpoint.smAndDown}},[t._v("mdi-delete")]),r("span",{attrs:{hidden:t.$vuetify.breakpoint.smAndDown}},[t._v("Delete this document")])],1)],1),r("v-card-text",[r("v-row",[r("v-col",{attrs:{cols:"12",md:"5"}},[r("v-card-title",{staticClass:"px-0 text--primary"},[t._v("Metadata")]),r("v-text-field",{attrs:{outlined:"",label:"Title"},on:{change:t.updateTitle},model:{value:t.meta.title,callback:function(e){t.$set(t.meta,"title",e)},expression:"meta.title"}}),r("v-text-field",{attrs:{outlined:"",disabled:"",label:"ID",value:t.meta.identifier}}),r("v-chip-group",{attrs:{column:""}},t._l(t.meta.tags,(function(e){return r("v-chip",{key:e.label,attrs:{label:""}},[".."===e.label?r("v-icon",[t._v("mdi-sync")]):r("span",[t._v(t._s(e.label))]),e.parameter?r("v-divider",{staticClass:"mx-3",attrs:{vertical:""}}):t._e(),e.parameter?r("strong",[t._v(t._s("http://www.w3.org/2001/XMLSchema#decimal"===e.parameter.type?e.parameter.value:t.calculateDatestamp(e.parameter.value)))]):t._e()],1)})),1)],1),r("v-col",{attrs:{cols:"12",md:"7"}},[r("v-toolbar",{staticClass:"tools",attrs:{fdense:""}},[r("v-spacer"),r("v-btn",{attrs:{icon:""},on:{click:t.scaleDown}},[r("v-icon",[t._v("mdi-magnify-minus-outline")])],1),t.$vuetify.breakpoint.smAndUp?r("v-text-field",{staticClass:"narrow",attrs:{"hide-details":"",dense:"","single-line":"",outlined:"",value:t.getScale(),clearable:"",suffix:"%",type:"number",step:"10"},on:{input:t.setScale,"click:clear":t.scaleOff}}):t._e(),t.$vuetify.breakpoint.xs?r("v-btn",{attrs:{icon:""},on:{click:t.scaleOff}},[t._v(" 1:1 ")]):t._e(),r("v-btn",{attrs:{icon:""},on:{click:t.scaleUp}},[r("v-icon",[t._v("mdi-magnify-plus-outline")])],1),r("v-spacer"),t._v(" "+t._s(t.numPages)+" Pages "),r("v-progress-linear",{attrs:{active:t.loading,indeterminate:"",absolute:"",bottom:""}})],1),t._l(t.numPages,(function(e){return r("pdf",{key:e,staticClass:"pdf",attrs:{src:t.pdfsrc(),id:e,page:e,scale:t.scale,resize:t.resize,annotation:""},on:{"update:scale":function(e){t.scale=e},loading:t.loadingChange}})}))],2)],1)],1)],1)],1)},Vt=[],jt=(r("b680"),r("10ee")),Ct=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(u["a"])(this,Object(d["a"])(e).apply(this,arguments)),t.show=!1,t.page=1,t.numPages=0,t.pdfdata=void 0,t.errors=[],t.scale="page-width",t.loading=!0,t.resize=!0,t}return Object(v["a"])(e,t),Object(c["a"])(e,[{key:"pdfsrc",value:function(){return{url:(this.server().url.startsWith("https://")||this.server().url.startsWith("http://")?this.server().url:"https://"+this.server().url)+"/doc/"+this.meta.identifier,httpHeaders:{Authorization:this.server().headers.get("Authorization")}}}},{key:"calculateDatestamp",value:function(t){var e=new Date(t),r=e.getFullYear().toString().padStart(4,"0"),a=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getDate().toString().padStart(2,"0"),i=new Date,o=Math.floor((i.getTime()-e.getTime())/864e5);switch(o){case 0:return"Today";case 1:return"Yesterday";default:return"".concat(r,"-").concat(a,"-").concat(n)}}},{key:"openDocument",value:function(t){var e=this.server().url.startsWith("https://")||this.server().url.startsWith("http://")?this.server().url:"https://"+this.server().url;window.open(e+"/doc/"+t,"_blank")}},{key:"deleteDocument",value:function(t){var e=this;if(confirm("Are you sure you want to delete this Document?")){this.show=!1;var r=this.server();r&&r.deleteDocument(t).then((function(t){"error"in t?e.err=Object(o["a"])({title:t.error,message:t.message},t):e.$emit("change")}))}}},{key:"updateTitle",value:function(){var t=this.server();t&&t.setDocumentTitle(this.meta.identifier,this.meta.title||"")}},{key:"loadingChange",value:function(t){if(this.loading=t,!t||t)for(var e=document.getElementsByTagName("canvas"),r=0;r<e.length;r++)e[r].classList.add("elevation-4")}},{key:"scaleDown",value:function(){this.resize=!1,this.scale=parseFloat(""+this.scale),this.scale>.1?this.scale=(this.scale-.1).toFixed(1):this.scale=.1}},{key:"scaleUp",value:function(){this.resize=!1,this.scale=parseFloat(""+this.scale),this.scale<1.9?this.scale=(this.scale+.1).toFixed(1):this.scale=2}},{key:"scaleOff",value:function(){this.scale="page-width",this.resize=!0}},{key:"getScale",value:function(){return parseInt(""+100*+this.scale)}},{key:"setScale",value:function(t){this.scale=t/100}},{key:"getPdf",value:function(){var t=this,e=(this.server().url.startsWith("https://")||this.server().url.startsWith("http://")?this.server().url:"https://"+this.server().url)+"/doc/"+this.meta.identifier;this.pdfdata=jt["a"].createLoadingTask({url:e,httpHeaders:{Authorization:this.server().headers.get("Authorization")}}),this.pdfdata.then((function(e){t.numPages=e.numPages}))}},{key:"mounted",value:function(){this.getPdf()}}]),e}(f["d"]);Object(p["a"])([Object(f["b"])()],Ct.prototype,"server",void 0),Object(p["a"])([Object(f["c"])("docMeta")],Ct.prototype,"meta",void 0),Object(p["a"])([Object(f["c"])("error")],Ct.prototype,"err",void 0),Ct=Object(p["a"])([Object(f["a"])({components:{pdf:jt["a"]}})],Ct);var Dt=Ct,St=Dt,Tt=(r("b14c"),r("cc20")),Pt=r("ef9a"),$t=r("8e36"),It=Object(O["a"])(St,Ot,Vt,!1,null,null,null),At=It.exports;j()(It,{VBtn:C["a"],VCard:D["a"],VCardText:S["b"],VCardTitle:S["c"],VChip:Tt["a"],VChipGroup:Pt["a"],VCol:T["a"],VDialog:P["a"],VDivider:$["a"],VIcon:M["a"],VProgressLinear:$t["a"],VRow:W["a"],VSpacer:q["a"],VTextField:B["a"],VToolbar:H["a"],VToolbarTitle:N["b"]});var Lt=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(u["a"])(this,Object(d["a"])(e).apply(this,arguments)),t.error=null,t.servers=[],t._current=0,t.search="",t.drawer=null,t.navItems=[{text:"More",model:!1,children:[{icon:"mdi-package-down",text:"Export",disabled:!0},{icon:"mdi-github",text:"Code on GitHub",href:"https://github.com/tridoc/tridoc-cockpit"},{icon:"mdi-help-circle",text:"Help",disabled:!0}]}],t.docs=[],t.count=0,t.headers=[{text:"Title",value:"title"},{text:"Tags",value:"tags"},{text:"Created",value:"created",align:"end"},{text:"Identifier",value:"identifier",width:1},{text:"",value:"actions",width:1}],t.loading=!0,t.options={page:1,itemsPerPage:10},t.uploadDocs=[],t.uploadHeaders=[{text:"Name",value:"file.name"},{text:"",value:"actions",width:1}],t.tags=[],t}return Object(v["a"])(e,t),Object(c["a"])(e,[{key:"current",value:function(){return this._current>=this.servers.length&&(this._current=this.servers.length-1),this._current}},{key:"setCurrent",value:function(t){this._current=t}},{key:"currentserver",value:function(){return 0===this.servers.length?null:this.servers[this.current()].server}},{key:"onTableOptionsChange",value:function(t,e){t.page===e.page&&t.itemsPerPage===e.itemsPerPage||this.getDocuments()}},{key:"openDocument",value:function(t){var e=this.servers[this.current()].url.startsWith("https://")||this.servers[this.current()].url.startsWith("http://")?this.servers[this.current()].url:"https://"+this.servers[this.current()].url;window.open(e+"/doc/"+t,"_blank")}},{key:"calculateTimestamp",value:function(t){var e=new Date(t),r=e.getFullYear().toString().padStart(4,"0"),a=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getDate().toString().padStart(2,"0"),i=e.getHours().toString().padStart(2,"0"),o=e.getMinutes().toString().padStart(2,"0"),s=new Date,l=Math.floor((s.getTime()-e.getTime())/864e5);switch(l){case 0:return"Today ".concat(i,":").concat(o);case 1:return"Yesterday ".concat(i,":").concat(o);default:return"".concat(r,"-").concat(a,"-").concat(n," ").concat(i,":").concat(o)}}},{key:"calculateDatestamp",value:function(t){var e=new Date(t),r=e.getFullYear().toString().padStart(4,"0"),a=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getDate().toString().padStart(2,"0"),i=new Date,o=Math.floor((i.getTime()-e.getTime())/864e5);switch(o){case 0:return"Today";case 1:return"Yesterday";default:return"".concat(r,"-").concat(a,"-").concat(n)}}},{key:"getDocuments",value:function(){var t=this;this.loading=!0;var e=this.currentserver();if(e){var r,a,n="",i=[],l=[];this.search&&(Object(s["a"])(this.search.matchAll(/(^|[^\\#])#([^#\s/\\#"',;:?]+)\b/g)).forEach((function(t){return i.push(t[2])})),Object(s["a"])(this.search.matchAll(/(^|[^\\])##([^#\s/\\#"',;:?]+)\b/g)).forEach((function(t){return l.push(t[2])})),n=this.search.replace(/((^|[^\\#])#|(^|[^\\])##)[^#\s/\\#"',;:?]+\b/g," ").replace(/\s+/," ").replace(/\\#/,"#").trim()),e.countDocuments(n,i,l).then((function(e){"number"===typeof e?t.count=e:t.error=Object(o["a"])({},e)})),this.options.itemsPerPage>0&&(r=this.options.itemsPerPage,a=(this.options.page-1)*r),e.getDocuments(n,i,l,r,a).then((function(r){"error"in r?t.error=Object(o["a"])({},r):(t.docs=r.map((function(t){var e=t.identifier,r=t.title,a=t.created;return r=r||"",{identifier:e,title:r,created:a,tags:[{label:".."}]}})),t.docs.forEach((function(r){e.getTags(r.identifier).then((function(e){"error"in e?t.error=Object(o["a"])({title:e.error},e):r.tags=e,t.loading=!1}))})))}))}}},{key:"addFile",value:function(t){var e,r=this,a=null===(e=t.dataTransfer)||void 0===e?void 0:e.files;a&&Object(s["a"])(a).forEach((function(t){"application/pdf"===t.type&&r.uploadDocs.push({loading:!1,file:t})}))}},{key:"addFileInput",value:function(t){var e=this,r=t.target.files;r&&(Object(s["a"])(r).forEach((function(t){"application/pdf"===t.type&&e.uploadDocs.push({loading:!1,file:t})})),t.target.value="",t.target.files=null)}},{key:"uploadAll",value:function(){this.uploadDocs.forEach(this.uploadDocument)}},{key:"uploadDocument",value:function(t){var e=this,r=this.currentserver();r&&(t.loading=!0,r.uploadFile(t.file).then((function(a){"error"in a?e.error={title:"Could upload document",message:a.error}:r.setDocumentTitle(a.location.substring(a.location.lastIndexOf("/")+1),t.file.name.replace(/\.pdf$/,"")).then((function(r){"string"!==typeof r&&r.error&&(e.error={title:"Could not set title",message:r.error}),e.reload(),e.removeUploadDocument(t)}))}),(function(t){e.error={title:t.error||t,message:t.message||t}})).finally((function(){t.loading=!1})))}},{key:"removeUploadDocument",value:function(t){this.uploadDocs=this.uploadDocs.filter((function(e){return e!==t}))}},{key:"deleteTag",value:function(t){var e=this,r=this.currentserver();r&&r.deleteTag(t).then((function(t){t.error?e.error=Object(o["a"])({message:t.error},t):e.reload()}))}},{key:"serverchange",value:function(t){var e=t.index,r=t.url,a=t.password;this.servers[e]={url:r,password:a,server:new h.a(r,"tridoc",a)},this.setCurrent(e),this.store(),this.reload()}},{key:"serverremove",value:function(t){this.servers.splice(t,1),this.store(),this.reload()}},{key:"reload",value:function(){var t=this;this.reset(),this.getDocuments();var e=this.currentserver();e&&e.getTags().then((function(e){"error"in e?t.error=Object(o["a"])({title:e.error,message:e.message},e):(t.tags=e.map((function(t){var e={icon:"mdi-tag",label:t.label,"type-icon":""};if(t.parameter)switch(t.parameter.type){case"http://www.w3.org/2001/XMLSchema#decimal":e["type-icon"]="mdi-pound";break;case"http://www.w3.org/2001/XMLSchema#date":e["type-icon"]="mdi-calendar";break;default:break}return e})),t.tags.sort((function(t,e){var r=t.label.toUpperCase(),a=e.label.toUpperCase();return r<a?-1:r>a?1:0})))}),(function(e){e instanceof Error?t.error={title:"A "+e.name+" occurred",message:e.message}:t.error=Object(o["a"])({message:e},e)}))}},{key:"reset",value:function(){this.tags=[],this.docs=[]}},{key:"restore",value:function(){var t=JSON.parse(localStorage.getItem("servers")||""),e=parseInt(localStorage.getItem("currentserver")||"0");t&&(this.servers=t.map((function(t){var e=t.password,r=t.url;return{password:e,url:r,server:new h.a(r,"tridoc",e)}}))),this.setCurrent(e);var r=localStorage.getItem("server"),a=localStorage.getItem("password");r&&a&&this.servers.push({password:a,url:r,server:new h.a(r,"tridoc",a)})}},{key:"store",value:function(){localStorage.setItem("currentserver",this.current().toString()),localStorage.setItem("servers",JSON.stringify(this.servers.map((function(t){var e=t.password,r=t.url;return{password:e,url:r}}))))}},{key:"created",value:function(){this.restore(),this.reload()}},{key:"onError",value:function(t){var e=t.title,r=t.message;this.error={title:e,message:r}}}]),e}(f["d"]);Object(p["a"])([Object(f["e"])("options")],Lt.prototype,"onTableOptionsChange",null),Lt=Object(p["a"])([Object(f["a"])({components:{SettingsDialog:Y,ErrorDialog:et,TagList:xt,DocumentDetails:At}})],Lt);var Et=Lt,Ft=Et,Mt=(r("6095"),r("7496")),Ut=r("40dc"),Rt=r("5bc1"),zt=r("a75b"),Wt=r("8fea"),qt=r("56b0"),Bt=r("f774"),Ht=r("3a2f"),Nt=Object(O["a"])(Ft,n,i,!1,null,"2c599365",null),Gt=Nt.exports;j()(Nt,{VApp:Mt["a"],VAppBar:Ut["a"],VAppBarNavIcon:Rt["a"],VBtn:C["a"],VCard:D["a"],VChip:Tt["a"],VChipGroup:Pt["a"],VCol:T["a"],VContainer:ct["a"],VContent:zt["a"],VDataTable:Wt["a"],VDivider:$["a"],VIcon:M["a"],VList:bt["a"],VListGroup:qt["a"],VListItem:U["a"],VListItemAction:gt["a"],VListItemContent:R["a"],VListItemSubtitle:R["b"],VListItemTitle:R["c"],VNavigationDrawer:Bt["a"],VRow:W["a"],VSpacer:q["a"],VTextField:B["a"],VToolbarTitle:N["b"],VTooltip:Ht["a"]});var Yt=r("f309"),Jt=r("fcf4");a["a"].use(Yt["a"]);var Xt=new Yt["a"]({theme:{themes:{light:{primary:"#00685b",secondary:"#c86852",accent:"#f86158",error:Jt["a"].red.base},dark:{primary:{base:"#00887b",darken1:"#00887b"},secondary:{base:"#ec8d79",darken1:"#ffb39b"},accent:"#f86158",error:Jt["a"].red.base}}}});a["a"].config.productionTip=!1,new a["a"]({vuetify:Xt,render:function(t){return t(Gt)}}).$mount("#app")}});
//# sourceMappingURL=app.33fa0d01.js.map