(function(t){function e(e){for(var r,o,s=e[0],c=e[1],l=e[2],u=0,v=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&v.push(n[o][0]),n[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);d&&d(e);while(v.length)v.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],r=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(r=!1)}r&&(i.splice(e--,1),t=s(s.s=a[0]))}return t}var r={},n={app:0},i=[];function o(t){return s.p+"js/"+({pdfjsWorker:"pdfjsWorker"}[t]||t)+"."+{pdfjsWorker:"dcd3b2b3"}[t]+".js"}function s(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.e=function(t){var e=[],a=n[t];if(0!==a)if(a)e.push(a[2]);else{var r=new Promise((function(e,r){a=n[t]=[e,r]}));e.push(a[2]=r);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=o(t);var l=new Error;i=function(e){c.onerror=c.onload=null,clearTimeout(u);var a=n[t];if(0!==a){if(a){var r=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",l.name="ChunkLoadError",l.type=r,l.request=i,a[1](l)}n[t]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:c})}),12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(e)},s.m=t,s.c=r,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(a,r,function(e){return t[e]}.bind(null,r));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"0422":function(t,e,a){"use strict";var r=a("7264"),n=a.n(r);n.a},1:function(t,e){},"1276a":function(t,e,a){},"12ea":function(t,e,a){},"1da4":function(t,e,a){},2:function(t,e){},2517:function(t,e,a){"use strict";var r=a("291f"),n=a.n(r);n.a},"291f":function(t,e,a){},"2c09":function(t,e,a){"use strict";var r=a("e08c"),n=a.n(r);n.a},3:function(t,e){},4:function(t,e){},"4e39":function(t,e,a){},"5c64":function(t,e,a){"use strict";var r=a("dfa5"),n=a.n(r);n.a},"702b":function(t,e,a){},7264:function(t,e,a){},"81cc":function(t,e,a){"use strict";var r=a("1da4"),n=a.n(r);n.a},b14c:function(t,e,a){"use strict";var r=a("1276a"),n=a.n(r);n.a},b24a:function(t,e,a){"use strict";var r=a("702b"),n=a.n(r);n.a},cd49:function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-navigation-drawer",{attrs:{clipped:t.$vuetify.breakpoint.mdAndUp,app:"",width:"288"},scopedSlots:t._u([{key:"append",fn:function(){return[a("v-divider"),a("v-list",{attrs:{nav:"",dense:""}},[t.currentserver()?a("v-list-item",{attrs:{disabled:""}},[a("v-list-item-content",[a("v-list-item-subtitle",[t._v(t._s(t.currentserver().url))])],1)],1):t._e()],1)]},proxy:!0}]),model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{attrs:{nav:"",dense:""}},[a("v-subheader",[t._v("TAGS")]),a("v-list-item-group",{attrs:{color:"secondary"}},[a("tag-creator",{attrs:{server:t.currentserver()},on:{tagcreated:t.reload,error:function(e){return t.onError({title:t.r.error,message:t.r.message})}}}),t._l(t.tags,(function(e){return a("tag-filter",{key:e.label,attrs:{tag:e,reload:t.reload,getDocuments:t.getDocuments,error:t.onError,deleteTag:t.deleteTag,currentserver:t.currentserver,tags:t.tags,search:t.search},on:{"update:search":function(e){t.search=e}}})})),a("v-btn",{staticClass:"my-2",attrs:{block:"",outlined:"",text:"",small:"",color:"error accent-1"},on:{click:t.clearTags}},[t._v(" Clear Tag Filters ")]),a("v-btn",{staticClass:"my-2",attrs:{block:"",outlined:"",text:"",small:"",color:"error accent-1"},on:{click:t.clearSearch}},[t._v(" Clear All Filters ")])],2)],1)],1),a("settings-drawer",{attrs:{open:t.settingsOpen,view:t.viewSettings,servers:t.servers,current:t.current()},on:{"update:open":function(e){t.settingsOpen=e},"update:view":function(e){t.viewSettings=e},save:t.serverchange,delete:t.serverremove}}),a("help-drawer",{attrs:{open:t.helpOpen},on:{"update:open":function(e){t.helpOpen=e}}}),a("v-app-bar",{attrs:{"clipped-left":!0,app:"",color:"primary","elevate-on-scroll":"",dark:""}},[a("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("v-app-bar-nav-icon",t._g(t._b({on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}},"v-app-bar-nav-icon",n,!1),r),[a("v-icon",[t._v("mdi-tag-multiple")])],1)]}}])},[t._v(" Tag filters ")]),a("v-toolbar-title",{staticClass:"hidden-sm-and-down",staticStyle:{width:"300px"}},[a("strong",[t._v("tridoc")])]),a("v-spacer"),a("v-text-field",{attrs:{flat:"","solo-inverted":"","hide-details":"",clearable:"","dclear-icon":"mdi-filter-remove","prepend-inner-icon":"mdi-magnify",label:"Search"},on:{change:t.getDocuments,"click:clear":function(e){t.search.text="",t.reload()}},model:{value:t.search.text,callback:function(e){t.$set(t.search,"text",e)},expression:"search.text"}}),a("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:""},on:{click:t.reload}},"v-btn",n,!1),r),[a("v-icon",[t._v("mdi-refresh")])],1)]}}])},[t._v(" Refresh ")]),a("v-spacer"),a("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.helpOpen=!t.helpOpen}}},"v-btn",n,!1),r),[a("v-icon",[t._v("mdi-help-circle")])],1)]}}])},[t._v(" Help & About ")]),a("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.settingsOpen=!t.settingsOpen}}},"v-btn",n,!1),r),[a("v-icon",[t._v("mdi-cog")])],1)]}}])},[t._v(" Settings ")])],1),a("v-content",{attrs:{app:""}},[a("v-container",{staticClass:"sfill-height",attrs:{fluid:""},on:{drag:function(t){t.stopPropagation(),t.preventDefault()},dragstart:function(t){t.stopPropagation(),t.preventDefault()},dragend:function(t){t.stopPropagation(),t.preventDefault()},dragover:function(t){t.stopPropagation(),t.preventDefault()},dragenter:function(t){t.stopPropagation(),t.preventDefault()},dragleave:function(t){t.stopPropagation(),t.preventDefault()},drop:function(e){return e.stopPropagation(),e.preventDefault(),t.addFile(e)}}},[a("v-row",{staticClass:"mt-n3",attrs:{align:"start"}},[a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("error-dialog",{attrs:{error:t.error,close:function(){return t.error=null}}})],1)],1),a("v-row",{attrs:{align:"start"}},[a("v-col",{attrs:{cols:"12"}},[a("v-card",{attrs:{outlined:""}},[t._l(t.docs,(function(e){return a("document-details",{key:e.identifier,attrs:{server:t.currentserver,docMeta:e,error:t.error,open:t.open===e.identifier},on:{"update:docMeta":t.updateDoc,change:t.reload,"update:open":function(e){t.open=""}}})})),a("v-data-table",{attrs:{"disable-sort":"","disable-filtering":"",headers:t.headers,items:t.docs,options:t.options,"server-items-length":t.count,loading:t.loading,"item-key":"identifier","no-data-text":"No documents found","hide-default-footer":""},on:{"click:row":function(e){return t.open=e.identifier}},scopedSlots:t._u([{key:"item.title",fn:function(e){var r=e.item;return[t._v(" "+t._s(r.title)+" "),r.title?t._e():a("i",[t._v("Untitled Document")])]}},{key:"item.tags",fn:function(e){var r=e.item;return[a("div",{style:t.$vuetify.breakpoint.mdAndUp?"max-width:40vw;":"max-width:80vw;"},[a("v-chip-group",{attrs:{"show-arrows":t.$vuetify.breakpoint.mdAndUp,dcolumn:!t.$vuetify.breakpoint.mdAndUp,column:""}},t._l(r.tags,(function(e){return a("v-chip",{key:e.label+(e.parameter?e.parameter.value:""),attrs:{label:""}},[".."===e.label?a("v-icon",[t._v("mdi-sync")]):a("span",[t._v(t._s(e.label))]),e.parameter?a("v-divider",{staticClass:"mx-3",attrs:{vertical:""}}):t._e(),e.parameter?a("strong",[t._v(t._s("http://www.w3.org/2001/XMLSchema#decimal"===e.parameter.type?e.parameter.value:t.calculateDatestamp(e.parameter.value)))]):t._e()],1)})),1)],1)]}},{key:"item.created",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.calculateTimestamp(a.created))+" ")]}},{key:"item.identifier",fn:function(e){var r=e.item;return[a("pre",[t._v(t._s(r.identifier))])]}},{key:"item.actions",fn:function(e){var r=e.item;return[a("div",{staticClass:"d-flex ml-n7 mr-n3"},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"ma-1",attrs:{outlined:"",text:"",small:"",color:"primary darken-1",link:""},on:{click:function(e){return e.stopPropagation(),t.openDocument(r.identifier)}}},"v-btn",i,!1),n),[a("v-icon",{attrs:{small:""}},[t._v("mdi-open-in-new")])],1)]}}],null,!0)},[a("small",[t._v("Open document directly"),a("br"),t._v("Opens in new Tab")])]),a("v-btn",{staticClass:"ma-1",attrs:{small:"",color:"primary"},on:{click:function(e){e.stopPropagation(),t.open=r.identifier}}},[a("v-icon",{attrs:{small:"",left:!t.$vuetify.breakpoint.sm}},[t._v("mdi-file-eye-outline")]),a("span",{attrs:{hidden:t.$vuetify.breakpoint.sm}},[t._v("Open")])],1)],1)]}}])})],2)],1)],1),a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"auto",align:"center"}},[a("v-btn",{staticClass:"ma-2",attrs:{disabled:t.options.page<2,outlined:"",text:"",fab:"",small:""},on:{click:function(e){return t.paginationFirst()}}},[a("v-icon",[t._v("mdi-page-first")])],1),a("v-btn",{staticClass:"ma-2",attrs:{disabled:t.options.page<2,outlined:"",text:"",fab:"",small:""},on:{click:function(e){return t.paginationPrev()}}},[a("v-icon",[t._v("mdi-chevron-left")])],1),a("span",{staticClass:"ma-2"},[t._v(" "+t._s(t.docscounter())+" ")]),a("span",{staticClass:"ma-2"},[t._v(" page "+t._s(t.pagecounter())+" ")]),a("v-btn",{staticClass:"ma-2",attrs:{disabled:t.options.page*t.options.itemsPerPage>=t.count,outlined:"",text:"",fab:"",small:""},on:{click:function(e){return t.paginationNext()}}},[a("v-icon",[t._v("mdi-chevron-right")])],1),a("v-btn",{staticClass:"ma-2",attrs:{disabled:t.options.page*t.options.itemsPerPage>=t.count,outlined:"",text:"",fab:"",small:""},on:{click:function(e){return t.paginationLast()}}},[a("v-icon",[t._v("mdi-page-last")])],1)],1)],1),a("v-row",{attrs:{align:"start"}},[a("v-col",{attrs:{cols:"12"}},[a("v-card",{attrs:{outlined:""}},[a("v-data-table",{attrs:{"disable-sort":"","disable-filtering":"",headers:t.uploadHeaders,items:t.uploadDocs,"item-key":"file.name","disable-pagination":"","hide-default-footer":"","hide-default-header":"","no-data-text":"Drop documents here to upload"},scopedSlots:t._u([{key:"item.actions",fn:function(e){var r=e.item;return[a("div",{staticClass:"mr-n3"},[a("v-btn",{staticClass:"ma-1",attrs:{small:"",text:"",outlined:"",color:"error accent-1"},on:{click:function(e){return t.removeUploadDocument(r)}}},[a("v-icon",{attrs:{small:"",left:!t.$vuetify.breakpoint.sm}},[t._v("mdi-close")]),a("span",{attrs:{hidden:t.$vuetify.breakpoint.sm}},[t._v("Cancel")])],1),a("v-btn",{staticClass:"ma-1",attrs:{small:"",color:"primary",loading:r.loading},on:{click:function(e){return t.uploadDocument(r)}}},[a("v-icon",{attrs:{small:"",left:!t.$vuetify.breakpoint.sm}},[t._v("mdi-upload")]),a("span",{attrs:{hidden:t.$vuetify.breakpoint.sm}},[t._v("Upload")])],1)],1)]}},{key:"footer",fn:function(){return[a("v-divider"),a("div",{staticClass:"d-flex"},[a("v-btn",{staticClass:"ma-2",attrs:{outlined:"",small:"",text:"",color:"primary"}},[a("span",[t._v("Add File")]),a("input",{attrs:{type:"file"},on:{change:t.addFileInput}})]),a("v-spacer"),a("v-btn",{staticClass:"ma-2",attrs:{outlined:"",small:"",text:"",color:"primary",disabled:0===t.uploadDocs.length},on:{click:t.uploadAll}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-upload")]),a("span",[t._v("Upload All")])],1)],1)]},proxy:!0}])})],1)],1)],1)],1)],1)],1)},i=[],o=(a("99af"),a("4de4"),a("c740"),a("4160"),a("baa5"),a("d81d"),a("a434"),a("b0c0"),a("d3b7"),a("ac1f"),a("25f0"),a("4d90"),a("5319"),a("841c"),a("2ca0"),a("159b"),a("2909")),s=a("5530"),c=a("d4ec"),l=a("bee2"),u=a("99de"),d=a("7e84"),v=a("262e"),p=a("9ab4"),m=a("60a3"),f=a("73a1"),h=a.n(f),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-navigation-drawer",{staticClass:"top",attrs:{app:"","mobile-breakpoint":"0",width:t.$vuetify.breakpoint.smAndUp?432:"100vw",temporary:"",right:"",absolute:""},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("v-app-bar",{attrs:{fixed:"",dark:"",color:"primary",flat:"","elevate-on-scroll":""}},[a("v-toolbar-title",[t._v("Settings")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.show=!1}}},[a("v-icon",[t._v("mdi-close")])],1)],1)],1),a("v-content",{staticClass:"scroll"},[a("v-container",{staticClass:"px-4 pb-0",attrs:{fluid:""}},[a("v-row",[a("v-col",{staticClass:"pt-4"},[a("v-label",{attrs:{for:"dmswitch"}},[t._v(" Dark Mode ")])],1),a("v-col",{attrs:{cols:"auto"}},[a("v-switch",{staticClass:"my-0 ml-2 mr-n3",attrs:{id:"dmswitch",inset:"","hide-details":""},model:{value:t.viewSettings.darkMode,callback:function(e){t.$set(t.viewSettings,"darkMode",e)},expression:"viewSettings.darkMode"}})],1)],1),a("v-row",[a("v-col",{staticClass:"pt-4"},[a("v-label",{attrs:{disabled:"",for:"dmswitch"}},[t._v(" Dense ")])],1),a("v-col",{attrs:{cols:"auto"}},[a("v-switch",{staticClass:"my-0 ml-2 mr-n3",attrs:{id:"dmswitch",inset:"","hide-details":"",disabled:""},model:{value:t.viewSettings.dense,callback:function(e){t.$set(t.viewSettings,"dense",e)},expression:"viewSettings.dense"}})],1)],1),a("v-row",[a("v-col",[a("v-divider")],1)],1),a("v-row",{staticClass:"mb-4"},[a("v-col",[a("v-btn",{attrs:{color:"primary",block:""},on:{click:t.addRow}},[t._v("Add Server")])],1)],1),t._l(t.iservers,(function(e,r){return a("v-form",{key:e.id,ref:1e3*(e.id+1)+r+1,refInFor:!0,model:{value:e.valid,callback:function(a){t.$set(e,"valid",a)},expression:"server.valid"}},[a("v-row",{staticClass:"mx-n3",attrs:{dense:""}},[a("v-col",{attrs:{cols:"auto"}},[a("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function(n){var i=n.on,o=n.attrs;return[a("v-btn",t._g(t._b({staticClass:"m",attrs:{icon:"",color:r===t.current||t.isModified(e,r)?"primary darken-1":""},on:{click:function(a){return t.save(r,e)}}},"v-btn",o,!1),i),[r===t.current?a("v-icon",[t._v("mdi-checkbox-marked-circle-outline")]):t.isModified(e,r)?a("v-icon",[t._v("mdi-content-save")]):a("v-icon",[t._v("mdi-checkbox-blank-circle-outline")])],1)]}}],null,!0)},[r===t.current?a("span",[t._v("Selected")]):t.isModified(e,r)?a("span",[t._v("Save changes")]):a("span",[t._v("Select")])])],1),a("v-col",[a("v-text-field",{attrs:{outlined:"",rules:t.urlRules,label:"Server URL",required:""},model:{value:e.url,callback:function(a){t.$set(e,"url",a)},expression:"server.url"}})],1),a("v-col",[a("v-text-field",{attrs:{outlined:"",type:"password",rules:t.passwordRules,label:"Password",required:""},model:{value:e.password,callback:function(a){t.$set(e,"password",a)},expression:"server.password"}})],1),a("v-col",{attrs:{cols:"auto"}},[a("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"m",attrs:{icon:"",color:"red accent-1"},on:{click:function(e){return t.remove(r)}}},"v-btn",i,!1),n),[a("v-icon",[t._v("mdi-delete")])],1)]}}],null,!0)},[t._v(" Remove ")])],1)],1)],1)})),a("v-row",[a("v-col",[a("v-divider")],1)],1),a("v-row",{staticClass:"mb-3"},[a("v-col",[a("v-btn",{attrs:{block:"",disabled:""}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-package-down")]),t._v(" Export Backup ")],1)],1)],1)],2)],1)],1)},g=[],y=(a("3ca3"),a("ddb0"),a("2b3d"),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t.startsWith("http://")&&t.startsWith("https://")||(t="https://"+t);try{var e=new URL(t);return e.href.replace(/\/$/,"")}catch(a){return!1}}),k=function(){var t=0;return function(){return t++}}(),_=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(u["a"])(this,Object(d["a"])(e).apply(this,arguments)),t.iservers=t.servers.map((function(e){var a=e.password,r=e.url;return{id:t.counter(),valid:!1,password:a,url:r}})),t.icurrent=t.current,t.valid=!1,t.urlRules=[function(t){return!!t||"URL is required"},function(t){var e=y(t);return!!e||"URL has to be valid"}],t.passwordRules=[function(t){return!!t||"Password is required"}],t}return Object(v["a"])(e,t),Object(l["a"])(e,[{key:"onServersChanged",value:function(){var t=this;this.iservers=this.servers.map((function(e){var a=e.password,r=e.url;return{id:t.counter(),valid:!1,password:a,url:r}}))}},{key:"counter",value:function(){return k()}},{key:"save",value:function(t,e){var a=e.url,r=e.password,n=e.valid;n&&this.$emit("save",{index:t,url:a,password:r})}},{key:"remove",value:function(t){this.$emit("delete",t)}},{key:"addRow",value:function(){this.iservers.push({id:this.counter(),password:"",url:"",valid:!1})}},{key:"isModified",value:function(t,e){return!this.servers[e]||!this.servers[e].url||!this.servers[e].password||this.servers[e].url!==t.url||this.servers[e].password!==t.password}}]),e}(m["d"]);Object(p["a"])([Object(m["b"])()],_.prototype,"servers",void 0),Object(p["a"])([Object(m["c"])("open")],_.prototype,"show",void 0),Object(p["a"])([Object(m["c"])("view")],_.prototype,"viewSettings",void 0),Object(p["a"])([Object(m["e"])("servers",{deep:!0})],_.prototype,"onServersChanged",null),Object(p["a"])([Object(m["b"])()],_.prototype,"current",void 0),_=Object(p["a"])([Object(m["a"])({})],_);var w=_,x=w,O=(a("2c09"),a("2877")),j=a("6544"),C=a.n(j),D=a("40dc"),T=a("8336"),V=a("62ad"),S=a("a523"),M=a("a75b"),$=a("ce7e"),P=a("4bd4"),A=a("132d"),R=a("24c9"),I=a("f774"),F=a("0fd9"),E=a("2fa4"),L=a("b73d"),U=a("8654"),N=a("2a7f"),z=a("3a2f"),Y=Object(O["a"])(x,b,g,!1,null,"1d711783",null),B=Y.exports;C()(Y,{VAppBar:D["a"],VBtn:T["a"],VCol:V["a"],VContainer:S["a"],VContent:M["a"],VDivider:$["a"],VForm:P["a"],VIcon:A["a"],VLabel:R["a"],VNavigationDrawer:I["a"],VRow:F["a"],VSpacer:E["a"],VSwitch:L["a"],VTextField:U["a"],VToolbarItems:N["a"],VToolbarTitle:N["b"],VTooltip:z["a"]});var q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-navigation-drawer",{staticClass:"top",attrs:{app:"","mobile-breakpoint":"0",width:t.$vuetify.breakpoint.smAndUp?432:"100vw",temporary:"",right:"",absolute:""},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("v-app-bar",{attrs:{fixed:"",dark:"",color:"primary",flat:"","elevate-on-scroll":""}},[a("v-toolbar-title",[t._v("Help & About")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.show=!1}}},[a("v-icon",[t._v("mdi-close")])],1)],1)],1),a("v-content",{staticClass:"scroll"},[a("v-container",{staticClass:"px-4",attrs:{fluid:""}},[a("h2",{staticClass:"mb-3"},[t._v("Help")]),a("h3",[t._v("Server")]),a("p",[t._v(" Set your server in the settings. They’re accessible via the cog icon in the top right corner (only visible after closing this window). If you haven’t access to any server, "),a("a",{attrs:{href:"https://github.com/tridoc/tridoc-backend/blob/master/README.md"}},[t._v("learn how to set one up")]),t._v(". ")]),a("h3",[t._v("Tags and Filters")]),a("p",[t._v(" Tridoc has an advanced tagging system with two kinds of tags: normal tags which behave as you’d expect and “parameterizable” tags which allow either a number or date to be set when adding them to documents. This allows for more specific filtering for certain ranges of values. The tag filters can be either in- or exclusive and are added together: A document must fulfil all filters to show up in the results. ")]),a("p",[t._v(" The search bar searches in document texts and titles. For this purpose, the server tries to do OCR (character recogintion) on all documents which don’t already contain text metadata. ")]),a("h3",[t._v("Comments")]),a("p",[t._v(" There exists the ability to add comments to documents. Currently, there is no way of deleting or editing comments. ")]),a("v-divider"),a("h2",{staticClass:"my-3"},[t._v("About Tridoc")]),a("p",[t._v(" Tridoc aims to provide easy document management for individuals and small teams. ")]),a("p",[t._v(" On the server-side, Tridoc runs using hapijs in node and fuseki. "),a("a",{attrs:{href:"https://github.com/tridoc/tridoc-backend"}},[t._v("View the repository of the backend.")])]),a("p",[t._v(" There also exists "),a("a",{attrs:{href:"https://github.com/tridoc/tridoc-folder"}},[t._v("a native program")]),t._v(" for easy upload from a folder on your computer. It doesn’t, however, provide any graphical user interface. ")]),a("p",[t._v(" If you’ve been using Evernote before, you can import your notebooks’ PDFs to tridoc with our "),a("a",{attrs:{href:"https://github.com/tridoc/tridoc-enex-importer"}},[t._v("Enex importer")]),t._v(". ")]),a("v-btn",{attrs:{block:"",href:"https://github.com/tridoc/tridoc-cockpit"}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-github")]),t._v(" View the repository on Github ")],1)],1)],1)],1)},W=[],H=function(t){function e(){return Object(c["a"])(this,e),Object(u["a"])(this,Object(d["a"])(e).apply(this,arguments))}return Object(v["a"])(e,t),e}(m["d"]);Object(p["a"])([Object(m["c"])("open")],H.prototype,"show",void 0),H=Object(p["a"])([Object(m["a"])({})],H);var G=H,X=G,J=(a("2517"),Object(O["a"])(X,q,W,!1,null,"079add83",null)),K=J.exports;C()(J,{VAppBar:D["a"],VBtn:T["a"],VContainer:S["a"],VContent:M["a"],VDivider:$["a"],VIcon:A["a"],VNavigationDrawer:I["a"],VSpacer:E["a"],VToolbarItems:N["a"],VToolbarTitle:N["b"]});var Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.error?a("v-card",{staticClass:"elevation-0 mt-3 pa-3",attrs:{color:t.color,dark:""}},[a("v-row",{staticClass:"ma-0 nowrap"},[a("div",[a("strong",[t._v(t._s(t.title))]),a("br"),a("span",[t._v(t._s(t.message))])]),a("v-spacer"),a("div",{staticClass:"vert"},[a("v-btn",{attrs:{color:t.color+" darken-3"},on:{click:t.close}},[t._v(" Dismiss ")])],1)],1)],1):t._e()},Q=[],tt=function(t){function e(){return Object(c["a"])(this,e),Object(u["a"])(this,Object(d["a"])(e).apply(this,arguments))}return Object(v["a"])(e,t),Object(l["a"])(e,[{key:"title",get:function(){return null!==this.error?this.error.title||"An Error Occured":"..."}},{key:"message",get:function(){return null!==this.error?this.error.message||"Unknown error":"..."}},{key:"color",get:function(){return null!==this.error?this.error.color||"error":"..."}}]),e}(m["d"]);Object(p["a"])([Object(m["b"])()],tt.prototype,"error",void 0),Object(p["a"])([Object(m["b"])()],tt.prototype,"close",void 0),tt=Object(p["a"])([Object(m["a"])({})],tt);var et=tt,at=et,rt=(a("df06"),a("b0af")),nt=Object(O["a"])(at,Z,Q,!1,null,"6c9ff424",null),it=nt.exports;C()(nt,{VBtn:T["a"],VCard:rt["a"],VRow:F["a"],VSpacer:E["a"]});var ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{fullscreen:t.$vuetify.breakpoint.smAndDown,persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-btn",t._g({attrs:{block:"",noutlined:"",ntext:"",color:"primary"}},r),[a("v-icon",{attrs:{left:""}},[t._v("mdi-tag-plus")]),t._v(" Create Tag ")],1)]}}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Create Tag")])]),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:t.labelRules,label:"Label",required:""},model:{value:t.label,callback:function(e){t.label=e},expression:"label"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-radio-group",{model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[a("v-radio",{attrs:{value:"simple"},scopedSlots:t._u([{key:"label",fn:function(){return[a("v-icon",{attrs:{small:"",left:""}},[t._v("mdi-tag")]),t._v(" Not parameterizable ")]},proxy:!0}])}),a("v-radio",{attrs:{value:"decimal"},scopedSlots:t._u([{key:"label",fn:function(){return[a("v-icon",{attrs:{small:"",left:""}},[t._v("mdi-pound")]),t._v(" Parameterizable with number / decimal ")]},proxy:!0}])}),a("v-radio",{attrs:{value:"date"},scopedSlots:t._u([{key:"label",fn:function(){return[a("v-icon",{attrs:{small:"",left:""}},[t._v("mdi-calendar")]),t._v(" Parameterizable with date ")]},proxy:!0}])})],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"secondary darken-1",text:""},on:{click:t.clear}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"secondary darken-1",text:""},on:{click:function(e){t.show=!1}}},[t._v("Close")]),a("v-btn",{attrs:{color:"primary darken-1",text:""},on:{click:t.save}},[t._v("Save")])],1)],1)],1)},st=[],ct=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(u["a"])(this,Object(d["a"])(e).apply(this,arguments)),t.show=!1,t.valid=!1,t.label="",t.type="simple",t.labelRules=[function(t){return!!t||"Label is required"},function(t){return!/\s|\/|\\|#|"|'|,|;|:|\?/.test(t)||"The label must not contain any of the following: whitespace / \\ # \" ' , ; : ?"},function(t){return!/^[.]{1,2}$/.test(t)||"The label must not equal . (single dot) or .. (double dot)"}],t}return Object(v["a"])(e,t),Object(l["a"])(e,[{key:"clear",value:function(){this.show=!1,this.label="",this.type="simple",this.$refs.form.resetValidation()}},{key:"save",value:function(){var t=this;this.$refs.form.validate(),this.valid&&this.server.createTag(this.label,"simple"!==this.type?this.type:void 0).then((function(e){e.error?(t.$emit("error",e),t.clear()):(t.$emit("tagcreated"),t.clear())}))}}]),e}(m["d"]);Object(p["a"])([Object(m["b"])()],ct.prototype,"server",void 0),ct=Object(p["a"])([Object(m["a"])({})],ct);var lt=ct,ut=lt,dt=a("99d9"),vt=a("169a"),pt=a("67b6"),mt=a("43a6"),ft=Object(O["a"])(ut,ot,st,!1,null,null,null),ht=ft.exports;C()(ft,{VBtn:T["a"],VCard:rt["a"],VCardActions:dt["a"],VCardText:dt["c"],VCardTitle:dt["d"],VCol:V["a"],VContainer:S["a"],VDialog:vt["a"],VForm:P["a"],VIcon:A["a"],VRadio:pt["a"],VRadioGroup:mt["a"],VRow:F["a"],VSpacer:E["a"],VTextField:U["a"]});var bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"my-2",attrs:{outlined:""}},[a("div",{staticClass:"top"},[a("div",{staticClass:"label ml-2"},[t._v(t._s(t.tag.label))]),a("v-spacer"),a("div",{staticClass:"buttons"},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"ma-1",attrs:{icon:"",small:"",color:"red accent-1"},on:{click:t.askDeleteTag}},"v-btn",n,!1),r),[a("v-icon",{attrs:{small:""}},[t._v("mdi-delete")])],1)]}}])},[a("small",[t._v("Delete this tag")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"my-1",attrs:{icon:"",small:"",color:-1!==t.status[0].indexOf(t.tag.label)?"primary":""},on:{click:t.includeTag}},"v-btn",n,!1),r),[a("v-icon",[t._v(t._s(-1!==t.status[0].indexOf(t.tag.label)?"mdi-checkbox-marked":"mdi-check-box-outline"))])],1)]}}])},[a("small",[t._v("Show only Documents with this tag")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"my-1 mr-1",attrs:{icon:"",small:"",color:-1!==t.status[1].indexOf(t.tag.label)?"primary":""},on:{click:t.excludeTag}},"v-btn",n,!1),r),[a("v-icon",[t._v(t._s(-1!==t.status[1].indexOf(t.tag.label)?"mdi-close-box":"mdi-close-box-outline"))])],1)]}}])},[a("small",[t._v("Show only Documents without this tag")])])],1)],1),t.tag["type-icon"]?a("div",[t._l(t.status[2],(function(e,r){return a("range-input",{key:(e[3]?"y":"n")+"_"+r,attrs:{minimum:e[1],maximum:e[2],include:e[3],remove:t.removeRange,toggle:t.toggleRange,change:t.getDocuments,type:"mdi-pound"===t.tag["type-icon"]?"number":"date"},on:{"update:minimum":function(a){return t.$set(e,1,a)},"update:maximum":function(a){return t.$set(e,2,a)},"update:include":function(a){return t.$set(e,3,a)}}})})),a("v-divider"),a("v-btn",{attrs:{text:"",small:"",block:""},on:{click:t.addRange}},[a("v-icon",{attrs:{small:"",left:""}},[t._v(t._s(t.tag["type-icon"]))]),t._v(" Add Range Filter ")],1)],2):t._e()])},gt=[],yt=(a("c975"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-divider"),"number"===t.type?a("div",{staticClass:"rangerow mx-2 mt-2"},[a("v-text-field",{attrs:{label:"From",outlined:"",dense:"","hide-details":"auto",type:"number"},model:{value:t.min,callback:function(e){t.min=e},expression:"min"}}),a("v-text-field",{attrs:{label:"To",outlined:"",dense:"","hide-details":"auto",type:"number"},model:{value:t.max,callback:function(e){t.max=e},expression:"max"}})],1):a("div",{staticClass:"rangerow mx-2 mt-2"},[a("v-menu",{ref:"minMenu",attrs:{"close-on-content-click":!1,"return-value":t.min,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(e){t.min=e},"update:return-value":function(e){t.min=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"From",outlined:"",dense:"","hide-details":"auto",rules:t.dateRules},on:{change:function(e){t.minDate=t.min||""}},model:{value:t.min,callback:function(e){t.min=e},expression:"min"}},"v-text-field",n,!1),r))]}}]),model:{value:t.minMenu,callback:function(e){t.minMenu=e},expression:"minMenu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.minDate,callback:function(e){t.minDate=e},expression:"minDate"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.minMenu=!1}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.minMenu.save(t.minDate)}}},[t._v(" OK ")])],1)],1),a("v-menu",{ref:"maxMenu",attrs:{"close-on-content-click":!1,"return-value":t.max,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(e){t.max=e},"update:return-value":function(e){t.max=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"To",outlined:"",dense:"","hide-details":"auto",rules:t.dateRules},on:{change:function(e){t.maxDate=t.max||""}},model:{value:t.max,callback:function(e){t.max=e},expression:"max"}},"v-text-field",n,!1),r))]}}]),model:{value:t.maxMenu,callback:function(e){t.maxMenu=e},expression:"maxMenu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.maxDate,callback:function(e){t.maxDate=e},expression:"maxDate"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.maxMenu=!1}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.maxMenu.save(t.maxDate)}}},[t._v(" OK ")])],1)],1)],1),a("div",{staticClass:"bottom"},[a("v-btn",{staticClass:"ma-1 ml-2",attrs:{text:"",small:""},on:{click:function(){return t.remove(t.min,t.max,t.inc)}}},[t._v("Remove")]),a("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(){return t.toggle(t.min,t.max,t.inc)}}},[a("v-icon",[t._v(t._s(t.inc?"mdi-check-box-outline":"mdi-close-box-outline"))])],1)],1)],1)}),kt=[],_t=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(u["a"])(this,Object(d["a"])(e).apply(this,arguments)),t.minMenu=!1,t.maxMenu=!1,t.minDate="",t.maxDate="",t.dateRules=[function(t){return!t||/^\d{4}-\d{2}-\d{2}$/.test(t)&&!isNaN(new Date(t).getTime())||"Must be a date of format YYYY-MM-DD"}],t}return Object(v["a"])(e,t),Object(l["a"])(e,[{key:"changeM",value:function(){this.change()}}]),e}(m["d"]);Object(p["a"])([Object(m["c"])("minimum")],_t.prototype,"min",void 0),Object(p["a"])([Object(m["c"])("maximum")],_t.prototype,"max",void 0),Object(p["a"])([Object(m["c"])("include")],_t.prototype,"inc",void 0),Object(p["a"])([Object(m["b"])()],_t.prototype,"type",void 0),Object(p["a"])([Object(m["b"])()],_t.prototype,"remove",void 0),Object(p["a"])([Object(m["b"])()],_t.prototype,"toggle",void 0),Object(p["a"])([Object(m["b"])()],_t.prototype,"change",void 0),Object(p["a"])([Object(m["e"])("min"),Object(m["e"])("max")],_t.prototype,"changeM",null),_t=Object(p["a"])([Object(m["a"])({})],_t);var wt=_t,xt=wt,Ot=(a("0422"),a("2e4b")),jt=a("e449"),Ct=Object(O["a"])(xt,yt,kt,!1,null,"141934ea",null),Dt=Ct.exports;C()(Ct,{VBtn:T["a"],VDatePicker:Ot["a"],VDivider:$["a"],VIcon:A["a"],VMenu:jt["a"],VSpacer:E["a"],VTextField:U["a"]});a("12ea");var Tt=function(t){function e(){return Object(c["a"])(this,e),Object(u["a"])(this,Object(d["a"])(e).apply(this,arguments))}return Object(v["a"])(e,t),Object(l["a"])(e,[{key:"includeTag",value:function(){var t=this,e=this.dnsearch.nottags.findIndex((function(e){return e[0]===t.tag.label&&void 0===e[1]&&void 0===e[2]}));e>-1&&this.dnsearch.nottags.splice(e,1);var a=this.dnsearch.tags.findIndex((function(e){return e[0]===t.tag.label&&void 0===e[1]&&void 0===e[2]}));a>-1?this.dnsearch.tags.splice(a,1):this.dnsearch.tags.push([this.tag.label,void 0,void 0]),this.getDocuments()}},{key:"excludeTag",value:function(){var t=this,e=this.dnsearch.tags.findIndex((function(e){return e[0]===t.tag.label&&void 0===e[1]&&void 0===e[2]}));e>-1&&this.dnsearch.tags.splice(e,1);var a=this.dnsearch.nottags.findIndex((function(e){return e[0]===t.tag.label&&void 0===e[1]&&void 0===e[2]}));a>-1?this.dnsearch.nottags.splice(a,1):this.dnsearch.nottags.push([this.tag.label,void 0,void 0]),this.getDocuments()}},{key:"addRange",value:function(){this.dnsearch.tags.push([this.tag.label,void 0,void 0]),this.getDocuments()}},{key:"removeRange",value:function(t,e,a){a?this.dnsearch.tags.splice(this.dnsearch.tags.indexOf([this.tag.label,t,e]),1):this.dnsearch.nottags.splice(this.dnsearch.nottags.indexOf([this.tag.label,t,e]),1),this.getDocuments()}},{key:"toggleRange",value:function(t,e,a){a?(this.dnsearch.tags.splice(this.dnsearch.tags.indexOf([this.tag.label,t,e]),1),this.dnsearch.nottags.push([this.tag.label,t,e])):(this.dnsearch.nottags.splice(this.dnsearch.nottags.indexOf([this.tag.label,t,e]),1),this.dnsearch.tags.push([this.tag.label,t,e])),this.getDocuments()}},{key:"askDeleteTag",value:function(){confirm("Delete Tag “".concat(this.tag.label,"”?\nThis action cannot be undone."))&&(this.deleteTag(this.tag.label),this.reload())}},{key:"status",get:function(){var t=this,e=this.dnsearch.tags.filter((function(e){return e[0]===t.tag.label&&(void 0===e[1]||""===e[1])&&(void 0===e[2]||""===e[2])})).map((function(t){return t[0]})),a=this.dnsearch.nottags.filter((function(e){return e[0]===t.tag.label&&(void 0===e[1]||""===e[1])&&(void 0===e[2]||""===e[2])})).map((function(t){return t[0]})),r=this.dnsearch.tags.filter((function(e){return e[0]===t.tag.label})).map((function(t){return t[3]=!0,t})),n=this.dnsearch.nottags.filter((function(e){return e[0]===t.tag.label})).map((function(t){return t[3]=!1,t}));return[e,a,r.concat(n)]}}]),e}(m["d"]);Object(p["a"])([Object(m["b"])()],Tt.prototype,"reload",void 0),Object(p["a"])([Object(m["b"])()],Tt.prototype,"getDocuments",void 0),Object(p["a"])([Object(m["b"])()],Tt.prototype,"error",void 0),Object(p["a"])([Object(m["b"])()],Tt.prototype,"deleteTag",void 0),Object(p["a"])([Object(m["b"])()],Tt.prototype,"currentserver",void 0),Object(p["a"])([Object(m["b"])()],Tt.prototype,"tag",void 0),Object(p["a"])([Object(m["c"])("search")],Tt.prototype,"dnsearch",void 0),Tt=Object(p["a"])([Object(m["a"])({components:{RangeInput:Dt}})],Tt);var Vt=Tt,St=Vt,Mt=(a("b24a"),Object(O["a"])(St,bt,gt,!1,null,"125cc5ea",null)),$t=Mt.exports;C()(Mt,{VBtn:T["a"],VCard:rt["a"],VDivider:$["a"],VIcon:A["a"],VSpacer:E["a"],VTooltip:z["a"]});var Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.show,scrollable:"",fullscreen:""}},[a("v-card",{attrs:{tile:""}},[a("v-toolbar",{staticStyle:{flex:"0"},attrs:{dark:"",color:"primary",flat:"","elevate-on-scroll":""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.show=!1}}},[a("v-icon",[t._v("mdi-close")])],1),a("v-toolbar-title",[t._v(t._s(t.meta.title||t.meta.identifier))]),a("v-spacer"),a("v-btn",{attrs:{icon:t.$vuetify.breakpoint.smAndDown,text:"",dark:""},on:{click:function(e){return t.openDocument(t.meta.identifier)}}},[a("v-icon",{attrs:{left:!t.$vuetify.breakpoint.smAndDown}},[t._v("mdi-open-in-new")]),a("span",{attrs:{hidden:t.$vuetify.breakpoint.smAndDown}},[t._v("Open in new tab")])],1),a("v-btn",{attrs:{icon:t.$vuetify.breakpoint.smAndDown,text:"",dark:"",color:"red accent-1"},on:{click:function(e){return t.deleteDocument(t.meta.identifier)}}},[a("v-icon",{attrs:{left:!t.$vuetify.breakpoint.smAndDown}},[t._v("mdi-delete")]),a("span",{attrs:{hidden:t.$vuetify.breakpoint.smAndDown}},[t._v("Delete this document")])],1)],1),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"5"}},[a("v-card-title",{staticClass:"px-0 text--primary"},[t._v(" Metadata ")]),a("v-card-subtitle",{staticClass:"px-0 mb-6"},[a("kbd",[t._v(t._s(t.docMeta.identifier))])]),a("v-text-field",{attrs:{outlined:"",label:"Title"},on:{change:t.updateTitle},model:{value:t.meta.title,callback:function(e){t.$set(t.meta,"title",e)},expression:"meta.title"}}),a("v-chip-group",{staticClass:"mb-8",attrs:{column:""}},[a("tag-adder",{attrs:{meta:t.meta,server:t.server},on:{"update:meta":function(e){return t.$emit("update:docMeta",e)}}}),t._l(t.meta.tags,(function(e){return a("v-chip",{key:e.label+(e.parameter?e.parameter.value:""),attrs:{label:""}},[".."===e.label?a("v-icon",[t._v("mdi-sync")]):a("span",[t._v(t._s(e.label))]),e.parameter?a("v-divider",{staticClass:"mx-3",attrs:{vertical:""}}):t._e(),e.parameter?a("strong",[t._v(t._s("http://www.w3.org/2001/XMLSchema#decimal"===e.parameter.type?e.parameter.value:t.calculateDatestamp(e.parameter.value)))]):t._e()],1)}))],2),a("comments-list",{attrs:{server:t.server,meta:t.meta},on:{"update:meta":function(e){return t.$emit("update:docMeta",e)}}})],1),a("v-col",{attrs:{cols:"12",md:"7"}},[a("v-toolbar",{staticClass:"tools",attrs:{fdense:""}},[a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:t.scaleDown}},[a("v-icon",[t._v("mdi-magnify-minus-outline")])],1),t.$vuetify.breakpoint.smAndUp?a("v-text-field",{staticClass:"narrow",attrs:{"hide-details":"",dense:"","single-line":"",outlined:"",value:t.getScale(),clearable:"",suffix:"%",type:"number",step:"10"},on:{input:t.setScale,"click:clear":t.scaleOff}}):t._e(),t.$vuetify.breakpoint.xs?a("v-btn",{attrs:{icon:""},on:{click:t.scaleOff}},[t._v(" 1:1 ")]):t._e(),a("v-btn",{attrs:{icon:""},on:{click:t.scaleUp}},[a("v-icon",[t._v("mdi-magnify-plus-outline")])],1),a("v-spacer"),t._v(" "+t._s(t.numPages)+" Pages "),a("v-progress-linear",{attrs:{active:t.loading,indeterminate:"",absolute:"",bottom:""}})],1),a("div",{staticClass:"pdf-wrap"},t._l(t.numPages,(function(e){return a("pdf",{key:e,class:t.resize?"pdf":"pdf center",attrs:{src:t.pdfsrc(),id:e,page:e,scale:t.scale,resize:t.resize,annotation:""},on:{"update:scale":function(e){t.scale=e},loading:t.loadingChange}})})),1)],1)],1)],1)],1)],1)},At=[],Rt=(a("b680"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{fullscreen:t.$vuetify.breakpoint.smAndDown,persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-chip",t._g({attrs:{color:"primary",label:""}},r),[a("v-icon",{attrs:{left:""}},[t._v("mdi-pencil")]),a("strong",[t._v("EDIT TAGS")])],1)]}}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Manage Tags")]),a("v-card-subtitle",[t._v(" "+t._s(t.docMeta.title)+" "),a("kbd",{staticClass:"mx-2"},[t._v(t._s(t.docMeta.identifier))])]),a("v-card-text",[t._v(" Has: "),a("v-chip-group",{attrs:{column:""}},t._l(t.docMeta.tags,(function(e){return a("v-chip",{key:e.label+(e.parameter?e.parameter.value:""),attrs:{label:"",close:""},on:{"click:close":function(a){return t.removeTag(e.label)}}},[".."===e.label?a("v-icon",[t._v("mdi-sync")]):a("span",[t._v(t._s(e.label))]),e.parameter?a("v-divider",{staticClass:"mx-3",attrs:{vertical:""}}):t._e(),e.parameter?a("strong",[t._v(t._s("http://www.w3.org/2001/XMLSchema#decimal"===e.parameter.type?e.parameter.value:t.calculateDatestamp(e.parameter.value)))]):t._e()],1)})),1),t._v(" Avaliable: "),a("v-chip-group",{attrs:{column:""}},t._l(t.allTags,(function(e){return a("v-chip",{key:e.label,attrs:{label:""},on:{click:function(a){t.label=e.label}}},[e.parameter?a("v-icon",{staticClass:"mr-3",attrs:{small:""}},[t._v(t._s("http://www.w3.org/2001/XMLSchema#decimal"===e.parameter.type?"mdi-pound":"mdi-calendar"))]):t._e(),".."===e.label?a("v-icon",[t._v("mdi-sync")]):a("span",[t._v(t._s(e.label))])],1)})),1),a("v-divider",{staticClass:"mt-2 mb-3"}),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{outlined:"",rules:t.labelRules,label:"Label",required:""},model:{value:t.label,callback:function(e){t.label=e},expression:"label"}})],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{outlined:"",rules:t.valRules,label:"Value",required:"",disabled:"simple"===this.type,messages:"simple"===this.type?"Value will be ignored for simple tags":""},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1),a("v-row",[a("v-col",{staticClass:"mt-0",attrs:{cols:"12"}},[a("v-radio-group",{staticClass:"mt-0",attrs:{disabled:t.fixed},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[a("v-radio",{attrs:{value:"simple"},scopedSlots:t._u([{key:"label",fn:function(){return[a("v-icon",{attrs:{small:"",left:""}},[t._v("mdi-tag")]),t._v(" Not parameterizable ")]},proxy:!0}])}),a("v-radio",{attrs:{value:"decimal"},scopedSlots:t._u([{key:"label",fn:function(){return[a("v-icon",{attrs:{small:"",left:""}},[t._v("mdi-pound")]),t._v(" Parameterizable with number / decimal ")]},proxy:!0}])}),a("v-radio",{attrs:{value:"date"},scopedSlots:t._u([{key:"label",fn:function(){return[a("v-icon",{attrs:{small:"",left:""}},[t._v("mdi-calendar")]),t._v(" Parameterizable with date ")]},proxy:!0}])})],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"secondary",text:""},on:{click:t.clear}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"primary"},on:{click:t.save}},[t._v("Add")])],1)],1)],1)}),It=[],Ft=(a("7db0"),a("c7cd"),a("96cf"),a("1da1")),Et=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(u["a"])(this,Object(d["a"])(e).apply(this,arguments)),t.allTags=[],t.show=!1,t.valid=!1,t.label="",t.type="simple",t.value="",t.fixed=!1,t.labelRules=[function(t){return!!t||"Label is required"},function(t){return!/\s|\/|\\|#|"|'|,|;|:|\?/.test(t)||"The label must not contain any of the following: whitespace / \\ # \" ' , ; : ?"},function(t){return!/^[.]{1,2}$/.test(t)||"The label must not equal . (single dot) or .. (double dot)"}],t.valRules=[function(e){return"decimal"===t.getType()&&!isNaN(+e)||"decimal"!==t.getType()||"Must be a number"},function(e){return"date"===t.getType()&&/^\d{4}-\d{2}-\d{2}$/.test(e)&&!isNaN(new Date(e).getTime())||"date"!==t.getType()||"Must be a date of format YYYY-MM-DD"}],t}return Object(v["a"])(e,t),Object(l["a"])(e,[{key:"change",value:function(t){var e=this.allTags.find((function(e){return e.label===t}));e?(this.fixed=!0,this.type=e.parameter?"http://www.w3.org/2001/XMLSchema#decimal"===e.parameter.type?"decimal":"date":"simple"):this.fixed=!1}},{key:"getType",value:function(){return this.type}},{key:"clear",value:function(){this.show=!1,this.label="",this.type="simple",this.$refs.form.resetValidation()}},{key:"save",value:function(){var t=Object(Ft["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.valid=this.$refs.form.validate(),!this.valid){t.next=18;break}return t.next=4,this.reloadTags();case 4:if(-1===(this.docMeta.tags||[]).findIndex((function(t){return t.label===e.label}))){t.next=9;break}return alert("Tag has already been added to the document"),t.abrupt("return");case 9:if(-1!==this.allTags.findIndex((function(t){return t.label===e.label}))){t.next=17;break}if(!confirm("This tag doesn’t exist yet. Do you want to create it?")){t.next=15;break}return t.next=13,this.server().createTag(this.label,"simple"!==this.type?this.type:void 0).then((function(t){"error"in t&&console.error(t)}));case 13:t.next=17;break;case 15:return this.reload(),t.abrupt("return");case 17:this.server().addTag(this.docMeta.identifier,this.label,"simple"!==this.type?this.type:void 0,"simple"!==this.type?this.value:void 0).then((function(t){t.error?(e.$emit("error",t),e.reload()):(e.$emit("tagadded"),e.reload(),e.$refs.form.reset())}));case 18:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"removeTag",value:function(t){confirm('Do you want to remove tag "'.concat(t,'" from the Document?\nThis Action cannot be undone'))&&this.server().removeTag(this.docMeta.identifier,t).then(this.reload)}},{key:"calculateDatestamp",value:function(t){var e=new Date(t),a=e.getFullYear().toString().padStart(4,"0"),r=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getDate().toString().padStart(2,"0"),i=new Date,o=Math.floor((i.getTime()-e.getTime())/864e5);switch(o){case 0:return"Today";case 1:return"Yesterday";default:return"".concat(a,"-").concat(r,"-").concat(n)}}},{key:"reloadTags",value:function(){var t=this;return this.server().getTags().then((function(e){"error"in e||(t.allTags=e.filter((function(e){return-1===(t.docMeta.tags||[]).findIndex((function(t){return t.label===e.label}))})))}))}},{key:"reload",value:function(){var t=this;this.server().getMeta(this.docMeta.identifier).then((function(e){"error"in e||t.$emit("update:meta",Object(s["a"])({},e,{identifier:t.docMeta.identifier}))})).then((function(){t.reloadTags()}))}},{key:"created",value:function(){this.reload()}}]),e}(m["d"]);Object(p["a"])([Object(m["b"])()],Et.prototype,"server",void 0),Object(p["a"])([Object(m["c"])("meta")],Et.prototype,"docMeta",void 0),Object(p["a"])([Object(m["e"])("label")],Et.prototype,"change",null),Et=Object(p["a"])([Object(m["a"])({})],Et);var Lt=Et,Ut=Lt,Nt=a("cc20"),zt=a("ef9a"),Yt=Object(O["a"])(Ut,Rt,It,!1,null,null,null),Bt=Yt.exports;C()(Yt,{VBtn:T["a"],VCard:rt["a"],VCardActions:dt["a"],VCardSubtitle:dt["b"],VCardText:dt["c"],VCardTitle:dt["d"],VChip:Nt["a"],VChipGroup:zt["a"],VCol:V["a"],VContainer:S["a"],VDialog:vt["a"],VDivider:$["a"],VForm:P["a"],VIcon:A["a"],VRadio:pt["a"],VRadioGroup:mt["a"],VRow:F["a"],VSpacer:E["a"],VTextField:U["a"]});var qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-3"},[a("v-card",{attrs:{outlined:"",loading:t.loading}},[t.loading?a("v-card-text",[t._v(" Loading Comments ")]):t.meta.comments&&0!==t.meta.comments.length?t._e():a("v-card-text",[t._v(" No Comments found ")]),t._l(t.meta.comments,(function(e,r){return a("div",{key:e.created},[0!==r?a("v-divider"):t._e(),a("v-card-text",[a("span",{staticStyle:{"white-space":"pre"}},[t._v(t._s(e.text))]),a("code",{staticClass:"ml-2"},[t._v(t._s(e.created.replace("T"," ").replace(/:\d{2}\.\d{1,3}/," ").replace("Z","UTC")))])])],1)}))],2),a("v-form",{ref:"form",staticClass:"d-flex pt-3 align-stretch",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-textarea",{attrs:{outlined:"",rules:t.commentRules,label:"New Comment",required:"",rows:"1","auto-grow":""},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}}),a("v-btn",{staticClass:"ml-1",staticStyle:{height:"unset","margin-bottom":"30px"},attrs:{outlined:""},on:{click:t.add}},[t._v(" Add ")])],1)],1)},Wt=[],Ht=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(u["a"])(this,Object(d["a"])(e).apply(this,arguments)),t.allTags=[],t.loading=!0,t.comment="",t.valid=!1,t.commentRules=[function(t){return!!t||"Can’t make empty comments"}],t}return Object(v["a"])(e,t),Object(l["a"])(e,[{key:"add",value:function(){var t=Object(Ft["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.valid=this.$refs.form.validate(),this.valid&&this.server().addComment(this.docMeta.identifier,this.comment).then((function(){e.$refs.form.reset(),e.reload()}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"calculateDatestamp",value:function(t){var e=new Date(t),a=e.getFullYear().toString().padStart(4,"0"),r=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getDate().toString().padStart(2,"0"),i=new Date,o=Math.floor((i.getTime()-e.getTime())/864e5);switch(o){case 0:return"Today";case 1:return"Yesterday";default:return"".concat(a,"-").concat(r,"-").concat(n)}}},{key:"reload",value:function(){var t=this;this.server().getMeta(this.docMeta.identifier).then((function(e){t.loading=!1,"error"in e||t.$emit("update:meta",Object(s["a"])({},e,{identifier:t.docMeta.identifier}))}))}},{key:"created",value:function(){this.reload()}}]),e}(m["d"]);Object(p["a"])([Object(m["b"])()],Ht.prototype,"server",void 0),Object(p["a"])([Object(m["c"])("meta")],Ht.prototype,"docMeta",void 0),Ht=Object(p["a"])([Object(m["a"])({})],Ht);var Gt=Ht,Xt=Gt,Jt=a("a844"),Kt=Object(O["a"])(Xt,qt,Wt,!1,null,null,null),Zt=Kt.exports;C()(Kt,{VBtn:T["a"],VCard:rt["a"],VCardText:dt["c"],VDivider:$["a"],VForm:P["a"],VTextarea:Jt["a"]});var Qt=a("10ee"),te=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(u["a"])(this,Object(d["a"])(e).apply(this,arguments)),t.opened=!1,t.console=console,t.page=1,t.numPages=0,t.pdfdata=void 0,t.errors=[],t.scale="page-width",t.loading=!0,t.resize=!0,t}return Object(v["a"])(e,t),Object(l["a"])(e,[{key:"openFirstTime",value:function(){this.opened||(this.opened=!0,this.getPdf(),this.getComments())}},{key:"pdfsrc",value:function(){return{url:(this.server().url.startsWith("https://")||this.server().url.startsWith("http://")?this.server().url:"https://"+this.server().url)+"/doc/"+this.meta.identifier,httpHeaders:{Authorization:this.server().headers.get("Authorization")}}}},{key:"calculateDatestamp",value:function(t){var e=new Date(t),a=e.getFullYear().toString().padStart(4,"0"),r=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getDate().toString().padStart(2,"0"),i=new Date,o=Math.floor((i.getTime()-e.getTime())/864e5);switch(o){case 0:return"Today";case 1:return"Yesterday";default:return"".concat(a,"-").concat(r,"-").concat(n)}}},{key:"openDocument",value:function(t){var e=this.server().url.startsWith("https://")||this.server().url.startsWith("http://")?this.server().url:"https://"+this.server().url;window.open(e+"/doc/"+t,"_blank")}},{key:"deleteDocument",value:function(t){var e=this;if(confirm("Are you sure you want to delete this Document?")){this.show=!1;var a=this.server();a&&a.deleteDocument(t).then((function(t){"error"in t?e.err=Object(s["a"])({title:t.error,message:t.message},t):e.$emit("change")}))}}},{key:"updateTitle",value:function(){var t=this.server();t&&t.setDocumentTitle(this.meta.identifier,this.meta.title||"")}},{key:"loadingChange",value:function(t){if(this.loading=t,!t||t)for(var e=document.getElementsByTagName("canvas"),a=0;a<e.length;a++)e[a].classList.add("elevation-4")}},{key:"scaleDown",value:function(){this.resize=!1,this.scale=parseFloat(""+this.scale),this.scale>.1?this.scale=(this.scale-.1).toFixed(1):this.scale=.1}},{key:"scaleUp",value:function(){this.resize=!1,this.scale=parseFloat(""+this.scale),this.scale<1.9?this.scale=(this.scale+.1).toFixed(1):this.scale=2}},{key:"scaleOff",value:function(){this.scale="page-width",this.resize=!0}},{key:"getScale",value:function(){return parseInt(""+100*+this.scale)}},{key:"setScale",value:function(t){this.scale=t/100}},{key:"getPdf",value:function(){var t=this,e=(this.server().url.startsWith("https://")||this.server().url.startsWith("http://")?this.server().url:"https://"+this.server().url)+"/doc/"+this.meta.identifier;this.pdfdata=Qt["a"].createLoadingTask({url:e,httpHeaders:{Authorization:this.server().headers.get("Authorization")}}),this.pdfdata.then((function(e){t.numPages=e.numPages}))}},{key:"getComments",value:function(){}}]),e}(m["d"]);Object(p["a"])([Object(m["b"])()],te.prototype,"server",void 0),Object(p["a"])([Object(m["c"])("docMeta")],te.prototype,"meta",void 0),Object(p["a"])([Object(m["c"])("error")],te.prototype,"err",void 0),Object(p["a"])([Object(m["c"])("open")],te.prototype,"show",void 0),Object(p["a"])([Object(m["e"])("show")],te.prototype,"openFirstTime",null),te=Object(p["a"])([Object(m["a"])({components:{pdf:Qt["a"],TagAdder:Bt,CommentsList:Zt}})],te);var ee=te,ae=ee,re=(a("b14c"),a("8e36")),ne=a("71d9"),ie=Object(O["a"])(ae,Pt,At,!1,null,null,null),oe=ie.exports;C()(ie,{VBtn:T["a"],VCard:rt["a"],VCardSubtitle:dt["b"],VCardText:dt["c"],VCardTitle:dt["d"],VChip:Nt["a"],VChipGroup:zt["a"],VCol:V["a"],VDialog:vt["a"],VDivider:$["a"],VIcon:A["a"],VProgressLinear:re["a"],VRow:F["a"],VSpacer:E["a"],VTextField:U["a"],VToolbar:ne["a"],VToolbarTitle:N["b"]});var se=a("3022"),ce=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(u["a"])(this,Object(d["a"])(e).apply(this,arguments)),t.error=null,t.console=console,t.inspect=se["inspect"],t.settingsOpen=!1,t.viewSettings={darkMode:t.$vuetify.theme.dark,dense:!1},t.helpOpen=!1,t.servers=[],t._current=0,t.search={text:"",tags:[],nottags:[]},t.drawer=null,t.docs=[],t.open="",t.count=0,t.headers=[{text:"Title",value:"title"},{text:"Tags",value:"tags"},{text:"Created",value:"created",align:"end"},{text:"",value:"actions",width:1}],t.loading=!0,t.options={page:1,itemsPerPage:10},t.uploadDocs=[],t.uploadHeaders=[{text:"Name",value:"file.name"},{text:"",value:"actions",align:"end"}],t.tags=[],t}return Object(v["a"])(e,t),Object(l["a"])(e,[{key:"changeDarkmode",value:function(t){this.$vuetify.theme.dark=t}},{key:"current",value:function(){return this._current>=this.servers.length&&(this._current=this.servers.length-1),this._current}},{key:"setCurrent",value:function(t){this._current=t}},{key:"currentserver",value:function(){return 0===this.servers.length?null:this.servers[this.current()].server}},{key:"clearTags",value:function(){this.search.tags=[],this.search.nottags=[],this.getDocuments()}},{key:"clearSearch",value:function(){this.search.tags=[],this.search.nottags=[],this.search.text="",this.getDocuments()}},{key:"paginationFirst",value:function(){this.options.page=1,this.getDocuments()}},{key:"paginationPrev",value:function(){this.options.page-=1,this.getDocuments()}},{key:"paginationNext",value:function(){this.options.page+=1,this.getDocuments()}},{key:"paginationLast",value:function(){this.options.page=Math.ceil(this.count/this.options.itemsPerPage),this.$nextTick().then(this.getDocuments)}},{key:"docscounter",value:function(){return"".concat(Math.min((this.options.page-1)*this.options.itemsPerPage+1,this.count),"—").concat(Math.min(this.options.page*this.options.itemsPerPage,this.count)," of ").concat(this.count)}},{key:"pagecounter",value:function(){return"".concat(this.options.page," of ").concat(Math.ceil(this.count/this.options.itemsPerPage))}},{key:"openDocument",value:function(t){var e=this.servers[this.current()].url.startsWith("https://")||this.servers[this.current()].url.startsWith("http://")?this.servers[this.current()].url:"https://"+this.servers[this.current()].url;window.open(e+"/doc/"+t,"_blank")}},{key:"calculateTimestamp",value:function(t){var e=new Date(t),a=e.getFullYear().toString().padStart(4,"0"),r=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getDate().toString().padStart(2,"0"),i=e.getHours().toString().padStart(2,"0"),o=e.getMinutes().toString().padStart(2,"0"),s=new Date,c=Math.floor((s.getTime()-e.getTime())/864e5);switch(c){case 0:return"Today ".concat(i,":").concat(o);case 1:return"Yesterday ".concat(i,":").concat(o);default:return"".concat(a,"-").concat(r,"-").concat(n," ").concat(i,":").concat(o)}}},{key:"calculateDatestamp",value:function(t){var e=new Date(t),a=e.getFullYear().toString().padStart(4,"0"),r=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getDate().toString().padStart(2,"0"),i=new Date,o=Math.floor((i.getTime()-e.getTime())/864e5);switch(o){case 0:return"Today";case 1:return"Yesterday";default:return"".concat(a,"-").concat(r,"-").concat(n)}}},{key:"getDocuments",value:function(){var t,e,a=this,r=this.currentserver();r?(this.loading=!0,r.countDocuments(this.search.text,this.search.tags,this.search.nottags).then((function(t){"number"===typeof t?(a.count=t,a.options.page=Math.min(a.options.page,Math.ceil(a.count/a.options.itemsPerPage)),0===t&&(a.loading=!1)):a.error=Object(s["a"])({},t)})),this.options.itemsPerPage>0&&(t=this.options.itemsPerPage,e=(this.options.page-1)*t),r.getDocuments(this.search.text,this.search.tags,this.search.nottags,t,e).then((function(t){"error"in t?(a.error=Object(s["a"])({},t),a.loading=!1):(a.docs=t.map((function(t){var e=t.identifier,a=t.title,r=t.created;return a=a||"",{identifier:e,title:a,created:r,tags:[{label:".."}]}})),a.docs.forEach((function(t){r.getTags(t.identifier).then((function(e){"error"in e?a.error=Object(s["a"])({title:e.error},e):t.tags=e,a.loading=!1}))})))}))):(this.error={title:"No server configured",message:"Please add one via the settings.\nIf you’re new here, have a look at the help.",color:"warning darken-1"},this.loading=!1)}},{key:"updateDoc",value:function(t){this.docs.splice(this.docs.findIndex((function(e){return e.identifier===t.identifier})),1,t)}},{key:"addFile",value:function(t){var e,a=this,r=null===(e=t.dataTransfer)||void 0===e?void 0:e.files;r&&Object(o["a"])(r).forEach((function(t){"application/pdf"===t.type&&a.uploadDocs.push({loading:!1,file:t})}))}},{key:"addFileInput",value:function(t){var e=this,a=t.target.files;a&&(Object(o["a"])(a).forEach((function(t){"application/pdf"===t.type&&e.uploadDocs.push({loading:!1,file:t})})),t.target.value="",t.target.files=null)}},{key:"uploadAll",value:function(){this.uploadDocs.forEach(this.uploadDocument)}},{key:"uploadDocument",value:function(t){var e=this,a=this.currentserver();a&&(t.loading=!0,a.uploadFile(t.file).then((function(r){"error"in r?e.error={title:"Could upload document",message:r.error}:a.setDocumentTitle(r.location.substring(r.location.lastIndexOf("/")+1),t.file.name.replace(/\.pdf$/,"")).then((function(a){"string"!==typeof a&&a.error&&(e.error={title:"Could not set title",message:a.error}),e.reload(),e.removeUploadDocument(t)}))}),(function(t){e.error={title:t.error||t,message:t.message||t}})).finally((function(){t.loading=!1})))}},{key:"removeUploadDocument",value:function(t){this.uploadDocs=this.uploadDocs.filter((function(e){return e!==t}))}},{key:"deleteTag",value:function(t){var e=this,a=this.currentserver();a&&a.deleteTag(t).then((function(t){t.error?e.error=Object(s["a"])({message:t.error},t):e.reload()}))}},{key:"serverchange",value:function(t){var e=t.index,a=t.url,r=t.password;this.servers[e]={url:a,password:r,server:new h.a(a,"tridoc",r)},this.setCurrent(e),this.store(),this.reload()}},{key:"serverremove",value:function(t){this.servers.splice(t,1),this.store(),this.reload()}},{key:"reload",value:function(){var t=this;this.reset(),this.getDocuments();var e=this.currentserver();e&&e.getTags().then((function(e){"error"in e?t.error=Object(s["a"])({title:e.error,message:e.message},e):(t.tags=e.map((function(t){var e={icon:"mdi-tag",label:t.label,"type-icon":""};if(t.parameter)switch(t.parameter.type){case"http://www.w3.org/2001/XMLSchema#decimal":e["type-icon"]="mdi-pound";break;case"http://www.w3.org/2001/XMLSchema#date":e["type-icon"]="mdi-calendar";break;default:break}return e})),t.tags.sort((function(t,e){var a=t.label.toUpperCase(),r=e.label.toUpperCase();return a<r?-1:a>r?1:0})))}),(function(e){e instanceof Error?t.error={title:"A "+e.name+" occurred",message:e.message}:t.error=Object(s["a"])({message:e},e)}))}},{key:"reset",value:function(){this.tags=[],this.docs=[]}},{key:"restore",value:function(){var t=JSON.parse(localStorage.getItem("servers")||"false"),e=parseInt(localStorage.getItem("currentserver")||"0",10);t&&(this.servers=t.map((function(t){var e=t.password,a=t.url;return{password:e,url:a,server:new h.a(a,"tridoc",e)}}))),this.setCurrent(e);var a=localStorage.getItem("server"),r=localStorage.getItem("password");a&&r&&this.servers.push({password:r,url:a,server:new h.a(a,"tridoc",r)})}},{key:"store",value:function(){localStorage.setItem("currentserver",this.current().toString()),localStorage.setItem("servers",JSON.stringify(this.servers.map((function(t){var e=t.password,a=t.url;return{password:e,url:a}}))))}},{key:"created",value:function(){this.restore(),this.reload()}},{key:"onError",value:function(t){var e=t.title,a=t.message;this.error={title:e,message:a}}}]),e}(m["d"]);Object(p["a"])([Object(m["e"])("viewSettings.darkMode")],ce.prototype,"changeDarkmode",null),ce=Object(p["a"])([Object(m["a"])({components:{SettingsDrawer:B,HelpDrawer:K,ErrorDialog:it,TagCreator:ht,TagFilter:$t,DocumentDetails:oe}})],ce);var le=ce,ue=le,de=(a("81cc"),a("5c64"),a("7496")),ve=a("5bc1"),pe=a("8fea"),me=a("8860"),fe=a("da13"),he=a("5d23"),be=a("1baa"),ge=a("e0c7"),ye=Object(O["a"])(ue,n,i,!1,null,"451a07c0",null),ke=ye.exports;C()(ye,{VApp:de["a"],VAppBar:D["a"],VAppBarNavIcon:ve["a"],VBtn:T["a"],VCard:rt["a"],VChip:Nt["a"],VChipGroup:zt["a"],VCol:V["a"],VContainer:S["a"],VContent:M["a"],VDataTable:pe["a"],VDivider:$["a"],VIcon:A["a"],VList:me["a"],VListItem:fe["a"],VListItemContent:he["a"],VListItemGroup:be["a"],VListItemSubtitle:he["b"],VNavigationDrawer:I["a"],VRow:F["a"],VSpacer:E["a"],VSubheader:ge["a"],VTextField:U["a"],VToolbarTitle:N["b"],VTooltip:z["a"]});var _e=a("f309"),we=a("fcf4");r["a"].use(_e["a"]);var xe=new _e["a"]({theme:{themes:{light:{primary:"#00685b",secondary:"#c86852",accent:"#f86158",error:we["a"].red.base},dark:{primary:{base:"#00887b",darken1:"#00887b"},secondary:{base:"#ec8d79",darken1:"#ffb39b"},accent:"#f86158",error:we["a"].red.base}}}});r["a"].config.productionTip=!1,new r["a"]({vuetify:xe,render:function(t){return t(ke)}}).$mount("#app")},df06:function(t,e,a){"use strict";var r=a("4e39"),n=a.n(r);n.a},dfa5:function(t,e,a){},e08c:function(t,e,a){}});
//# sourceMappingURL=app.bdae6353.js.map