(function(t){function e(e){for(var r,o,s=e[0],l=e[1],c=e[2],u=0,v=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&v.push(n[o][0]),n[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);d&&d(e);while(v.length)v.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],r=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(r=!1)}r&&(i.splice(e--,1),t=s(s.s=a[0]))}return t}var r={},n={app:0},i=[];function o(t){return s.p+"js/"+({pdfjsWorker:"pdfjsWorker"}[t]||t)+"."+{pdfjsWorker:"dcd3b2b3"}[t]+".js"}function s(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.e=function(t){var e=[],a=n[t];if(0!==a)if(a)e.push(a[2]);else{var r=new Promise((function(e,r){a=n[t]=[e,r]}));e.push(a[2]=r);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=o(t);var c=new Error;i=function(e){l.onerror=l.onload=null,clearTimeout(u);var a=n[t];if(0!==a){if(a){var r=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",c.name="ChunkLoadError",c.type=r,c.request=i,a[1](c)}n[t]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(e)},s.m=t,s.c=r,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(a,r,function(e){return t[e]}.bind(null,r));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var d=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"0422":function(t,e,a){"use strict";var r=a("7264"),n=a.n(r);n.a},1:function(t,e){},"1276a":function(t,e,a){},"12ea":function(t,e,a){},2:function(t,e){},3:function(t,e){},4:function(t,e){},"5c64":function(t,e,a){"use strict";var r=a("dfa5"),n=a.n(r);n.a},"5dcc":function(t,e,a){},7264:function(t,e,a){},ad26:function(t,e,a){},b04a:function(t,e,a){"use strict";var r=a("5dcc"),n=a.n(r);n.a},b14c:function(t,e,a){"use strict";var r=a("1276a"),n=a.n(r);n.a},cd49:function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-navigation-drawer",{attrs:{clipped:t.$vuetify.breakpoint.mdAndUp,app:""},scopedSlots:t._u([{key:"append",fn:function(){return[a("v-divider"),a("v-list",{attrs:{nav:"",dense:""}},[a("settings-dialog",{attrs:{servers:t.servers,current:t.current()},on:{save:t.serverchange,delete:t.serverremove}}),t._l(t.navItems,(function(e){return[e.children?a("v-list-group",{key:e.text,attrs:{disabled:e.disabled,"prepend-icon":e.icon||" ","no-action":""},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.text))])],1)]},proxy:!0}],null,!0),model:{value:e.model,callback:function(a){t.$set(e,"model",a)},expression:"item.model"}},t._l(e.children,(function(e,r){return a("v-list-item",{key:r,attrs:{dense:"",disabled:e.disabled,href:e.href,link:""}},[e.icon?a("v-list-item-action",[a("v-icon",[t._v(t._s(e.icon))])],1):t._e(),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.text))])],1)],1)})),1):e.hide?t._e():a("v-list-item",{key:e.text,attrs:{disabled:e.disabled,href:e.href,link:""}},[a("v-list-item-action",[a("v-icon",[t._v(t._s(e.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.text))])],1)],1)]})),t.currentserver()?a("v-list-item",{attrs:{disabled:"","stwo-line":""}},[a("v-list-item-content",[a("v-list-item-subtitle",[t._v(t._s(t.currentserver().url))])],1)],1):t._e()],2)]},proxy:!0}]),model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{attrs:{nav:"",dense:""}},[a("v-subheader",[t._v("TAGS")]),a("v-list-item-group",{attrs:{color:"secondary"}},[a("tag-creator",{attrs:{server:t.currentserver()},on:{tagcreated:t.reload,error:function(e){return t.onError({title:t.r.error,message:t.r.message})}}}),t._l(t.tags,(function(e){return a("tag-filter",{key:e.label,attrs:{tag:e,reload:t.reload,getDocuments:t.getDocuments,error:t.onError,deleteTag:t.deleteTag,currentserver:t.currentserver,tags:t.tags,search:t.search},on:{"update:search":function(e){t.search=e}}})})),a("v-btn",{staticClass:"my-2",attrs:{block:"",outlined:"",text:"",small:"",color:"red"},on:{click:t.clearTags}},[t._v(" Clear Tag Filters ")]),a("v-btn",{staticClass:"my-2",attrs:{block:"",outlined:"",text:"",small:"",color:"red"},on:{click:t.clearSearch}},[t._v(" Clear All Filters ")])],2)],1)],1),a("v-app-bar",{attrs:{"clipped-left":!0,app:"",color:"primary",flat:t.$vuetify.breakpoint.mdAndUp,dark:""}},[a("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("v-toolbar-title",{staticClass:"hidden-sm-and-down",staticStyle:{width:"300px"}},[t._v(" tridoc Cockpit ")]),a("v-spacer"),a("v-text-field",{attrs:{flat:"","solo-inverted":"","hide-details":"",clearable:"","clear-icon":"mdi-filter-remove","prepend-inner-icon":"mdi-magnify",label:"Search"},on:{change:t.getDocuments,"click:clear":function(e){t.search.text="",t.reload()}},model:{value:t.search.text,callback:function(e){t.$set(t.search,"text",e)},expression:"search.text"}}),a("v-btn",{attrs:{icon:""},on:{click:t.reload}},[a("v-icon",[t._v("mdi-refresh")])],1),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(e){t.$vuetify.theme.dark=!t.$vuetify.theme.dark}}},[a("v-icon",[t._v("mdi-invert-colors")])],1)],1),a("v-content",{attrs:{app:""}},[a("v-container",{staticClass:"sfill-height",attrs:{fluid:""},on:{drag:function(t){t.stopPropagation(),t.preventDefault()},dragstart:function(t){t.stopPropagation(),t.preventDefault()},dragend:function(t){t.stopPropagation(),t.preventDefault()},dragover:function(t){t.stopPropagation(),t.preventDefault()},dragenter:function(t){t.stopPropagation(),t.preventDefault()},dragleave:function(t){t.stopPropagation(),t.preventDefault()},drop:function(e){return e.stopPropagation(),e.preventDefault(),t.addFile(e)}}},[a("v-row",{attrs:{align:"start"}},[a("v-col",{attrs:{cols:"12"}},[a("v-card",{attrs:{outlined:""}},[t._l(t.docs,(function(e){return a("document-details",{key:e.identifier,attrs:{server:t.currentserver,docMeta:e,error:t.error,open:t.open===e.identifier},on:{"update:docMeta":t.updateDoc,change:t.reload,"update:open":function(e){t.open=""}}})})),a("v-data-table",{attrs:{"disable-sort":"","disable-filtering":"",headers:t.headers,items:t.docs,options:t.options,"server-items-length":t.count,loading:t.loading,"item-key":"identifier","no-data-text":"No documents found","hide-default-footer":""},on:{"click:row":function(e){return t.open=e.identifier}},scopedSlots:t._u([{key:"item.title",fn:function(e){var r=e.item;return[t._v(" "+t._s(r.title)+" "),r.title?t._e():a("i",[t._v("Untitled Document")])]}},{key:"item.tags",fn:function(e){var r=e.item;return[a("div",{style:t.$vuetify.breakpoint.mdAndUp?"max-width:40vw;":"max-width:80vw;"},[a("v-chip-group",{attrs:{"show-arrows":t.$vuetify.breakpoint.mdAndUp,dcolumn:!t.$vuetify.breakpoint.mdAndUp,column:""}},t._l(r.tags,(function(e){return a("v-chip",{key:e.label+(e.parameter?e.parameter.value:""),attrs:{label:""}},[".."===e.label?a("v-icon",[t._v("mdi-sync")]):a("span",[t._v(t._s(e.label))]),e.parameter?a("v-divider",{staticClass:"mx-3",attrs:{vertical:""}}):t._e(),e.parameter?a("strong",[t._v(t._s("http://www.w3.org/2001/XMLSchema#decimal"===e.parameter.type?e.parameter.value:t.calculateDatestamp(e.parameter.value)))]):t._e()],1)})),1)],1)]}},{key:"item.created",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.calculateTimestamp(a.created))+" ")]}},{key:"item.identifier",fn:function(e){var r=e.item;return[a("pre",[t._v(t._s(r.identifier))])]}},{key:"item.actions",fn:function(e){var r=e.item;return[a("div",{staticClass:"d-flex"},[a("v-btn",{staticClass:"ma-1",attrs:{outlined:"",text:"",small:"",color:"primary darken-1",link:""},on:{click:function(e){return e.stopPropagation(),t.openDocument(r.identifier)}}},[a("v-icon",{attrs:{small:""}},[t._v("mdi-open-in-new")])],1),a("v-btn",{staticClass:"ma-1",attrs:{small:"",color:"primary"},on:{click:function(e){e.stopPropagation(),t.open=r.identifier}}},[a("v-icon",{attrs:{small:"",left:!t.$vuetify.breakpoint.sm}},[t._v("mdi-file-eye-outline")]),a("span",{attrs:{hidden:t.$vuetify.breakpoint.sm}},[t._v("Open")])],1)],1)]}}])})],2)],1)],1),a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"auto",align:"center"}},[a("v-btn",{staticClass:"ma-2",attrs:{disabled:t.options.page<2,outlined:"",text:"",fab:"",small:""},on:{click:function(e){return t.paginationFirst()}}},[a("v-icon",[t._v("mdi-page-first")])],1),a("v-btn",{staticClass:"ma-2",attrs:{disabled:t.options.page<2,outlined:"",text:"",fab:"",small:""},on:{click:function(e){return t.paginationPrev()}}},[a("v-icon",[t._v("mdi-chevron-left")])],1),a("span",{staticClass:"ma-2"},[t._v(" "+t._s(t.docscounter())+" ")]),a("span",{staticClass:"ma-2"},[t._v(" page "+t._s(t.pagecounter())+" ")]),a("v-btn",{staticClass:"ma-2",attrs:{disabled:t.options.page*t.options.itemsPerPage>=t.count,outlined:"",text:"",fab:"",small:""},on:{click:function(e){return t.paginationNext()}}},[a("v-icon",[t._v("mdi-chevron-right")])],1),a("v-btn",{staticClass:"ma-2",attrs:{disabled:t.options.page*t.options.itemsPerPage>=t.count,outlined:"",text:"",fab:"",small:""},on:{click:function(e){return t.paginationLast()}}},[a("v-icon",[t._v("mdi-page-last")])],1)],1)],1),a("v-row",{attrs:{align:"start"}},[a("v-col",{attrs:{cols:"12"}},[a("v-card",{attrs:{outlined:""}},[a("v-data-table",{attrs:{"disable-sort":"","disable-filtering":"",headers:t.uploadHeaders,items:t.uploadDocs,"item-key":"file.name","disable-pagination":"","hide-default-footer":"","hide-default-header":"","no-data-text":"Drop documents here to upload"},scopedSlots:t._u([{key:"item.actions",fn:function(e){var r=e.item;return[a("div",{staticClass:"d-flex"},[a("v-btn",{staticClass:"ma-1",attrs:{small:"",text:"",outlined:"",color:"primary darken-1",loading:r.loading},on:{click:function(e){return t.uploadDocument(r)}}},[a("v-icon",{attrs:{small:"",left:!t.$vuetify.breakpoint.sm}},[t._v("mdi-upload")]),a("span",{attrs:{hidden:t.$vuetify.breakpoint.sm}},[t._v("Upload")])],1),a("v-btn",{staticClass:"ma-1",attrs:{small:"",text:"",outlined:"",color:"secondary darken-1"},on:{click:function(e){return t.removeUploadDocument(r)}}},[a("v-icon",{attrs:{small:"",left:!t.$vuetify.breakpoint.sm}},[t._v("mdi-close")]),a("span",{attrs:{hidden:t.$vuetify.breakpoint.sm}},[t._v("Cancel")])],1)],1)]}},{key:"footer",fn:function(){return[a("v-divider"),a("div",{staticClass:"d-flex"},[a("v-btn",{staticClass:"ma-1",attrs:{outlined:"",color:"primary"}},[a("span",[t._v("Add File")]),a("input",{attrs:{type:"file"},on:{change:t.addFileInput}})]),a("v-spacer"),a("v-btn",{staticClass:"ma-1",attrs:{outlined:"",color:"primary",disabled:0===t.uploadDocs.length},on:{click:t.uploadAll}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-upload")]),a("span",[t._v("Upload All")])],1)],1)]},proxy:!0}])})],1)],1)],1)],1)],1),a("error-dialog",{attrs:{error:t.error,close:function(){return t.error=null}}})],1)},i=[],o=(a("99af"),a("4de4"),a("c740"),a("4160"),a("baa5"),a("d81d"),a("a434"),a("b0c0"),a("d3b7"),a("ac1f"),a("25f0"),a("4d90"),a("5319"),a("841c"),a("2ca0"),a("159b"),a("2909")),s=a("5530"),l=a("d4ec"),c=a("bee2"),u=a("99de"),d=a("7e84"),v=a("262e"),p=a("9ab4"),m=a("60a3"),f=a("73a1"),h=a.n(f),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{fullscreen:t.$vuetify.breakpoint.smAndDown},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-list-item",t._g({},r),[a("v-list-item-icon",[a("v-icon",[t._v("mdi-cog")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Settings")])],1)],1)]}}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("v-card",{attrs:{tile:t.$vuetify.breakpoint.smAndDown}},[t.$vuetify.breakpoint.smAndDown?a("v-toolbar",{attrs:{dark:"",color:"primary",flat:"","elevate-on-scroll":""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.show=!1}}},[a("v-icon",[t._v("mdi-close")])],1),a("v-toolbar-title",[t._v("Settings")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",text:""},on:{click:function(e){t.show=!1}}},[t._v("Close")])],1)],1):t._e(),a("v-card-title",[t.$vuetify.breakpoint.mdAndUp?a("span",{staticClass:"headline"},[t._v("Settings")]):t._e()]),a("v-card-text",[a("v-expansion-panels",{attrs:{accordion:""},model:{value:t.icurrent,callback:function(e){t.icurrent=e},expression:"icurrent"}},t._l(t.iservers,(function(e,r){return a("v-expansion-panel",{key:e.id,ref:1e3*(e.id+1)+r+1,refInFor:!0},[a("v-expansion-panel-header",{attrs:{"disable-icon-rotate":r===t.current},scopedSlots:t._u([r===t.current?{key:"actions",fn:function(){return[a("v-icon",{attrs:{color:"primary"}},[t._v("mdi-check-circle")])]},proxy:!0}:null],null,!0)},[t._v(" "+t._s(r+1)+": "+t._s(e.url)+" ")]),a("v-expansion-panel-content",[a("v-form",{model:{value:e.valid,callback:function(a){t.$set(e,"valid",a)},expression:"server.valid"}},[a("v-row",[a("v-col",{attrs:{sm:"12",md:"6"}},[a("v-text-field",{attrs:{outlined:"","full-width":"",rules:t.urlRules,label:"Server URL",required:""},model:{value:e.url,callback:function(a){t.$set(e,"url",a)},expression:"server.url"}})],1),a("v-col",{attrs:{sm:"12",md:"6"}},[a("v-text-field",{attrs:{outlined:"","full-width":"",rules:t.passwordRules,label:"Password",required:""},model:{value:e.password,callback:function(a){t.$set(e,"password",a)},expression:"server.password"}})],1)],1),a("v-row",[a("v-spacer"),a("v-col",{attrs:{sm:"auto"}},[a("v-btn",{attrs:{color:"secondary darken-1",text:""},on:{click:function(e){return t.remove(r)}}},[t._v("Delete")])],1),a("v-col",{attrs:{sm:"auto"}},[a("v-btn",{attrs:{color:"primary"},on:{click:function(a){return t.save(r,e)}}},[t._v("Save")])],1)],1)],1)],1)],1)})),1),a("v-row",[a("v-spacer"),a("v-col",{attrs:{sm:"auto"}},[a("v-btn",{attrs:{color:"primary darken-1",text:""},on:{click:t.addRow}},[t._v("Add")])],1)],1),a("v-divider")],1),t.$vuetify.breakpoint.mdAndUp?a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"secondary darken-1",text:""},on:{click:function(e){t.show=!1}}},[t._v("Close")])],1):t._e()],1)],1)},g=[],y=(a("3ca3"),a("ddb0"),a("2b3d"),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t.startsWith("http://")&&t.startsWith("https://")||(t="https://"+t);try{var e=new URL(t);return e.href.replace(/\/$/,"")}catch(a){return!1}}),k=function(){var t=0;return function(){return t++}}(),x=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(u["a"])(this,Object(d["a"])(e).apply(this,arguments)),t.iservers=t.servers.map((function(e){var a=e.password,r=e.url;return{id:t.counter(),valid:!1,password:a,url:r}})),t.icurrent=t.current,t.show=!1,t.valid=!1,t.urlRules=[function(t){return!!t||"URL is required"},function(t){var e=y(t);return!!e||"URL has to be valid"}],t.passwordRules=[function(t){return!!t||"Password is required"}],t}return Object(v["a"])(e,t),Object(c["a"])(e,[{key:"onServersChanged",value:function(){var t=this;this.iservers=this.servers.map((function(e){var a=e.password,r=e.url;return{id:t.counter(),valid:!1,password:a,url:r}}))}},{key:"counter",value:function(){return k()}},{key:"save",value:function(t,e){var a=e.url,r=e.password,n=e.valid;n&&this.$emit("save",{index:t,url:a,password:r})}},{key:"remove",value:function(t){this.$emit("delete",t)}},{key:"addRow",value:function(){this.iservers.push({id:this.counter(),password:"",url:"",valid:!1}),this.icurrent=this.iservers.length-1,this.save(this.icurrent,{password:"",url:"",valid:!0})}}]),e}(m["d"]);Object(p["a"])([Object(m["b"])()],x.prototype,"servers",void 0),Object(p["a"])([Object(m["e"])("servers",{deep:!0})],x.prototype,"onServersChanged",null),Object(p["a"])([Object(m["b"])()],x.prototype,"current",void 0),x=Object(p["a"])([Object(m["a"])({})],x);var _=x,w=_,O=a("2877"),j=a("6544"),C=a.n(j),D=a("8336"),V=a("b0af"),T=a("99d9"),S=a("62ad"),M=a("169a"),$=a("ce7e"),P=a("cd55"),A=a("49e2"),I=a("c865"),R=a("0393"),F=a("4bd4"),L=a("132d"),E=a("da13"),U=a("5d23"),z=a("34c3"),N=a("0fd9"),Y=a("2fa4"),q=a("8654"),W=a("71d9"),B=a("2a7f"),G=Object(O["a"])(w,b,g,!1,null,null,null),H=G.exports;C()(G,{VBtn:D["a"],VCard:V["a"],VCardActions:T["a"],VCardText:T["c"],VCardTitle:T["d"],VCol:S["a"],VDialog:M["a"],VDivider:$["a"],VExpansionPanel:P["a"],VExpansionPanelContent:A["a"],VExpansionPanelHeader:I["a"],VExpansionPanels:R["a"],VForm:F["a"],VIcon:L["a"],VListItem:E["a"],VListItemContent:U["a"],VListItemIcon:z["a"],VListItemTitle:U["c"],VRow:N["a"],VSpacer:Y["a"],VTextField:q["a"],VToolbar:W["a"],VToolbarItems:B["a"],VToolbarTitle:B["b"]});var X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:!!t.error}},[a("v-card",{attrs:{color:"error",dark:""}},[a("v-card-title",{staticClass:"headline"},[t._v(t._s(t.title))]),a("v-card-text",[t._v(t._s(t.message))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:t.close}},[t._v(" Close ")])],1)],1)],1)},J=[],K=function(t){function e(){return Object(l["a"])(this,e),Object(u["a"])(this,Object(d["a"])(e).apply(this,arguments))}return Object(v["a"])(e,t),Object(c["a"])(e,[{key:"title",get:function(){return null!==this.error?this.error.title||"An Error Occured":"..."}},{key:"message",get:function(){return null!==this.error?this.error.message||"Unknown error":"..."}}]),e}(m["d"]);Object(p["a"])([Object(m["b"])()],K.prototype,"error",void 0),Object(p["a"])([Object(m["b"])()],K.prototype,"close",void 0),K=Object(p["a"])([Object(m["a"])({})],K);var Z=K,Q=Z,tt=Object(O["a"])(Q,X,J,!1,null,null,null),et=tt.exports;C()(tt,{VBtn:D["a"],VCard:V["a"],VCardActions:T["a"],VCardText:T["c"],VCardTitle:T["d"],VDialog:M["a"],VSpacer:Y["a"]});var at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{fullscreen:t.$vuetify.breakpoint.smAndDown,persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-btn",t._g({attrs:{block:"",noutlined:"",ntext:"",color:"primary"}},r),[a("v-icon",{attrs:{left:""}},[t._v("mdi-tag-plus")]),t._v(" Create Tag ")],1)]}}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Create Tag")])]),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:t.labelRules,label:"Label",required:""},model:{value:t.label,callback:function(e){t.label=e},expression:"label"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-radio-group",{model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[a("v-radio",{attrs:{value:"simple"},scopedSlots:t._u([{key:"label",fn:function(){return[a("v-icon",{attrs:{small:"",left:""}},[t._v("mdi-tag")]),t._v(" Not parameterizable ")]},proxy:!0}])}),a("v-radio",{attrs:{value:"decimal"},scopedSlots:t._u([{key:"label",fn:function(){return[a("v-icon",{attrs:{small:"",left:""}},[t._v("mdi-pound")]),t._v(" Parameterizable with number / decimal ")]},proxy:!0}])}),a("v-radio",{attrs:{value:"date"},scopedSlots:t._u([{key:"label",fn:function(){return[a("v-icon",{attrs:{small:"",left:""}},[t._v("mdi-calendar")]),t._v(" Parameterizable with date ")]},proxy:!0}])})],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"secondary darken-1",text:""},on:{click:t.clear}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"secondary darken-1",text:""},on:{click:function(e){t.show=!1}}},[t._v("Close")]),a("v-btn",{attrs:{color:"primary darken-1",text:""},on:{click:t.save}},[t._v("Save")])],1)],1)],1)},rt=[],nt=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(u["a"])(this,Object(d["a"])(e).apply(this,arguments)),t.show=!1,t.valid=!1,t.label="",t.type="simple",t.labelRules=[function(t){return!!t||"Label is required"},function(t){return!/\s|\/|\\|#|"|'|,|;|:|\?/.test(t)||"The label must not contain any of the following: whitespace / \\ # \" ' , ; : ?"},function(t){return!/^[.]{1,2}$/.test(t)||"The label must not equal . (single dot) or .. (double dot)"}],t}return Object(v["a"])(e,t),Object(c["a"])(e,[{key:"clear",value:function(){this.show=!1,this.label="",this.type="simple",this.$refs.form.resetValidation()}},{key:"save",value:function(){var t=this;this.$refs.form.validate(),this.valid&&this.server.createTag(this.label,"simple"!==this.type?this.type:void 0).then((function(e){e.error?(t.$emit("error",e),t.clear()):(t.$emit("tagcreated"),t.clear())}))}}]),e}(m["d"]);Object(p["a"])([Object(m["b"])()],nt.prototype,"server",void 0),nt=Object(p["a"])([Object(m["a"])({})],nt);var it=nt,ot=it,st=a("a523"),lt=a("67b6"),ct=a("43a6"),ut=Object(O["a"])(ot,at,rt,!1,null,null,null),dt=ut.exports;C()(ut,{VBtn:D["a"],VCard:V["a"],VCardActions:T["a"],VCardText:T["c"],VCardTitle:T["d"],VCol:S["a"],VContainer:st["a"],VDialog:M["a"],VForm:F["a"],VIcon:L["a"],VRadio:lt["a"],VRadioGroup:ct["a"],VRow:N["a"],VSpacer:Y["a"],VTextField:q["a"]});var vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"my-2",attrs:{outlined:""}},[a("div",{staticClass:"top"},[a("div",{staticClass:"label ml-2"},[t._v(t._s(t.tag.label))]),a("v-spacer"),a("div",{staticClass:"buttons"},[a("v-btn",{staticClass:"ma-1",attrs:{icon:"",small:"",color:"red accent-1"},on:{click:t.askDeleteTag}},[a("v-icon",{attrs:{small:""}},[t._v("mdi-delete")])],1),a("v-btn",{staticClass:"my-1",attrs:{icon:"",small:"",color:-1!==t.status[0].indexOf(t.tag.label)?"primary":""},on:{click:t.includeTag}},[a("v-icon",[t._v(t._s(-1!==t.status[0].indexOf(t.tag.label)?"mdi-checkbox-marked":"mdi-check-box-outline"))])],1),a("v-btn",{staticClass:"my-1 mr-1",attrs:{icon:"",small:"",color:-1!==t.status[1].indexOf(t.tag.label)?"primary":""},on:{click:t.excludeTag}},[a("v-icon",[t._v(t._s(-1!==t.status[1].indexOf(t.tag.label)?"mdi-close-box":"mdi-close-box-outline"))])],1)],1)],1),t.tag["type-icon"]?a("div",[t._l(t.status[2],(function(e,r){return a("range-input",{key:(e[3]?"y":"n")+"_"+r,attrs:{minimum:e[1],maximum:e[2],include:e[3],remove:t.removeRange,toggle:t.toggleRange,change:t.getDocuments,type:"mdi-pound"===t.tag["type-icon"]?"number":"date"},on:{"update:minimum":function(a){return t.$set(e,1,a)},"update:maximum":function(a){return t.$set(e,2,a)},"update:include":function(a){return t.$set(e,3,a)}}})})),a("v-divider"),a("div",{staticClass:"bottom"},[a("v-btn",{staticClass:"ma-1",attrs:{outlined:"",text:"",small:""},on:{click:t.addRange}},[a("v-icon",{attrs:{small:"",left:""}},[t._v(t._s(t.tag["type-icon"]))]),t._v(" Add Range Filter ")],1)],1)],2):t._e()])},pt=[],mt=(a("c975"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-divider"),"number"===t.type?a("div",{staticClass:"rangerow mx-2 mt-2"},[a("v-text-field",{attrs:{label:"From",outlined:"",dense:"","hide-details":"auto",type:"number"},model:{value:t.min,callback:function(e){t.min=e},expression:"min"}}),a("v-text-field",{attrs:{label:"To",outlined:"",dense:"","hide-details":"auto",type:"number"},model:{value:t.max,callback:function(e){t.max=e},expression:"max"}})],1):a("div",{staticClass:"rangerow mx-2 mt-2"},[a("v-menu",{ref:"minMenu",attrs:{"close-on-content-click":!1,"return-value":t.min,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(e){t.min=e},"update:return-value":function(e){t.min=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"From",outlined:"",dense:"","hide-details":"auto",rules:t.dateRules},on:{change:function(e){t.minDate=t.min||""}},model:{value:t.min,callback:function(e){t.min=e},expression:"min"}},"v-text-field",n,!1),r))]}}]),model:{value:t.minMenu,callback:function(e){t.minMenu=e},expression:"minMenu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.minDate,callback:function(e){t.minDate=e},expression:"minDate"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.minMenu=!1}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.minMenu.save(t.minDate)}}},[t._v(" OK ")])],1)],1),a("v-menu",{ref:"maxMenu",attrs:{"close-on-content-click":!1,"return-value":t.max,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(e){t.max=e},"update:return-value":function(e){t.max=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"To",outlined:"",dense:"","hide-details":"auto",rules:t.dateRules},on:{change:function(e){t.maxDate=t.max||""}},model:{value:t.max,callback:function(e){t.max=e},expression:"max"}},"v-text-field",n,!1),r))]}}]),model:{value:t.maxMenu,callback:function(e){t.maxMenu=e},expression:"maxMenu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.maxDate,callback:function(e){t.maxDate=e},expression:"maxDate"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.maxMenu=!1}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.maxMenu.save(t.maxDate)}}},[t._v(" OK ")])],1)],1)],1),a("div",{staticClass:"bottom"},[a("v-btn",{staticClass:"ma-1 ml-2",attrs:{text:"",small:""},on:{click:function(){return t.remove(t.min,t.max,t.inc)}}},[t._v("Remove")]),a("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(){return t.toggle(t.min,t.max,t.inc)}}},[a("v-icon",[t._v(t._s(t.inc?"mdi-check-box-outline":"mdi-close-box-outline"))])],1)],1)],1)}),ft=[],ht=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(u["a"])(this,Object(d["a"])(e).apply(this,arguments)),t.minMenu=!1,t.maxMenu=!1,t.minDate="",t.maxDate="",t.dateRules=[function(t){return!t||/^\d{4}-\d{2}-\d{2}$/.test(t)&&!isNaN(new Date(t).getTime())||"Must be a date of format YYYY-MM-DD"}],t}return Object(v["a"])(e,t),Object(c["a"])(e,[{key:"changeM",value:function(){this.change()}}]),e}(m["d"]);Object(p["a"])([Object(m["c"])("minimum")],ht.prototype,"min",void 0),Object(p["a"])([Object(m["c"])("maximum")],ht.prototype,"max",void 0),Object(p["a"])([Object(m["c"])("include")],ht.prototype,"inc",void 0),Object(p["a"])([Object(m["b"])()],ht.prototype,"type",void 0),Object(p["a"])([Object(m["b"])()],ht.prototype,"remove",void 0),Object(p["a"])([Object(m["b"])()],ht.prototype,"toggle",void 0),Object(p["a"])([Object(m["b"])()],ht.prototype,"change",void 0),Object(p["a"])([Object(m["e"])("min"),Object(m["e"])("max")],ht.prototype,"changeM",null),ht=Object(p["a"])([Object(m["a"])({})],ht);var bt=ht,gt=bt,yt=(a("0422"),a("2e4b")),kt=a("e449"),xt=Object(O["a"])(gt,mt,ft,!1,null,"141934ea",null),_t=xt.exports;C()(xt,{VBtn:D["a"],VDatePicker:yt["a"],VDivider:$["a"],VIcon:L["a"],VMenu:kt["a"],VSpacer:Y["a"],VTextField:q["a"]});a("12ea");var wt=function(t){function e(){return Object(l["a"])(this,e),Object(u["a"])(this,Object(d["a"])(e).apply(this,arguments))}return Object(v["a"])(e,t),Object(c["a"])(e,[{key:"includeTag",value:function(){var t=this,e=this.dnsearch.nottags.findIndex((function(e){return e[0]===t.tag.label&&void 0===e[1]&&void 0===e[2]}));e>-1&&this.dnsearch.nottags.splice(e,1);var a=this.dnsearch.tags.findIndex((function(e){return e[0]===t.tag.label&&void 0===e[1]&&void 0===e[2]}));a>-1?this.dnsearch.tags.splice(a,1):this.dnsearch.tags.push([this.tag.label,void 0,void 0]),this.getDocuments()}},{key:"excludeTag",value:function(){var t=this,e=this.dnsearch.tags.findIndex((function(e){return e[0]===t.tag.label&&void 0===e[1]&&void 0===e[2]}));e>-1&&this.dnsearch.tags.splice(e,1);var a=this.dnsearch.nottags.findIndex((function(e){return e[0]===t.tag.label&&void 0===e[1]&&void 0===e[2]}));a>-1?this.dnsearch.nottags.splice(a,1):this.dnsearch.nottags.push([this.tag.label,void 0,void 0]),this.getDocuments()}},{key:"addRange",value:function(){this.dnsearch.tags.push([this.tag.label,void 0,void 0]),this.getDocuments()}},{key:"removeRange",value:function(t,e,a){a?this.dnsearch.tags.splice(this.dnsearch.tags.indexOf([this.tag.label,t,e]),1):this.dnsearch.nottags.splice(this.dnsearch.nottags.indexOf([this.tag.label,t,e]),1),this.getDocuments()}},{key:"toggleRange",value:function(t,e,a){a?(this.dnsearch.tags.splice(this.dnsearch.tags.indexOf([this.tag.label,t,e]),1),this.dnsearch.nottags.push([this.tag.label,t,e])):(this.dnsearch.nottags.splice(this.dnsearch.nottags.indexOf([this.tag.label,t,e]),1),this.dnsearch.tags.push([this.tag.label,t,e])),this.getDocuments()}},{key:"askDeleteTag",value:function(){confirm("Delete Tag “".concat(this.tag.label,"”?\nThis action cannot be undone."))&&(this.deleteTag(this.tag.label),this.reload())}},{key:"status",get:function(){var t=this,e=this.dnsearch.tags.filter((function(e){return e[0]===t.tag.label&&(void 0===e[1]||""===e[1])&&(void 0===e[2]||""===e[2])})).map((function(t){return t[0]})),a=this.dnsearch.nottags.filter((function(e){return e[0]===t.tag.label&&(void 0===e[1]||""===e[1])&&(void 0===e[2]||""===e[2])})).map((function(t){return t[0]})),r=this.dnsearch.tags.filter((function(e){return e[0]===t.tag.label})).map((function(t){return t[3]=!0,t})),n=this.dnsearch.nottags.filter((function(e){return e[0]===t.tag.label})).map((function(t){return t[3]=!1,t}));return[e,a,r.concat(n)]}}]),e}(m["d"]);Object(p["a"])([Object(m["b"])()],wt.prototype,"reload",void 0),Object(p["a"])([Object(m["b"])()],wt.prototype,"getDocuments",void 0),Object(p["a"])([Object(m["b"])()],wt.prototype,"error",void 0),Object(p["a"])([Object(m["b"])()],wt.prototype,"deleteTag",void 0),Object(p["a"])([Object(m["b"])()],wt.prototype,"currentserver",void 0),Object(p["a"])([Object(m["b"])()],wt.prototype,"tag",void 0),Object(p["a"])([Object(m["c"])("search")],wt.prototype,"dnsearch",void 0),wt=Object(p["a"])([Object(m["a"])({components:{RangeInput:_t}})],wt);var Ot=wt,jt=Ot,Ct=(a("d7dd"),Object(O["a"])(jt,vt,pt,!1,null,"0b28df70",null)),Dt=Ct.exports;C()(Ct,{VBtn:D["a"],VCard:V["a"],VDivider:$["a"],VIcon:L["a"],VSpacer:Y["a"]});var Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.show,scrollable:"",fullscreen:""}},[a("v-card",{attrs:{tile:""}},[a("v-toolbar",{staticStyle:{flex:"0"},attrs:{dark:"",color:"primary",flat:"","elevate-on-scroll":""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.show=!1}}},[a("v-icon",[t._v("mdi-close")])],1),a("v-toolbar-title",[t._v(t._s(t.meta.title||t.meta.identifier))]),a("v-spacer"),a("v-btn",{attrs:{icon:t.$vuetify.breakpoint.smAndDown,text:"",dark:""},on:{click:function(e){return t.openDocument(t.meta.identifier)}}},[a("v-icon",{attrs:{left:!t.$vuetify.breakpoint.smAndDown}},[t._v("mdi-open-in-new")]),a("span",{attrs:{hidden:t.$vuetify.breakpoint.smAndDown}},[t._v("Open in new tab")])],1),a("v-btn",{attrs:{icon:t.$vuetify.breakpoint.smAndDown,text:"",dark:"",color:"red accent-1"},on:{click:function(e){return t.deleteDocument(t.meta.identifier)}}},[a("v-icon",{attrs:{left:!t.$vuetify.breakpoint.smAndDown}},[t._v("mdi-delete")]),a("span",{attrs:{hidden:t.$vuetify.breakpoint.smAndDown}},[t._v("Delete this document")])],1)],1),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"5"}},[a("v-card-title",{staticClass:"px-0 text--primary"},[t._v(" Metadata ")]),a("v-card-subtitle",{staticClass:"px-0 mb-6"},[a("kbd",[t._v(t._s(t.docMeta.identifier))])]),a("v-text-field",{attrs:{outlined:"",label:"Title"},on:{change:t.updateTitle},model:{value:t.meta.title,callback:function(e){t.$set(t.meta,"title",e)},expression:"meta.title"}}),a("v-chip-group",{staticClass:"mb-8",attrs:{column:""}},[a("tag-adder",{attrs:{meta:t.meta,server:t.server},on:{"update:meta":function(e){return t.$emit("update:docMeta",e)}}}),t._l(t.meta.tags,(function(e){return a("v-chip",{key:e.label+(e.parameter?e.parameter.value:""),attrs:{label:""}},[".."===e.label?a("v-icon",[t._v("mdi-sync")]):a("span",[t._v(t._s(e.label))]),e.parameter?a("v-divider",{staticClass:"mx-3",attrs:{vertical:""}}):t._e(),e.parameter?a("strong",[t._v(t._s("http://www.w3.org/2001/XMLSchema#decimal"===e.parameter.type?e.parameter.value:t.calculateDatestamp(e.parameter.value)))]):t._e()],1)}))],2),a("comments-list",{attrs:{server:t.server,meta:t.meta},on:{"update:meta":function(e){return t.$emit("update:docMeta",e)}}})],1),a("v-col",{attrs:{cols:"12",md:"7"}},[a("v-toolbar",{staticClass:"tools",attrs:{fdense:""}},[a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:t.scaleDown}},[a("v-icon",[t._v("mdi-magnify-minus-outline")])],1),t.$vuetify.breakpoint.smAndUp?a("v-text-field",{staticClass:"narrow",attrs:{"hide-details":"",dense:"","single-line":"",outlined:"",value:t.getScale(),clearable:"",suffix:"%",type:"number",step:"10"},on:{input:t.setScale,"click:clear":t.scaleOff}}):t._e(),t.$vuetify.breakpoint.xs?a("v-btn",{attrs:{icon:""},on:{click:t.scaleOff}},[t._v(" 1:1 ")]):t._e(),a("v-btn",{attrs:{icon:""},on:{click:t.scaleUp}},[a("v-icon",[t._v("mdi-magnify-plus-outline")])],1),a("v-spacer"),t._v(" "+t._s(t.numPages)+" Pages "),a("v-progress-linear",{attrs:{active:t.loading,indeterminate:"",absolute:"",bottom:""}})],1),a("div",{staticClass:"pdf-wrap"},t._l(t.numPages,(function(e){return a("pdf",{key:e,class:t.resize?"pdf":"pdf center",attrs:{src:t.pdfsrc(),id:e,page:e,scale:t.scale,resize:t.resize,annotation:""},on:{"update:scale":function(e){t.scale=e},loading:t.loadingChange}})})),1)],1)],1)],1)],1)],1)},Tt=[],St=(a("b680"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{fullscreen:t.$vuetify.breakpoint.smAndDown,persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-chip",t._g({attrs:{color:"primary",label:""}},r),[a("v-icon",{attrs:{left:""}},[t._v("mdi-pencil")]),a("strong",[t._v("EDIT TAGS")])],1)]}}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Manage Tags")]),a("v-card-subtitle",[t._v(" "+t._s(t.docMeta.title)+" "),a("kbd",{staticClass:"mx-2"},[t._v(t._s(t.docMeta.identifier))])]),a("v-card-text",[t._v(" Has: "),a("v-chip-group",{attrs:{column:""}},t._l(t.docMeta.tags,(function(e){return a("v-chip",{key:e.label+(e.parameter?e.parameter.value:""),attrs:{label:"",close:""},on:{"click:close":function(a){return t.removeTag(e.label)}}},[".."===e.label?a("v-icon",[t._v("mdi-sync")]):a("span",[t._v(t._s(e.label))]),e.parameter?a("v-divider",{staticClass:"mx-3",attrs:{vertical:""}}):t._e(),e.parameter?a("strong",[t._v(t._s("http://www.w3.org/2001/XMLSchema#decimal"===e.parameter.type?e.parameter.value:t.calculateDatestamp(e.parameter.value)))]):t._e()],1)})),1),t._v(" Avaliable: "),a("v-chip-group",{attrs:{column:""}},t._l(t.allTags,(function(e){return a("v-chip",{key:e.label,attrs:{label:""},on:{click:function(a){t.label=e.label}}},[e.parameter?a("v-icon",{staticClass:"mr-3",attrs:{small:""}},[t._v(t._s("http://www.w3.org/2001/XMLSchema#decimal"===e.parameter.type?"mdi-pound":"mdi-calendar"))]):t._e(),".."===e.label?a("v-icon",[t._v("mdi-sync")]):a("span",[t._v(t._s(e.label))])],1)})),1),a("v-divider",{staticClass:"mt-2 mb-3"}),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{outlined:"",rules:t.labelRules,label:"Label",required:""},model:{value:t.label,callback:function(e){t.label=e},expression:"label"}})],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{outlined:"",rules:t.valRules,label:"Value",required:"",disabled:"simple"===this.type,messages:"simple"===this.type?"Value will be ignored for simple tags":""},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1),a("v-row",[a("v-col",{staticClass:"mt-0",attrs:{cols:"12"}},[a("v-radio-group",{staticClass:"mt-0",attrs:{disabled:t.fixed},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[a("v-radio",{attrs:{value:"simple"},scopedSlots:t._u([{key:"label",fn:function(){return[a("v-icon",{attrs:{small:"",left:""}},[t._v("mdi-tag")]),t._v(" Not parameterizable ")]},proxy:!0}])}),a("v-radio",{attrs:{value:"decimal"},scopedSlots:t._u([{key:"label",fn:function(){return[a("v-icon",{attrs:{small:"",left:""}},[t._v("mdi-pound")]),t._v(" Parameterizable with number / decimal ")]},proxy:!0}])}),a("v-radio",{attrs:{value:"date"},scopedSlots:t._u([{key:"label",fn:function(){return[a("v-icon",{attrs:{small:"",left:""}},[t._v("mdi-calendar")]),t._v(" Parameterizable with date ")]},proxy:!0}])})],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"secondary",text:""},on:{click:t.clear}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"primary"},on:{click:t.save}},[t._v("Add")])],1)],1)],1)}),Mt=[],$t=(a("7db0"),a("c7cd"),a("96cf"),a("1da1")),Pt=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(u["a"])(this,Object(d["a"])(e).apply(this,arguments)),t.allTags=[],t.show=!1,t.valid=!1,t.label="",t.type="simple",t.value="",t.fixed=!1,t.labelRules=[function(t){return!!t||"Label is required"},function(t){return!/\s|\/|\\|#|"|'|,|;|:|\?/.test(t)||"The label must not contain any of the following: whitespace / \\ # \" ' , ; : ?"},function(t){return!/^[.]{1,2}$/.test(t)||"The label must not equal . (single dot) or .. (double dot)"}],t.valRules=[function(e){return"decimal"===t.getType()&&!isNaN(+e)||"decimal"!==t.getType()||"Must be a number"},function(e){return"date"===t.getType()&&/^\d{4}-\d{2}-\d{2}$/.test(e)&&!isNaN(new Date(e).getTime())||"date"!==t.getType()||"Must be a date of format YYYY-MM-DD"}],t}return Object(v["a"])(e,t),Object(c["a"])(e,[{key:"change",value:function(t){var e=this.allTags.find((function(e){return e.label===t}));e?(this.fixed=!0,this.type=e.parameter?"http://www.w3.org/2001/XMLSchema#decimal"===e.parameter.type?"decimal":"date":"simple"):this.fixed=!1}},{key:"getType",value:function(){return this.type}},{key:"clear",value:function(){this.show=!1,this.label="",this.type="simple",this.$refs.form.resetValidation()}},{key:"save",value:function(){var t=Object($t["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.valid=this.$refs.form.validate(),!this.valid){t.next=18;break}return t.next=4,this.reloadTags();case 4:if(-1===(this.docMeta.tags||[]).findIndex((function(t){return t.label===e.label}))){t.next=9;break}return alert("Tag has already been added to the document"),t.abrupt("return");case 9:if(-1!==this.allTags.findIndex((function(t){return t.label===e.label}))){t.next=17;break}if(!confirm("This tag doesn’t exist yet. Do you want to create it?")){t.next=15;break}return t.next=13,this.server().createTag(this.label,"simple"!==this.type?this.type:void 0).then((function(t){"error"in t&&console.error(t)}));case 13:t.next=17;break;case 15:return this.reload(),t.abrupt("return");case 17:this.server().addTag(this.docMeta.identifier,this.label,"simple"!==this.type?this.type:void 0,"simple"!==this.type?this.value:void 0).then((function(t){t.error?(e.$emit("error",t),e.reload()):(e.$emit("tagadded"),e.reload(),e.$refs.form.reset())}));case 18:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"removeTag",value:function(t){confirm('Do you want to remove tag "'.concat(t,'" from the Document?\nThis Action cannot be undone'))&&this.server().removeTag(this.docMeta.identifier,t).then(this.reload)}},{key:"calculateDatestamp",value:function(t){var e=new Date(t),a=e.getFullYear().toString().padStart(4,"0"),r=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getDate().toString().padStart(2,"0"),i=new Date,o=Math.floor((i.getTime()-e.getTime())/864e5);switch(o){case 0:return"Today";case 1:return"Yesterday";default:return"".concat(a,"-").concat(r,"-").concat(n)}}},{key:"reloadTags",value:function(){var t=this;return this.server().getTags().then((function(e){"error"in e||(t.allTags=e.filter((function(e){return-1===(t.docMeta.tags||[]).findIndex((function(t){return t.label===e.label}))})))}))}},{key:"reload",value:function(){var t=this;this.server().getMeta(this.docMeta.identifier).then((function(e){"error"in e||t.$emit("update:meta",Object(s["a"])({},e,{identifier:t.docMeta.identifier}))})).then((function(){t.reloadTags()}))}},{key:"created",value:function(){this.reload()}}]),e}(m["d"]);Object(p["a"])([Object(m["b"])()],Pt.prototype,"server",void 0),Object(p["a"])([Object(m["c"])("meta")],Pt.prototype,"docMeta",void 0),Object(p["a"])([Object(m["e"])("label")],Pt.prototype,"change",null),Pt=Object(p["a"])([Object(m["a"])({})],Pt);var At=Pt,It=At,Rt=a("cc20"),Ft=a("ef9a"),Lt=Object(O["a"])(It,St,Mt,!1,null,null,null),Et=Lt.exports;C()(Lt,{VBtn:D["a"],VCard:V["a"],VCardActions:T["a"],VCardSubtitle:T["b"],VCardText:T["c"],VCardTitle:T["d"],VChip:Rt["a"],VChipGroup:Ft["a"],VCol:S["a"],VContainer:st["a"],VDialog:M["a"],VDivider:$["a"],VForm:F["a"],VIcon:L["a"],VRadio:lt["a"],VRadioGroup:ct["a"],VRow:N["a"],VSpacer:Y["a"],VTextField:q["a"]});var Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-3"},[a("v-card",{attrs:{outlined:"",loading:t.loading}},[t.loading?a("v-card-text",[t._v(" Loading Comments ")]):t.meta.comments&&0!==t.meta.comments.length?t._e():a("v-card-text",[t._v(" No Comments found ")]),t._l(t.meta.comments,(function(e,r){return a("div",{key:e.created},[0!==r?a("v-divider"):t._e(),a("v-card-text",[a("span",{staticStyle:{"white-space":"pre"}},[t._v(t._s(e.text))]),a("code",{staticClass:"ml-2"},[t._v(t._s(e.created.replace("T"," ").replace(/:\d{2}\.\d{1,3}/," ").replace("Z","UTC")))])])],1)}))],2),a("v-form",{ref:"form",staticClass:"d-flex pt-3 align-stretch",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-textarea",{attrs:{outlined:"",rules:t.commentRules,label:"New Comment",required:"",rows:"1","auto-grow":""},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}}),a("v-btn",{staticClass:"ml-1",staticStyle:{height:"unset","margin-bottom":"30px"},attrs:{outlined:""},on:{click:t.add}},[t._v(" Add ")])],1)],1)},zt=[],Nt=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(u["a"])(this,Object(d["a"])(e).apply(this,arguments)),t.allTags=[],t.loading=!0,t.comment="",t.valid=!1,t.commentRules=[function(t){return!!t||"Can’t make empty comments"}],t}return Object(v["a"])(e,t),Object(c["a"])(e,[{key:"add",value:function(){var t=Object($t["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.valid=this.$refs.form.validate(),this.valid&&this.server().addComment(this.docMeta.identifier,this.comment).then((function(){e.$refs.form.reset(),e.reload()}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"calculateDatestamp",value:function(t){var e=new Date(t),a=e.getFullYear().toString().padStart(4,"0"),r=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getDate().toString().padStart(2,"0"),i=new Date,o=Math.floor((i.getTime()-e.getTime())/864e5);switch(o){case 0:return"Today";case 1:return"Yesterday";default:return"".concat(a,"-").concat(r,"-").concat(n)}}},{key:"reload",value:function(){var t=this;this.server().getMeta(this.docMeta.identifier).then((function(e){t.loading=!1,"error"in e||t.$emit("update:meta",Object(s["a"])({},e,{identifier:t.docMeta.identifier}))}))}},{key:"created",value:function(){this.reload()}}]),e}(m["d"]);Object(p["a"])([Object(m["b"])()],Nt.prototype,"server",void 0),Object(p["a"])([Object(m["c"])("meta")],Nt.prototype,"docMeta",void 0),Nt=Object(p["a"])([Object(m["a"])({})],Nt);var Yt=Nt,qt=Yt,Wt=a("a844"),Bt=Object(O["a"])(qt,Ut,zt,!1,null,null,null),Gt=Bt.exports;C()(Bt,{VBtn:D["a"],VCard:V["a"],VCardText:T["c"],VDivider:$["a"],VForm:F["a"],VTextarea:Wt["a"]});var Ht=a("10ee"),Xt=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(u["a"])(this,Object(d["a"])(e).apply(this,arguments)),t.opened=!1,t.console=console,t.page=1,t.numPages=0,t.pdfdata=void 0,t.errors=[],t.scale="page-width",t.loading=!0,t.resize=!0,t}return Object(v["a"])(e,t),Object(c["a"])(e,[{key:"openFirstTime",value:function(){this.opened||(this.opened=!0,this.getPdf(),this.getComments())}},{key:"pdfsrc",value:function(){return{url:(this.server().url.startsWith("https://")||this.server().url.startsWith("http://")?this.server().url:"https://"+this.server().url)+"/doc/"+this.meta.identifier,httpHeaders:{Authorization:this.server().headers.get("Authorization")}}}},{key:"calculateDatestamp",value:function(t){var e=new Date(t),a=e.getFullYear().toString().padStart(4,"0"),r=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getDate().toString().padStart(2,"0"),i=new Date,o=Math.floor((i.getTime()-e.getTime())/864e5);switch(o){case 0:return"Today";case 1:return"Yesterday";default:return"".concat(a,"-").concat(r,"-").concat(n)}}},{key:"openDocument",value:function(t){var e=this.server().url.startsWith("https://")||this.server().url.startsWith("http://")?this.server().url:"https://"+this.server().url;window.open(e+"/doc/"+t,"_blank")}},{key:"deleteDocument",value:function(t){var e=this;if(confirm("Are you sure you want to delete this Document?")){this.show=!1;var a=this.server();a&&a.deleteDocument(t).then((function(t){"error"in t?e.err=Object(s["a"])({title:t.error,message:t.message},t):e.$emit("change")}))}}},{key:"updateTitle",value:function(){var t=this.server();t&&t.setDocumentTitle(this.meta.identifier,this.meta.title||"")}},{key:"loadingChange",value:function(t){if(this.loading=t,!t||t)for(var e=document.getElementsByTagName("canvas"),a=0;a<e.length;a++)e[a].classList.add("elevation-4")}},{key:"scaleDown",value:function(){this.resize=!1,this.scale=parseFloat(""+this.scale),this.scale>.1?this.scale=(this.scale-.1).toFixed(1):this.scale=.1}},{key:"scaleUp",value:function(){this.resize=!1,this.scale=parseFloat(""+this.scale),this.scale<1.9?this.scale=(this.scale+.1).toFixed(1):this.scale=2}},{key:"scaleOff",value:function(){this.scale="page-width",this.resize=!0}},{key:"getScale",value:function(){return parseInt(""+100*+this.scale)}},{key:"setScale",value:function(t){this.scale=t/100}},{key:"getPdf",value:function(){var t=this,e=(this.server().url.startsWith("https://")||this.server().url.startsWith("http://")?this.server().url:"https://"+this.server().url)+"/doc/"+this.meta.identifier;this.pdfdata=Ht["a"].createLoadingTask({url:e,httpHeaders:{Authorization:this.server().headers.get("Authorization")}}),this.pdfdata.then((function(e){t.numPages=e.numPages}))}},{key:"getComments",value:function(){}}]),e}(m["d"]);Object(p["a"])([Object(m["b"])()],Xt.prototype,"server",void 0),Object(p["a"])([Object(m["c"])("docMeta")],Xt.prototype,"meta",void 0),Object(p["a"])([Object(m["c"])("error")],Xt.prototype,"err",void 0),Object(p["a"])([Object(m["c"])("open")],Xt.prototype,"show",void 0),Object(p["a"])([Object(m["e"])("show")],Xt.prototype,"openFirstTime",null),Xt=Object(p["a"])([Object(m["a"])({components:{pdf:Ht["a"],TagAdder:Et,CommentsList:Gt}})],Xt);var Jt=Xt,Kt=Jt,Zt=(a("b14c"),a("8e36")),Qt=Object(O["a"])(Kt,Vt,Tt,!1,null,null,null),te=Qt.exports;C()(Qt,{VBtn:D["a"],VCard:V["a"],VCardSubtitle:T["b"],VCardText:T["c"],VCardTitle:T["d"],VChip:Rt["a"],VChipGroup:Ft["a"],VCol:S["a"],VDialog:M["a"],VDivider:$["a"],VIcon:L["a"],VProgressLinear:Zt["a"],VRow:N["a"],VSpacer:Y["a"],VTextField:q["a"],VToolbar:W["a"],VToolbarTitle:B["b"]});var ee=a("3022"),ae=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(u["a"])(this,Object(d["a"])(e).apply(this,arguments)),t.error=null,t.console=console,t.inspect=ee["inspect"],t.servers=[],t._current=0,t.search={text:"",tags:[],nottags:[]},t.drawer=null,t.navItems=[{text:"More",model:!1,children:[{icon:"mdi-package-down",text:"Export",disabled:!0},{icon:"mdi-github",text:"Code on GitHub",href:"https://github.com/tridoc/tridoc-cockpit"},{icon:"mdi-help-circle",text:"Help",disabled:!0}]}],t.docs=[],t.open="",t.count=0,t.headers=[{text:"Title",value:"title"},{text:"Tags",value:"tags"},{text:"Created",value:"created",align:"end"},{text:"",value:"actions",width:1}],t.loading=!0,t.options={page:1,itemsPerPage:10},t.uploadDocs=[],t.uploadHeaders=[{text:"Name",value:"file.name"},{text:"",value:"actions",width:1}],t.tags=[],t}return Object(v["a"])(e,t),Object(c["a"])(e,[{key:"current",value:function(){return this._current>=this.servers.length&&(this._current=this.servers.length-1),this._current}},{key:"setCurrent",value:function(t){this._current=t}},{key:"currentserver",value:function(){return 0===this.servers.length?null:this.servers[this.current()].server}},{key:"clearTags",value:function(){this.search.tags=[],this.search.nottags=[],this.getDocuments()}},{key:"clearSearch",value:function(){this.search.tags=[],this.search.nottags=[],this.search.text="",this.getDocuments()}},{key:"paginationFirst",value:function(){this.options.page=1,this.getDocuments()}},{key:"paginationPrev",value:function(){this.options.page-=1,this.getDocuments()}},{key:"paginationNext",value:function(){this.options.page+=1,this.getDocuments()}},{key:"paginationLast",value:function(){this.options.page=Math.ceil(this.count/this.options.itemsPerPage),this.$nextTick().then(this.getDocuments)}},{key:"docscounter",value:function(){return"".concat(Math.min((this.options.page-1)*this.options.itemsPerPage+1,this.count),"—").concat(Math.min(this.options.page*this.options.itemsPerPage,this.count)," of ").concat(this.count)}},{key:"pagecounter",value:function(){return"".concat(this.options.page," of ").concat(Math.ceil(this.count/this.options.itemsPerPage))}},{key:"openDocument",value:function(t){var e=this.servers[this.current()].url.startsWith("https://")||this.servers[this.current()].url.startsWith("http://")?this.servers[this.current()].url:"https://"+this.servers[this.current()].url;window.open(e+"/doc/"+t,"_blank")}},{key:"calculateTimestamp",value:function(t){var e=new Date(t),a=e.getFullYear().toString().padStart(4,"0"),r=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getDate().toString().padStart(2,"0"),i=e.getHours().toString().padStart(2,"0"),o=e.getMinutes().toString().padStart(2,"0"),s=new Date,l=Math.floor((s.getTime()-e.getTime())/864e5);switch(l){case 0:return"Today ".concat(i,":").concat(o);case 1:return"Yesterday ".concat(i,":").concat(o);default:return"".concat(a,"-").concat(r,"-").concat(n," ").concat(i,":").concat(o)}}},{key:"calculateDatestamp",value:function(t){var e=new Date(t),a=e.getFullYear().toString().padStart(4,"0"),r=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getDate().toString().padStart(2,"0"),i=new Date,o=Math.floor((i.getTime()-e.getTime())/864e5);switch(o){case 0:return"Today";case 1:return"Yesterday";default:return"".concat(a,"-").concat(r,"-").concat(n)}}},{key:"getDocuments",value:function(){var t=this;this.loading=!0;var e,a,r=this.currentserver();r&&(r.countDocuments(this.search.text,this.search.tags,this.search.nottags).then((function(e){"number"===typeof e?(t.count=e,t.options.page=Math.min(t.options.page,Math.ceil(t.count/t.options.itemsPerPage)),0===e&&(t.loading=!1)):t.error=Object(s["a"])({},e)})),this.options.itemsPerPage>0&&(e=this.options.itemsPerPage,a=(this.options.page-1)*e),r.getDocuments(this.search.text,this.search.tags,this.search.nottags,e,a).then((function(e){"error"in e?t.error=Object(s["a"])({},e):(t.docs=e.map((function(t){var e=t.identifier,a=t.title,r=t.created;return a=a||"",{identifier:e,title:a,created:r,tags:[{label:".."}]}})),t.docs.forEach((function(e){r.getTags(e.identifier).then((function(a){"error"in a?t.error=Object(s["a"])({title:a.error},a):e.tags=a,t.loading=!1}))})))})))}},{key:"updateDoc",value:function(t){this.docs.splice(this.docs.findIndex((function(e){return e.identifier===t.identifier})),1,t)}},{key:"addFile",value:function(t){var e,a=this,r=null===(e=t.dataTransfer)||void 0===e?void 0:e.files;r&&Object(o["a"])(r).forEach((function(t){"application/pdf"===t.type&&a.uploadDocs.push({loading:!1,file:t})}))}},{key:"addFileInput",value:function(t){var e=this,a=t.target.files;a&&(Object(o["a"])(a).forEach((function(t){"application/pdf"===t.type&&e.uploadDocs.push({loading:!1,file:t})})),t.target.value="",t.target.files=null)}},{key:"uploadAll",value:function(){this.uploadDocs.forEach(this.uploadDocument)}},{key:"uploadDocument",value:function(t){var e=this,a=this.currentserver();a&&(t.loading=!0,a.uploadFile(t.file).then((function(r){"error"in r?e.error={title:"Could upload document",message:r.error}:a.setDocumentTitle(r.location.substring(r.location.lastIndexOf("/")+1),t.file.name.replace(/\.pdf$/,"")).then((function(a){"string"!==typeof a&&a.error&&(e.error={title:"Could not set title",message:a.error}),e.reload(),e.removeUploadDocument(t)}))}),(function(t){e.error={title:t.error||t,message:t.message||t}})).finally((function(){t.loading=!1})))}},{key:"removeUploadDocument",value:function(t){this.uploadDocs=this.uploadDocs.filter((function(e){return e!==t}))}},{key:"deleteTag",value:function(t){var e=this,a=this.currentserver();a&&a.deleteTag(t).then((function(t){t.error?e.error=Object(s["a"])({message:t.error},t):e.reload()}))}},{key:"serverchange",value:function(t){var e=t.index,a=t.url,r=t.password;this.servers[e]={url:a,password:r,server:new h.a(a,"tridoc",r)},this.setCurrent(e),this.store(),this.reload()}},{key:"serverremove",value:function(t){this.servers.splice(t,1),this.store(),this.reload()}},{key:"reload",value:function(){var t=this;this.reset(),this.getDocuments();var e=this.currentserver();e&&e.getTags().then((function(e){"error"in e?t.error=Object(s["a"])({title:e.error,message:e.message},e):(t.tags=e.map((function(t){var e={icon:"mdi-tag",label:t.label,"type-icon":""};if(t.parameter)switch(t.parameter.type){case"http://www.w3.org/2001/XMLSchema#decimal":e["type-icon"]="mdi-pound";break;case"http://www.w3.org/2001/XMLSchema#date":e["type-icon"]="mdi-calendar";break;default:break}return e})),t.tags.sort((function(t,e){var a=t.label.toUpperCase(),r=e.label.toUpperCase();return a<r?-1:a>r?1:0})))}),(function(e){e instanceof Error?t.error={title:"A "+e.name+" occurred",message:e.message}:t.error=Object(s["a"])({message:e},e)}))}},{key:"reset",value:function(){this.tags=[],this.docs=[]}},{key:"restore",value:function(){var t=JSON.parse(localStorage.getItem("servers")||""),e=parseInt(localStorage.getItem("currentserver")||"0");t&&(this.servers=t.map((function(t){var e=t.password,a=t.url;return{password:e,url:a,server:new h.a(a,"tridoc",e)}}))),this.setCurrent(e);var a=localStorage.getItem("server"),r=localStorage.getItem("password");a&&r&&this.servers.push({password:r,url:a,server:new h.a(a,"tridoc",r)})}},{key:"store",value:function(){localStorage.setItem("currentserver",this.current().toString()),localStorage.setItem("servers",JSON.stringify(this.servers.map((function(t){var e=t.password,a=t.url;return{password:e,url:a}}))))}},{key:"created",value:function(){this.restore(),this.reload()}},{key:"onError",value:function(t){var e=t.title,a=t.message;this.error={title:e,message:a}}}]),e}(m["d"]);ae=Object(p["a"])([Object(m["a"])({components:{SettingsDialog:H,ErrorDialog:et,TagCreator:dt,TagFilter:Dt,DocumentDetails:te}})],ae);var re=ae,ne=re,ie=(a("b04a"),a("5c64"),a("7496")),oe=a("40dc"),se=a("5bc1"),le=a("a75b"),ce=a("8fea"),ue=a("8860"),de=a("56b0"),ve=a("1800"),pe=a("1baa"),me=a("f774"),fe=a("e0c7"),he=Object(O["a"])(ne,n,i,!1,null,"b51e8936",null),be=he.exports;C()(he,{VApp:ie["a"],VAppBar:oe["a"],VAppBarNavIcon:se["a"],VBtn:D["a"],VCard:V["a"],VChip:Rt["a"],VChipGroup:Ft["a"],VCol:S["a"],VContainer:st["a"],VContent:le["a"],VDataTable:ce["a"],VDivider:$["a"],VIcon:L["a"],VList:ue["a"],VListGroup:de["a"],VListItem:E["a"],VListItemAction:ve["a"],VListItemContent:U["a"],VListItemGroup:pe["a"],VListItemSubtitle:U["b"],VListItemTitle:U["c"],VNavigationDrawer:me["a"],VRow:N["a"],VSpacer:Y["a"],VSubheader:fe["a"],VTextField:q["a"],VToolbarTitle:B["b"]});var ge=a("f309"),ye=a("fcf4");r["a"].use(ge["a"]);var ke=new ge["a"]({theme:{themes:{light:{primary:"#00685b",secondary:"#c86852",accent:"#f86158",error:ye["a"].red.base},dark:{primary:{base:"#00887b",darken1:"#00887b"},secondary:{base:"#ec8d79",darken1:"#ffb39b"},accent:"#f86158",error:ye["a"].red.base}}}});r["a"].config.productionTip=!1,new r["a"]({vuetify:ke,render:function(t){return t(be)}}).$mount("#app")},d7dd:function(t,e,a){"use strict";var r=a("ad26"),n=a.n(r);n.a},dfa5:function(t,e,a){}});
//# sourceMappingURL=app.b1440d6a.js.map